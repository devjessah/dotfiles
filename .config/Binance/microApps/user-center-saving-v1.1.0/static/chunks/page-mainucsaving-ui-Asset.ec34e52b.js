(self["webpackJsonp_user-center-saving"]=self["webpackJsonp_user-center-saving"]||[]).push([[82],{GQ7d:(e,t,n)=>{"use strict";n.d(t,{mW:()=>o,fP:()=>l,aY:()=>s,MA:()=>c,cD:()=>d,RM:()=>u,GM:()=>p});var i=n("vM3x"),a=n.n(i),r=function(e){return"NaN"===new(a())(e).toString()},o=function(e,t,n,i,o){return void 0===t&&(t=2),void 0===n&&(n=!1),void 0===i&&(i=""),void 0===o&&(o=1),r(e)||n?"--":""+new(a())(e).times(100).dp(t,o)+i},l=function(e,t,n,i,o){return void 0===t&&(t=2),void 0===n&&(n=!1),void 0===i&&(i=""),void 0===o&&(o=1),r(e)||n?"--":""+new(a())(e).times(100).toFormat(t,o)+i},s=function(e,t,n,i,o){return void 0===t&&(t=2),void 0===n&&(n=!1),void 0===i&&(i=""),void 0===o&&(o=1),r(e)||n?"--":""+new(a())(e).toFormat(t,o)+i},c=function(e,t,n,i,o){return void 0===t&&(t=2),void 0===n&&(n=!1),void 0===i&&(i=""),void 0===o&&(o=1),r(e)||n?"--":""+new(a())(e).dp(t,o).toFormat()+i},d=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=""),r(e)||t?"--":""+new(a())(e).toFormat(new(a())(e).dp())+n};function u(e){return new(a())(e)}var p=function(e,t){return new(a())(e).gt(t)}},"0Ocv":e=>{e.exports=function(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(a);++i<a;)r[i]=e[i+t];return r}},RBiB:(e,t,n)=>{var i=n("0Ocv"),a=n("R5u7"),r=n("m2YG"),o=Math.ceil,l=Math.max;e.exports=function(e,t,n){t=(n?a(e,t,n):void 0===t)?1:l(r(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var c=0,d=0,u=Array(o(s/t));c<s;)u[d++]=i(e,c,c+=t);return u}},fWyh:(e,t,n)=>{var i=n("nvU9"),a=1/0;e.exports=function(e){return e?(e=i(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},m2YG:(e,t,n)=>{var i=n("fWyh");e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},PCr8:(e,t,n)=>{"use strict";n.d(t,{gW:()=>D,ER:()=>N});var i=n("5vwO"),a=n("Tbvg");const{DEFI_STAKING:r,STAKING:o}=a.Vp,{DAILY:l,REGULAR:s,CUSTOMIZED_FIXED:c,EXPERIENCE_COUPON:d,TRANSFER_IN:u,TRANSFER_OUT:p}=a.Nw,{SUBSCRIPTION:x,REDEMPTION:g,INTEREST:m}=a.Y6,{STAKE:h,DISTRIBUTION:b}=a._p,{CLAIM:f,CONVERT:y}=a.KY,{HOLDING:v,SETTLED:T}=a.I3,{VOTE:I,AIRDROP:S}=a.b_,E={[a.yD]:a.SL,[l]:"lending-DAILY",[s]:"lending-tab-activity",[c]:"lending-REGULAR",[d]:"lending-tab-exp",[u]:"lending-launchPoolTransferIn",[p]:"lending-launchPoolTransferOut"},w={[x]:"lending-Subscription",[g]:"lending-Redemption",[m]:"lending-Interest"},C={[v]:"Subscribed",[T]:"Settled"},A={[o]:"lending-pos",[r]:"lending-defi-staking"},F={[h]:"lending-stake",[b]:"lending-distribution"},k={[S]:"lending-binance-reward",[I]:"lending-total-rewards"},D=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({[f]:"lending-claim",[y]:"lending-convert"},E),A),w),F),C),k),N={[a.bq.SAVINGS]:"lending-export-savings-history-title",[a.bq.POS]:"lending-export-staking-history-title",[a.bq.ETH2]:"lending-export-eth-staking-history-title",[a.bq.DUAL]:"lending-export-dual-history-title",[a.bq.AUTO_INVEST]:"lending-export-auto-invest-history-title",[a.bq.DOT]:"lending-export-DOT-slot-auction-history-title",[a.bq.LAUNCHPOOL]:"lending-export-launchpool-history-title"}},e3lq:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var i=n("5vwO"),a=n("GpFh"),r=n("/SIk"),o=n("+SMd");const l=["lending-ui","exchange-duocoin"],s=()=>{const e=(0,o.useTranslation)(l),{t:t}=e,n=(0,a.Z)(e,["t"]),s=(0,r.useCallback)(((e,n)=>{const i=l.find((n=>t(`${n}:${e}`)!==e));return i?t(`${i}:${e}`,n):`${e}`||""}),[t]);return(0,i.Z)((0,i.Z)({},n),{},{t:s})}},iaFo:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});const i={STAKING_UNION_SUB:"/bapi/earn/v1/private/pos/union/getUserPurchaseRecord",STAKING_UNION_RDP:"/bapi/earn/v1/private/pos/union/getUserRedemptionRecord",SATKING_UNION_INT:"/bapi/earn/v1/private/pos/union/getUserInterestRecord",DEFI_UNION_SUB:"/bapi/earn/v1/private/defi-pos/union/getUserPurchaseRecord",DEFI_UNION_RDP:"/bapi/earn/v1/private/defi-pos/union/getUserRedemptionRecord",DEFI_UNION_INT:"/bapi/earn/v1/private/defi-pos/union/getUserInterestRecord",DUAL:"/bapi/earn/v1/private/pos/dc/position/user/order",LENDING_UPDATE_AUTO_TRANSFER:"/bapi/earn/v1/private/lending/daily/userAutoConfig/updateUserAutoConfig",AUTO_INVEST_HISTORY:"/bapi/earn/v2/private/lending/autoInvestHistory/list",AUTO_INVEST_WALLET:"/bapi/earn/v1/private/lending/autoInvest/plan/position/list",EDIT_AUTO_INVEST_STATUS:"/bapi/earn/v1/private/lending/autoInvest/plan/editStatus",UPDATE_AUTO_INVEST_PLAN:"/bapi/earn/v1/private/lending/autoInvest/plan/update",USER_FLEXIBLE_BALANCE:"/bapi/earn/v1/private/lending/autoInvest/plan/getDailyPositionByTargetAsset",HISTORY_EXPORT_DOWNLOAD:"/bapi/download/v1/private/earn/download/download-user-history",HISTORY_EXPORT_APPLY_GENERATE:"/bapi/download/v1/private/earn/download/export-user-history",HISTORY_EXPORT_REMAINING_TIMES:"/bapi/download/v1/private/earn/download/export-history-usage",HISTORY_EXPORT_GENERATING_STATUS:"/bapi/download/v1/private/earn/download/export-user-history-list",HISTORY_EXPORT_CAPABILITIES:"/bapi/download/v1/private/earn/download/config",AUTO_INVEST_COIN_LIST:"/bapi/earn/v1/public/lending/autoInvest/getTargetAssetList",POSITION_TOTAL_AMOUNT:"/bapi/earn/v1/private/finance-earn/positionTotalAmount",LAUNCHPOOL_INTEREST:"/bapi/earn/v1/private/finance-earn/launchpool/interest",MINING_INTEREST:"/bapi/earn/v1/private/finance-earn/mining/interest",SHARE_SUMMARY_TOTAL:"/bapi/earn/v1/private/swap-api/shareSummaryTotal",DC_LIST:"/bapi/earn/v2/private/pos/dc/position/purchase/list",POS_YESTERDAY:"/bapi/earn/v1/private/pos/project-position/positionAndYesterdayInterestSummary",DEFI_POS_YESTERDAY:"/bapi/earn/v1/private/pos/union/positionAndYesterdayInterestSummary",DOT_YESTERDAY:"/bapi/earn/v1/private/lending/dot/position/summary",SHARE_SUMMARY_BYPOOL:"/bapi/earn/v2/private/swap-api/shareSummaryByPool",SAVINGS_BALANCE:"/bapi/earn/v1/private/lending/union/positionSummary",LIQUIDITY_CLAIM:"/bapi/earn/v1/private/swap-api/token/claim",LIQUIDITY_UNCLAIM_LIST:"/bapi/earn/v1/private/swap-api/token/unclaim/list",BDOT_CONVERT_HISTORY:"/bapi/earn/v1/private/lending/dot/convert/list"}},YUcX:(e,t,n)=>{"use strict";n.d(t,{Sj:()=>l,wy:()=>s,Xb:()=>c,d$:()=>d,p0:()=>u,At:()=>p});var i=n("3Xst"),a=n("iaFo"),r=n("Rgu1");const o={code:"-1",message:"",messageDetail:"",data:[],success:!1},l=async e=>{let t=o;try{t=await(0,i.post)(a.v.UPDATE_AUTO_INVEST_PLAN,e);const{success:n,code:r}=t;if(!n){if(/20000390[34569]/.test(r))throw new Error;throw t}}catch(n){}return t},s=async e=>{let t=o;try{t=await(0,i.get)(`${a.v.AUTO_INVEST_WALLET}${(0,r.Z)(e)}`)}catch(n){}return t},c=async e=>{let t=o;try{t=await(0,i.get)(`${a.v.AUTO_INVEST_HISTORY}${(0,r.Z)(e)}`)}catch(n){}return t},d=async e=>{let t=o;try{t=await(0,i.post)(a.v.EDIT_AUTO_INVEST_STATUS,e)}catch(n){}return t},u=async e=>{let t=o;try{t=await(0,i.get)(`${a.v.USER_FLEXIBLE_BALANCE}${(0,r.Z)(e)}`)}catch(n){}return t},p=async()=>{let e=o;try{e=await(0,i.get)(a.v.AUTO_INVEST_COIN_LIST)}catch(t){}return e.data}},"/nIs":(e,t,n)=>{"use strict";n.d(t,{wR:()=>v,Gp:()=>T,d$:()=>m.d$,At:()=>m.At,Xb:()=>m.Xb,KS:()=>b,_y:()=>x,lM:()=>u,Cs:()=>d,cJ:()=>c,sr:()=>s,Z8:()=>l,N0:()=>o,IY:()=>g,Cb:()=>I,sI:()=>S,vG:()=>y,CF:()=>f,ej:()=>C,Qm:()=>E,lT:()=>w,U0:()=>A,qX:()=>F});var i=n("3Xst"),a=n("iaFo"),r=n("Rgu1");const o=async e=>await(0,i.get)(`${a.v.STAKING_UNION_SUB}${(0,r.Z)(e)}`),l=async e=>await(0,i.get)(`${a.v.STAKING_UNION_RDP}${(0,r.Z)(e)}`),s=async e=>await(0,i.get)(`${a.v.SATKING_UNION_INT}${(0,r.Z)(e)}`),c=async e=>await(0,i.get)(`${a.v.DEFI_UNION_SUB}${(0,r.Z)(e)}`),d=async e=>await(0,i.get)(`${a.v.DEFI_UNION_RDP}${(0,r.Z)(e)}`),u=async e=>await(0,i.get)(`${a.v.DEFI_UNION_INT}${(0,r.Z)(e)}`);var p=n("5vwO");const x=async e=>{const t=(0,p.Z)((0,p.Z)({},e),{},{beginDate:e.startTime,endDate:e.endTime,startTime:void 0,endTime:void 0});return await(0,i.get)(`${a.v.DUAL}${(0,r.Z)(t)}`)};const g=async e=>{let t={};try{t=await(0,i.post)(a.v.LENDING_UPDATE_AUTO_TRANSFER,e);const{success:n,code:r}=t;if(!n){if(/20000390[34569]/.test(r))throw new Error;throw t}}catch(n){throw function(e){var t,n;const i=new Error(null!==(t=null===(n=e.errorMsg)||void 0===n?void 0:n.message)&&void 0!==t?t:e.message);return i.code=e.code,i}(n)}return t};var m=n("YUcX");const h={code:"-1",message:"",messageDetail:"",data:[],success:!1};const b=async e=>{let t=h;try{t=await(0,i.get)(`${a.v.BDOT_CONVERT_HISTORY}${(0,r.Z)(e)}`)}catch(n){throw function(e){var t,n;const i=new Error(null!==(t=null===(n=e.errorMsg)||void 0===n?void 0:n.message)&&void 0!==t?t:e.message);return i.code=e.code,i}(n)}return t},f=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.POSITION_TOTAL_AMOUNT}`);t&&(e=n)}catch(t){}return e},y=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.POS_YESTERDAY}`);t&&(e=n)}catch(t){}return e},v=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.DEFI_POS_YESTERDAY}`);t&&(e=n)}catch(t){}return e},T=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.DOT_YESTERDAY}`);t&&(e=n)}catch(t){}return e},I=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.LAUNCHPOOL_INTEREST}`);t&&(e=n)}catch(t){}return e},S=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.MINING_INTEREST}`);t&&(e=n)}catch(t){}return e},E=async()=>{let e={};try{const{success:t,data:n}=await(0,i.get)(`${a.v.SHARE_SUMMARY_TOTAL}`);t&&(e=n)}catch(t){}return e},w=async()=>{let e=[];try{e=await(0,i.get)(`${a.v.SHARE_SUMMARY_BYPOOL}`)}catch(t){}return e},C=async()=>{let e=[];try{const{success:t,data:n}=await(0,i.get)(`${a.v.SAVINGS_BALANCE}`);t&&(e=n)}catch(t){}return e},A=async e=>{let t=!1;try{const{success:n}=await(0,i.post)(`${a.v.LIQUIDITY_CLAIM}`,e);t=n}catch(n){}return t},F=async()=>{let e=[];try{const{success:t,data:n}=await(0,i.get)(`${a.v.LIQUIDITY_UNCLAIM_LIST}`);t&&(e=n)}catch(t){}return e}},Rgu1:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=e=>Object.keys(e).reduce(((t,n)=>e[n]?`${t}&${n}=${e[n]}`:t),"").replace(/^&/,"?")},"+TNM":(e,t,n)=>{"use strict";n.d(t,{j9:()=>c,zg:()=>d,cE:()=>u,ZE:()=>p,ZP:()=>x});var i=n("GpFh"),a=n("/SIk"),r=n.n(a),o=n("a9nv"),l=n("jih7"),s=r().createElement;const c=r().memo((({partnerName:e})=>e?s(o.Text,{sx:{display:"inline-flex",alignItems:"center",height:"24px",lineHeight:"24px",fontSize:"12px",color:"t.yellow",background:"#FEF6D8",fontWeight:400,p:"4px 8px",ml:["8px",0],borderRadius:"4px"}},e):null)),d=r().memo((e=>{let{asset:t,text:n,logoUrl:a,asset2:r}=e,c=(0,i.Z)(e,["asset","text","logoUrl","asset2"]);const d=(0,l.OW)(t),u=(0,l.OW)(r);return s(o.Flex,Object.assign({alignItems:"center"},c),s(o.Flex,{width:r?["42px","42px","58px"]:["24px","24px","32px"],height:["24px","24px","32px"],mr:""===n?0:["8px","16px"],alignItems:"center",flex:"0 0 auto"},s(o.Image,{src:a||d,width:["24px","24px","32px"],height:["24px","24px","32px"],flex:"0 0 auto"}),r&&s(o.Image,{src:u,width:["24px","24px","32px"],height:["24px","24px","32px"],flex:"0 0 auto",ml:["-8px","-6px"]})),s(o.Text,{variant:"body1",fontSize:"inherit",lineHeight:"inherit",fontWeight:"inherit",display:"inline"},null!==n&&void 0!==n?n:t))})),u=r().memo((({asset:e,text:t})=>{const n=(0,l.OW)(e);return s(o.Flex,{alignItems:"center"},s(o.Flex,{width:["20px","24px"],height:["20px","24px"],mr:""===t?"4px":["4px","10px"],alignItems:"center",flex:"0 0 auto"},s(o.Image,{src:n,width:["20px","24px"],height:["20px","24px"],flex:"0 0 auto"})),s(o.Text,{variant:"body1",fontSize:"inherit",lineHeight:"inherit",fontWeight:"inherit",display:"inline"},null!==t&&void 0!==t?t:e))})),p=r().memo((({logoUrl:e,asset:t,asset2:n,text:i,partnerName:a,customLogo:d})=>{const u=(0,l.OW)(t),p=(0,l.OW)(n);return s(o.Flex,{alignItems:"center"},d||s(r().Fragment,null,s(o.Image,{src:e||u,width:"24px",height:"24px",mr:"8px",flex:"0 0 auto"}),n&&s(o.Image,{src:p,width:"24px",height:"24px",mr:"8px",flex:"0 0 auto",ml:"-14px"})),s(o.Text,{variant:"subtitle1",fontSize:"16px",lineHeight:"24px",display:"inline"},i||t),a&&s(c,{partnerName:a}))})),x=function({coin:e="",width:t="20px",height:n="20px",sx:i={}}){if(!e)return null;const a=(0,l.OW)(e);return s(o.Flex,{justifyContent:"center",alignItems:"center",width:t,height:n,sx:i},s("img",{width:"100%",src:a,alt:e,title:e}))}},Q0z1:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n("/SIk"),a=n.n(i),r=n("a9nv"),o=n("Tbvg"),l=a().createElement;const s={green:{bg:"tag.greenBg",color:"tag.greenTxt"},red:{bg:"tag.redBg",color:"tag.redTxt"},gray:{bg:"tag.grayBg",color:"tag.grayTxt"},yellow:{bg:"rgba(240, 185, 11, 0.15)",color:"primary"}},{SUCCESS:c,PENDING:d,FAILED:u,GREY:p,CREATED:x,INVESTING:g}=o.y4,m={[c]:s.green,[d]:s.yellow,[u]:s.red,[p]:s.gray,[x]:s.gray,[g]:s.gray},h=({statusCode:e,variant:t,children:n=null})=>l(r.Tag,e?{sx:m[e]}:{sx:s[t||"green"]},n)},d39E:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n("/SIk"),a=n.n(i),r=n("a9nv"),o=a().createElement;const l=e=>o(r.SVG,Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),o("path",{d:"M8 4h8V2H8v2zM13 10v5h-2v-5h2z",fill:"currentColor"}),o("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.891 8.523a8.5 8.5 0 11-1.355-1.473l1.757-1.757 1.414 1.414-1.816 1.816zM18.5 13.5a6.5 6.5 0 10-13 0 6.5 6.5 0 0013 0z",fill:"currentColor"}))},Tbvg:(e,t,n)=>{"use strict";n.d(t,{iD:()=>o,SL:()=>l,yD:()=>s,sk:()=>d,kG:()=>u,_N:()=>p,IV:()=>x,zT:()=>g,yQ:()=>m,en:()=>h,Nw:()=>b,Y6:()=>f,I3:()=>y,b_:()=>v,_p:()=>T,Vp:()=>I,QP:()=>S,KY:()=>E,y4:()=>F,z0:()=>k,S_:()=>D,n0:()=>N,ZY:()=>R,Di:()=>L,xo:()=>O,AH:()=>_,qZ:()=>P,Bi:()=>B,bq:()=>$,ku:()=>U,wj:()=>M,aD:()=>Z,XR:()=>H,Hb:()=>Y,PM:()=>G});var i=n("5BFz"),a=n("Yq0s"),r=n.n(a);const o={PHONE:"@media screen and (max-width: 767px)",TABLET:"@media screen and (max-width: 1023px)",PC:"@media screen and (min-width: 1024px)",horizental:"@media screen and (min-width: 1440px)"},l="lending-all",s="all",c=e=>[+r()().subtract(e,"month").startOf("day"),+r()().endOf("day")],d=!1,u=(c(1),{defaultRangeMonth:1,maxValidRangeMonth:3,errorMessage:"Selected date range cannot exceed 3 months."}),p={coin:null,type:null,date:c(u.defaultRangeMonth),page:1},x=20,g="YYYY-MM-DD",m="YYYY-MM-DD HH:mm",h="YYYY-MM-DD HH:mm:ss",b={DAILY:"DAILY",REGULAR:"REGULAR",CUSTOMIZED_FIXED:"CUSTOMIZED_FIXED",EXPERIENCE_COUPON:"EXPERIENCE_COUPON",TRANSFER_IN:"IN",TRANSFER_OUT:"OUT"},f={SUBSCRIPTION:"SUBSCRIPTION",REDEMPTION:"REDEMPTION",INTEREST:"INTEREST"},y={HOLDING:"HOLDING",SETTLED:"SETTLED"},v={AIRDROP:"AIRDROP",VOTE:"VOTE"},T={DISTRIBUTION:"DISTRIBUTION",STAKE:"STAKE"},I={DEFI_STAKING:"DEFI_STAKING",STAKING:"STAKING"},S={TRANSFER_IN:"IN",TRANSFER_OUT:"OUT"},E={DISTRIBUTION:"DISTRIBUTION",STAKE:"STAKE",REDEMPTION:"REDEMPTION",CLAIM:"CLAIM",CONVERT:"CONVERT"},w="PENDING",C="SUCCESS",A="FAILED",F={SUCCESS:C,FAILED:A,PENDING:w,GREY:"GREY",ONGOING:"Ongoing",CREATED:"CREATED",INVESTING:"INVESTING"},k={PURCHASING:w,SUCCESS:C,FAILED:A},D={CREATED:w,PAID:C,FAILED:A},N={NORMAL:"NORMAL",FAST:"FAST"},R=/^\d+\.?\d{0,8}$/,L=/^\d+$/,O=/^\d+\.?\d{0,2}$/,_=["productName","projectName","projectId","asset","auto-renew","operation","underlying","autoTransfer","airDropDetailList","targetAsset","status"],P=10,B=!0,$={SAVINGS:"SAVINGS",POS:"POS",LAUNCHPOOL:"LAUNCHPOOL",DUAL:"DUAL",ETH2:"ETH2",DOT:"DOT",AUTO_INVEST:"AUTO_INVEST"},U={[$.SAVINGS]:"SAVINGS",[$.POS]:"STAKING",[$.LAUNCHPOOL]:"LAUNCHPOOL",[$.DUAL]:"DC",[$.ETH2]:"CFTOKEN",[$.DOT]:"DOT",[$.AUTO_INVEST]:"AUTOINVEST"},M={CURRENT_LANDING_PAGE:"CURRENT_LANDING_PAGE",CURRENT_LANDING_FILTER_SELECTED:"CURRENT_LANDING_FILTER_SELECTED"},Z={grey:"line",green:"#02C076",yellow:"#F0B90B",red:"#F6465D"},H="********",{STATIC_HOST:z}=(0,i.dU)(),Y=`${z}/static/images/earn/auto-invest`,G={}},"7bI3":(e,t,n)=>{"use strict";n.d(t,{mW:()=>o.mW,me:()=>l,Pc:()=>s,wc:()=>c,Cl:()=>d,he:()=>u,J7:()=>p,uf:()=>x,RM:()=>g});var i=n("LqMh"),a=n("vM3x"),r=n.n(a),o=n("GQ7d");function l(e,t=2,n=1,i="%"){return+e?`${new(r())(e).times(100).toFormat(t,n)}${i}`:"--"}function s(e,t=2,n=1,i=""){return+e?`${new(r())(e).dp(t,n).toFormat().toString()}${i}`:"--"}function c(e,t=2,n=1,i="",a="0.00000000"){return+e?`${new(r())(e||0).dp(t,n).toFormat().toString()}${i}`:a}function d(e,t="",n=4,i=!1){let a=n;"SHIB"===t&&(a=8);const o=r()(e).dp(a,1);return+e?i?o.toFormat():o.toString():"--"}function u(e,t=2,n=1,i=""){return+e?`${new(r())(e).toFormat(t,n).toString()}${i}`:"--"}function p(e,t=2,n=1){const i=e.match(/^([^\d]+)(\d.+)$/);if(!i)return"--";const[a,o,l]=i,s=l.replace(/,/g,"");return`${o}${new(r())(s).toFormat(t,n).toString()}`}const x=(e,t=4,n=!1)=>{null===e&&(e="0"),r().config({EXPONENTIAL_AT:1e9});const a=(0,i.QZ)(e,1).decimalPlaces(t);return n?a.toFormat():a.toString()};function g(e){return new(r())(e)}},b2Kw:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Nr});var i=n("/SIk"),a=n.n(i),r=n("e3lq"),o=n("a9nv"),l=n("M1EF"),s=n("K0aJ"),c=n("XBn7"),d=n("DMGj"),u=n("RAx4"),p=n("jih7"),x=n("mdVJ"),g=n("qJw0"),m=n("5vwO"),h=n("YICF"),b=n("BquZ"),f=n("/nIs"),y=n("Yq0s"),v=n.n(y),T=n("7bI3"),I=n("Tbvg"),S=n("gMC3"),E=n("+TNM"),w=n("vM3x"),C=n.n(w),A=n("W9na"),F=n("s1Ua"),k=a().createElement;const D=(e,t)=>C()(e).gt(t),N={label:"lending-airdrop-coin",key:"airDropDetailList",align:"left",renderFunc:()=>(e,{airDropDetailList:t,hasAirDrop:n})=>n?k(o.Flex,null,k(E.zg,{asset:t[0].airDropAsset})):"--"},R={label:"lending-tamount",key:"totalAmount",align:"right"},L={label:"lending-AccuringInterest",key:"accruingInterest",align:"right"},O={label:"lending-airdrop-amount",key:"hasAirDrop",align:"right",renderFunc:()=>(e,{airDropDetailList:t})=>{if(!e)return"--";const{airDropAmount:n,airDropAsset:i}=t[0];return n>0?k(o.Text,{color:"#02C076"},`${n} ${i}`):"--"}},_={label:"lending-airdrop-apy",key:"hasAirDrop",align:"right",renderFunc:()=>(e,{airDropDetailList:t})=>{if(!e)return"--";const{annualInterestRate:n}=t[0];return n>0?k(E.cE,{asset:t[0].airDropAsset,text:`${(0,T.mW)(n,2)}%`}):"--"}},P={label:"lending-famount",key:"todayPurchasedAmount",align:"right"},B={label:"lending-redeeming",key:"redeemingAmount",align:"right",renderFunc:e=>(t,{deliverDate:n,asset:i,redeemingAmount:a})=>t>0?k(o.Flex,{alignItems:"center"},t,k(S.uw,{tipContent:k(o.Box,{sx:{textAlign:"left"}},k(o.Text,null,e("lending-redemption-timeline")),k(o.Flex,null,k(o.Text,null,e("lending-redemption-timeline-tips",{redeemingAmount:a,asset:i,standardRdpDate:v()(+n).utc().add(I.qZ,"hours").local().format(I.yQ)}))))},k(A.Z,{size:16,ml:"5px",sx:{position:"relative",color:"#474D57","&:hover":{color:"#F0B90B"}}}))):t},$={label:"lending-cumulativeinterest",key:"totalInterest",align:"right",renderFunc:()=>(e,{asset:t})=>k(o.Text,{color:"t.buy"},`${e} ${t}`)},U=e=>`${(0,T.mW)(e)}%`,M={label:"lending-EstAPY",key:"annualInterestRate",align:"right",renderFunc:e=>(t,{hasTierInterest:n,tierAnnualInterestRateList:i,asset:a,totalAmount:r,accruingInterest:l})=>{if(!n)return U(t);const s=D(l,0),c=i[0].annualInterestRate,d=i.map((({beginAmount:e,endAmount:t,annualInterestRate:n})=>!(!D(r,e)&&s)&&(t?`${+e?(0,T.Pc)(e,8):"0"}-${(0,T.Pc)(t,8)} ${a}: ${U(n)} `:`>${(0,T.Pc)(e,8)} ${a}: ${U(n)}`))).filter((e=>e)).join("<br/>");return k(o.Flex,{alignItems:"center",justifyContent:"flex-end"},k(S.uw,{tipContent:k(o.Box,null,k(o.Text,{fontWeight:"bold"},e("lending-tier-tip-title")),k(o.Text,null,e("lending-tier-tip-content")),k(o.Text,{mt:"24px",dangerouslySetInnerHTML:{__html:d}}))},k(F.Z,{size:16,mr:"4px",sx:{position:"relative",color:"#474D57","&:hover":{color:"primary"}}})),U(c))}},Z=[{label:"lending-asset",key:"asset",renderFunc:()=>e=>k(E.zg,{asset:e})},N,(0,m.Z)((0,m.Z)({},R),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),(0,m.Z)((0,m.Z)({},L),{},{renderFunc:e=>(t,{asset:n,expectedInterest:i=0})=>k(o.Flex,{alignItems:"center",justifyContent:"flex-end"},D(t,0)&&!D(i,0)&&k(S.uw,{tipContent:e("lending-no-interest-tip")},k(F.Z,{size:16,mr:"4px",sx:{position:"relative",color:"#474D57","&:hover":{color:"primary"}}})),k(o.Text,null,`${t} ${n}`))}),(0,m.Z)((0,m.Z)({},P),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),(0,m.Z)((0,m.Z)({},B),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),$,O,M,_],H=[(0,m.Z)((0,m.Z)({},R),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),N,M,$,(0,m.Z)((0,m.Z)({},L),{},{renderFunc:e=>(t,{asset:n,expectedInterest:i=0})=>k(o.Flex,{alignItems:"center"},D(t,0)&&!D(i,0)&&k(S.uw,{tipContent:e("lending-no-interest-tip")},k(F.Z,{size:16,mr:"4px",sx:{position:"relative",color:"#474D57","&:hover":{color:"primary"}}})),k(o.Text,null,`${t} ${n}`))}),(0,m.Z)((0,m.Z)({},P),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),(0,m.Z)((0,m.Z)({},B),{},{renderFunc:()=>(e,{asset:t})=>`${e} ${t}`}),O,_];var z=n("dJvq");const Y={paddingLeft:"28px",paddingTop:"8px",lineHeight:"20px",fontSize:"14px"},G={borderRadius:"4px",border:"1px solid #E6E8EA"},j={borderRadius:"4px",border:"1px solid #F0B90B"};var W=n("nzIp"),K=n("+SMd"),V=a().createElement;const{FAST:q,NORMAL:X}=I.n0,Q=({children:e})=>V(o.Box,{fontWeight:"bold"},e);function J({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{})}){const{t:a,i18n:{language:l}}=(0,r.$)(),{asset:s,productId:c,deliverDate:d}=e,p=(0,i.useRef)(),{0:x,1:g}=(0,i.useState)(0),{0:m,1:h}=(0,i.useState)(""),{0:b,1:f}=(0,i.useState)(""),{0:y,1:T}=(0,i.useState)("FAST"),{0:S,1:E}=(0,i.useState)(!1),{0:w,1:C}=(0,i.useState)(0),{0:A,1:F}=(0,i.useState)(!0),{0:k,1:D}=(0,i.useState)(!1),{enqueueNotification:N}=(0,u.useNotification)(),R=(0,i.useCallback)((e=>{const t=e.currentTarget.value;!I.ZY.test(t)&&0!==t.length||+t>+x||f(t)}),[x]);(0,i.useEffect)((()=>{(0,W.VR)({type:y,productId:c}).then((e=>{F(!1),p.current=e,g(e.leftQuota),y===q&&C(+e.dailyQuota)})).catch((e=>{F(!1)}))}),[c,y]);const L=(0,i.useCallback)((async()=>{const{leftQuota:e,minRedemptionAmount:i}=p.current,[r,o]=function(e=0,t,n){let i=!1,a="";return 0===+e?[i,a]:+t<+n?(e!==t?a="lending-ltmin":i=!0,[i,a]):(+e<+n?a="lending-stmin":+e>+t?a="lending-ltmax":i=!0,[i,a])}(b,e,i);let l="";r||(l=a(o,{interpolation:{prefix:"%",suffix:"%"},asset:s,max:e,min:i})),h(l),r&&(D(!0),(0,W.Vh)({type:y,productId:c,amount:b}).then((()=>{D(!1),n(),t(!1),N(a("lending-redeemSuccessTip"),{variant:"success"})})).catch((e=>{D(!1)})))}),[b,s,N,n,c,t,a,y]),O=(0,i.useMemo)((()=>a("lending-fasttip",{interpolation:{prefix:"%",suffix:"%"},asset:s,max:w})),[s,w,a]),_=(0,i.useMemo)((()=>y!==q||x>0||A),[y,x,A]);return V(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},V(o.Box,{sx:{position:"relative"}},V(o.Box,{sx:{position:"absolute",top:"0",right:"0",lineHeight:"24px",fontSize:"12px",color:"t.third"}},V("span",null,a("lending-demandAvailable")),"\xa0",V("span",null,x," ",s)),V(u.TextField,{variant:"outlineLarge",boxProps:{sx:{width:"100%"}},value:b,onChange:R,labelFixed:!0,label:a("lending-ramount"),placeholder:a("lending-redemplaceholder"),errorText:m,error:!!m,suffix:V(o.Flex,{alignItems:"center"},s,V(o.Box,{sx:{height:"12px",width:"1px"},bg:"#E6E7EA",m:"0 12px"}),V(o.Button,{variant:"quiet",onClick:()=>f(x)},a("lending-max")))})),V(o.Flex,{flexDirection:"column",mt:[4],sx:{svg:{width:"18px",height:"18px"}}},V(o.Text,null,a("lending-method")),V(o.Flex,{onClick:()=>T(q),flexDirection:"column",mt:"8px",padding:"16px",sx:y===q?j:G},V(o.Flex,{justifyContent:"space-between",flexWrap:"wrap"},V(o.Radio,{value:q,checked:y===q,onChange:T,label:V(Q,null,a("lending-fast"))}),!_&&V(o.Text,{display:"flex",flex:"1 0 auto",color:"#F6465D",justifyContent:"flex-end"},a("lending-fast-redemption-insufficient"))),V(o.Box,{sx:Y,dangerouslySetInnerHTML:{__html:O}})),V(o.Flex,{onClick:()=>T(X),flexDirection:"column",mt:"12px",padding:"16px",sx:y===X?j:G},V(o.Radio,{value:X,checked:y===X,onChange:T,label:V(Q,null,a("lending-normal"))}),V(o.Box,{sx:Y,dangerouslySetInnerHTML:{__html:a("lending-normaltip-new",{standardRdpDate:v()(+d).utc().add(I.qZ,"hours").local().format(I.yQ),interpolation:{prefix:"{{",suffix:"}}"}})}}))),V(u.StyledDialogFooter,null,V(o.Box,{mb:["12px","14px"]},V(o.Label,null,V(o.Checkbox,{checked:S,onChange:e=>E(e.target.checked)}),V(o.Text,{variant:"checkbox"},V(K.Trans,{t:a,i18nKey:"lending-savings-term",components:{primary:V(o.Link,{target:"_blank",href:`/${l}/support/faq/360032559032`})}})))),V(o.Flex,null,V(o.Button,{onClick:L,disabled:k||!S||!b,flex:"1",sz:"l",colorStyle:"primary"},a("loan-confirm")))))}const ee=a().memo(J);var te=a().createElement;function ne({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{})}){const{t:a}=(0,r.$)(),{enqueueNotification:l}=(0,u.useNotification)(),{productId:s}=e,c=(0,i.useCallback)((()=>{(0,f.IY)({productId:s,autoTransfer:!0}).then((()=>{l(a("lending-transformSuccess"),{variant:"success"}),n(s,!0)})).catch((e=>{})).finally((()=>t(!1)))}),[l,n,s,t,a]);return te(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},te(o.Box,null,te(o.Text,null,a("lending-auto-transfer-dialog"))),te(u.StyledDialogFooter,null,te(o.Flex,null,te(o.Button,{flex:"1",sz:"l",colorStyle:"primary",onClick:c},a("lending-ok")))))}const ie=a().memo(ne);var ae=n("GpFh"),re=a().createElement;const oe=a().memo((function(e){let{children:t}=e,n=(0,ae.Z)(e,["children"]);return re(o.Box,Object.assign({bg:"bg1",mt:"24px"},n),t)}));var le=n("w9HI"),se=a().createElement;function ce(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:l}=(0,i.useState)(!1),{0:s,1:c}=(0,i.useState)(!1),{0:d,1:p}=(0,i.useState)({}),{enqueueNotification:x}=(0,u.useNotification)(),y=(0,i.useCallback)(((e,n)=>{const i=t.current.getList(),a=i.findIndex((t=>t.productId===e)),r=i[a],o=[...i];o.splice(a,1,(0,m.Z)((0,m.Z)({},r),{},{autoTransfer:n})),t.current.forceUpdate({list:o,noFetch:!0})}),[]),v=(0,i.useCallback)((t=>{p(t);const{autoTransfer:n,productId:i}=t;n?(0,f.IY)({autoTransfer:!1,productId:i}).then((()=>{x(e("lending-Success"),{variant:"success"}),y(i,!1)})).catch((e=>{})):c(!0)}),[x,y,e]),T=a().useMemo((()=>({key:"autoTransfer",align:"center",renderFunc:()=>(e,t)=>se(o.Switch,{size:16,checked:t.autoTransfer,onChange:()=>v(t),color:"primaryGradient"}),renderTitle:()=>se(S.uw,{tipContent:e("lending-auto-transfer-tip"),isNeededContainer:!0},se(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap",textAlign:"left"}},e("lending-autoTransferIn")))})),[v,e]),I=(0,i.useCallback)((e=>{e.canRedeem&&(l(!0),p(e))}),[]),E=a().useCallback((e=>se(g.aU,{config:[{Icon:e=>se(le.Z,e),text:"lending-Redeem",onClick:()=>{I(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_savingsFlexible",elementid:"lending-Operation"})},disabled:!e.canRedeem}]})),[I]),w=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>E(t)})),[E]),C=a().useMemo((()=>[...Z.slice(0,2),T,...Z.slice(2),w]),[w,T]),A=(0,i.useMemo)((()=>({rows:[...H.slice(0,4),T,...H.slice(4)],header:e=>se(g.DJ,{asset:e.asset,action:E(e)})})),[T,E]);return se(oe,null,se(g.xS,{tableConfig:C,mobileConfig:A,dataSource:b.b,rowKey:e=>e.productId,ref:t,mobileExpandNum:5}),se(u.StyledDialog,{open:n,onCloseIconClick:()=>l(!1),title:`${d.productName} ${e("lending-Redemption")}`,sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},se(ee,{project:d,setOpen:l,onSuccess:()=>t.current.forceUpdate()})),se(u.StyledDialog,{open:s,showTitleBottomLine:!1,onCloseIconClick:()=>c(!1),title:e("lending-autoTransferIn"),sx:{width:["100%","384px"]}},se(ie,{project:d,setOpen:c,onSuccess:y})))}const de=a().memo(ce);var ue=n("GQ7d"),pe=a().createElement;const xe={label:"lending-holding",key:"lot",align:"right"},ge={label:"lending-amount",key:"principal",align:"right"},me={label:"lending-durations",key:"duration",align:"right"},he={label:"APY",key:"interestRate",align:"right",renderFunc:()=>e=>(0,ue.fP)(e,2,void 0,"%")},be={label:"lending-vdate",key:"startTime",align:"right",renderFunc:()=>e=>v()(+e).format(I.zT)},fe={label:"lending-rdate",key:"endTime",align:"right",renderFunc:()=>e=>v()(+e).format(I.zT),renderTitle:e=>pe(S.uw,{tipContent:e("lending-wallet-fixd-rdate-tip"),isNeededContainer:!0},pe(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap",textAlign:"left"}},e("lending-rdate")))},ye={label:"lending-coupon",key:"interest",align:"right",renderFunc:()=>e=>pe(o.Text,{color:"t.buy"},e)},ve=[{label:"lending-fixeddeposits",key:"projectName",width:"10%"},{label:"lending-Coin",key:"asset",renderFunc:()=>e=>pe(E.zg,{asset:e})},xe,ge,me,he,be,fe,ye],Te=[ge,he,ye,xe,me,be,fe];var Ie=a().createElement;function Se({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{})}){const{t:a,i18n:{language:l}}=(0,r.$)(),{enqueueNotification:s}=(0,u.useNotification)(),{asset:c,lot:d,lotSize:p,projectId:x,positionId:g}=e,{0:m,1:h}=(0,i.useState)(""),{0:b,1:f}=(0,i.useState)(!1),{0:y,1:v}=(0,i.useState)(!1),T=(0,i.useCallback)((e=>{const t=e.currentTarget.value;!I.Di.test(t)&&0!==t.length||+t>+d||h(t)}),[d]),S=(0,i.useCallback)((()=>{f(!0),(0,W.nH)({lot:+m,regularProjectId:x,positionId:g||""}).then((()=>{f(!1),t(!1),s(a("lending-transformSuccess"),{variant:"success"}),n()})).catch((e=>{f(!1)}))}),[m,s,n,g,x,t,a]);return Ie(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},Ie(o.Box,{sx:{position:"relative"}},Ie(o.Box,{sx:{position:"absolute",top:"0",right:"0",lineHeight:"24px",fontSize:"12px",color:"t.third"}},Ie("span",null,a("lending-demandAvailable")),"\xa0",Ie("span",null,+d," ",a("lending-transformUnit"))),Ie(u.TextField,{variant:"outlineLarge",labelFixed:!0,label:a("lending-transformInput"),placeholder:a("lending-transformInput"),suffix:Ie(o.Flex,{alignItems:"center"},a("lending-transformUnit"),Ie(o.Box,{sx:{height:"12px",width:"1px"},bg:"#E6E7EA",m:"0 12px"}),Ie(o.Button,{variant:"quiet",onClick:()=>h(+d)},a("lending-max"))),value:m,onChange:T,boxProps:{sx:{width:"100%"}}}),Ie(o.Box,{backgroundColor:"rgba(234, 236, 239,.3)",fontSize:"20px",padding:"0 12px",lineHeight:"40px",fontWeight:"500"},"= ",(m||0)*p," ",c)),Ie(o.Text,{fontSize:"14px",lineHeight:"20px",mt:["24px"]},Ie(o.Text,null,a("lending-transformTipTitle")),Ie("ol",{style:{paddingLeft:"16px",margin:"0"}},Ie("li",{style:{marginTop:"12px"}},a("lending-transformTip1")),Ie("li",{style:{marginTop:"12px"}},a("lending-transformTip2")),Ie("li",{style:{marginTop:"12px"}},a("lending-transformTip3")))),Ie(u.StyledDialogFooter,null,Ie(o.Box,{mb:["12px","14px"]},Ie(o.Label,null,Ie(o.Checkbox,{checked:y,onChange:e=>v(e.target.checked)}),Ie(o.Text,{variant:"checkbox"},Ie(K.Trans,{t:a,i18nKey:"lending-savings-term",components:{primary:Ie(o.Link,{target:"_blank",href:`/${l}/support/faq/360032559032`})}})))),Ie(o.Flex,null,Ie(o.Button,{flex:"1",sz:"l",colorStyle:"primary",disabled:!m||b||!y,onClick:S},a("lending-transform")))))}const Ee=a().memo(Se);var we=n("CJEx"),Ce=a().createElement;function Ae(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:l}=(0,i.useState)(!1),{0:s,1:c}=(0,i.useState)({}),d=(0,i.useCallback)((e=>{e.canTransfer&&(l(!0),c(e))}),[]),x=(0,i.useCallback)(((e,n)=>{const i=t.current.getList(),a=i.findIndex((e=>e.positionId===n)),r=i[a],o=[...i];o.splice(a,1,(0,m.Z)((0,m.Z)({},r),{},{redeemType:(0,p.hu)(e,"AUTO_TRANSFER_TO_DAILY","NORMAL")})),t.current.forceUpdate({list:o,noFetch:!0})}),[]),f=a().useMemo((()=>({title:Ce(S.uw,{tipContent:e("lending-auto-renew-tip"),isNeededContainer:!0},Ce(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap",textAlign:"left"}},e("lending-op-auto-renew"))),width:"8%",key:"auto-renew",align:"center",renderFunc:()=>(e,t)=>(0,p.hu)(t.canAutoRenew,Ce(o.Switch,{color:"primaryGradient",disabled:!t.canAutoRenew,onChange:e=>{const n=e.target.checked,{positionId:i}=t;(0,W.$M)({positionId:i,autoRenew:n}).then((e=>{e.success&&i&&x(n,i)})).catch((()=>{}))},checked:"AUTO_TRANSFER_TO_DAILY"===t.redeemType,size:16}),"--"),noDataIndex:!0})),[x,e]),y=a().useCallback((e=>Ce(g.aU,{config:[{Icon:e=>Ce(we.Z,e),text:"lending-transform",onClick:()=>{d(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_savingsFixed",elementid:"lending-Operation"})},disabled:!e.canTransfer}]})),[d]),v=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>y(t)})),[y]),T=a().useMemo((()=>[...ve.slice(0,2),f,...ve.slice(2),v]),[v,f]),I=a().useMemo((()=>({rows:[...Te.slice(0,3),f,...Te.slice(3)],header:e=>Ce(g.DJ,{asset:e.asset,text:e.projectName,action:y(e)})})),[y,f]);return Ce(oe,null,Ce(g.xS,{tableConfig:T,mobileConfig:I,dataSource:b.Am,rowKey:e=>e.positionId,ref:t,mobileExpandNum:4}),Ce(u.StyledDialog,{open:n,onCloseIconClick:()=>l(!1),title:e("lending-transform"),sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},Ce(Ee,{setOpen:l,project:s,onSuccess:()=>t.current.forceUpdate()})))}const Fe=a().memo(Ae);var ke=a().createElement;function De(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:l}=(0,i.useState)(!1),{0:s,1:c}=(0,i.useState)({}),d=(0,i.useCallback)((e=>{e.canTransfer&&(l(!0),c(e))}),[]),p=a().useCallback((e=>ke(g.aU,{config:[{Icon:e=>ke(le.Z,e),text:"lending-transform",onClick:()=>{d(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_savingsActivity",elementid:"lending-Operation"})},disabled:!e.canTransfer}]})),[d]),x=(0,i.useMemo)((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>p(t),renderTitle:()=>ke(S.uw,{tipContent:e("lending-activities-operation-tip"),isNeededContainer:!0},ke(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap",textAlign:"left"}},e("lending-Operation")))})),[p,e]),m=a().useMemo((()=>[...ve,x]),[x]),f=(0,i.useMemo)((()=>({rows:Te,header:e=>ke(g.DJ,{asset:e.asset,text:e.projectName,action:p(e)})})),[p]);return ke(oe,null,ke(g.xS,{tableConfig:m,mobileConfig:f,dataSource:b.q6,rowKey:e=>e.positionId,ref:t}),ke(u.StyledDialog,{open:n,onCloseIconClick:()=>l(!1),title:e("lending-transform"),sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},ke(Ee,{setOpen:l,project:s,onSuccess:()=>t.current.forceUpdate()})))}const Ne=a().memo(De);var Re=n("7ESN"),Le=a().createElement;const Oe={REMOVED:{title:"lending-remove-plan-title",content:"lending-remove-plan-content",statusSwitchTo:"REMOVED"},PAUSED:{title:"lending-pause-plan-title",content:"lending-pause-plan-content",statusSwitchTo:"PAUSED"}};function _e({project:e={},setOpen:t=(e=>{}),onSuccess:n=(()=>{}),type:a="PAUSED"}){const l=Oe[a],{t:s}=(0,r.$)(),{enqueueNotification:c}=(0,u.useNotification)(),{id:d}=e,p=(0,i.useCallback)((()=>{(0,f.d$)({id:d,status:l.statusSwitchTo}).then((e=>{const{success:t,message:i}=e;if(!t)throw i;c(s("lending-Success"),{variant:"success"}),n(d,"PAUSED")})).catch((e=>{})).finally((()=>t(!1)))}),[c,n,d,t,s]);return Le(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},Le(o.Flex,{flexDirection:"column",alignItems:"center"},Le(o.Flex,{alignItems:"center",justifyContent:"center",sx:{mt:"32px",borderRadius:"50%",width:"80px",height:"80px",background:"linear-gradient(90deg, rgba(240, 185, 11, 0) 0%, #F0B90B 118.12%)"}},Le(o.Flex,{alignItems:"center",justifyContent:"center",sx:{borderRadius:"50%",width:"58px",height:"58px",background:"linear-gradient(180deg, #F0B90B 0%, #F8D33A 100%)",fontSize:"36px",lineHeight:"58px",fontWeight:"bold"}},"!")),Le(o.Text,{mt:"24px",variant:"headline6"},s(l.title)),"PAUSED"===a&&Le(o.Text,{variant:"body2",mt:"8px"},s(l.content)),"REMOVED"===a&&Le(o.Flex,{sx:{fontSize:"14px",lineHeight:"22px",color:"t.third",flexDirection:"column",mt:"8px",width:"100%"}},Le(o.Flex,null,Le(o.Flex,{flex:"0 0 auto"},"1.\xa0"),Le(o.Flex,null,s("auto-invest-remove-tip-1"))),Le(o.Flex,null,Le(o.Flex,{flex:"0 0 auto"},"2.\xa0"),Le(o.Flex,null,s("auto-invest-remove-tip-2"))),Le(o.Flex,{mt:"24px"},s("auto-invest-remove-tip-Note")))),Le(u.StyledDialogFooter,null,Le(o.Flex,null,Le(o.Button,{flex:"1",sz:"l",colorStyle:"primary",onClick:p},s("lending-IKnow")))))}const Pe=a().memo(_e);var Be,$e=n("485v"),Ue=n("XHBV"),Me=n("1cgu"),Ze=n("YUcX"),He=n("8Rz8"),ze=n("dmV2"),Ye=n("bCEn"),Ge=a().createElement;!function(e){e.DAILY="lending-auto-invest-daily",e.WEEKLY="lending-auto-invest-weekly",e.BI_WEEKLY="lending-auto-invest-bi-weekly",e.MONTHLY="lending-auto-invest-monthly"}(Be||(Be={}));const je={key:"targetAsset",label:"lending-coin",align:"left",renderFunc:()=>(e,{targetAsset:t,portfolio:n,portfolioDetails:i})=>Ge(o.Box,{sx:{display:"inline-block"}},n?Ge(o.Flex,{sx:{alignItems:"center",color:"t.primary",fontSize:"16px",lineHeight:"24px",fontWeight:500}},Ge(u.TooltipV2,{enablePortal:!0,placement:"bottom",arrow:!0,tip:Ge(o.Flex,{sx:{flexDirection:"column"}},i.map((({targetAsset:e,percentage:t})=>Ge(o.Flex,{key:e},e,": ",t,"%"))))},Ge(o.Image,{src:`${I.Hb}/chart-pie-g.svg`,sx:{display:["none","flex"],flex:"0 0 auto"}})),Ge(o.Flex,{sx:{mx:"16px"}},t)):Ge(E.zg,{asset:e,sx:{color:"t.primary",fontSize:"16px",lineHeight:"24px",fontWeight:500}}))},We={key:"recurringCycleType",label:"lending-auto-invest-schedule",align:"left",renderFunc:e=>t=>e(Be[t])},Ke={key:"cumulativeAmount",label:"lending-cumulative-amount",align:"right",renderFunc:()=>(e,{investAsset:t,cumulativeAmount:n})=>`${(0,ue.MA)(n,2,void 0,` ${t}`)}`},Ve=e=>({key:"totalTargetAmount",label:"lending-holding-amount",align:"right",renderFunc:()=>(t,n,i)=>{const{targetAsset:a,totalTargetAmount:r,portfolio:o}=n;return o&&e?e(n,i):o?"--":`${(0,ue.MA)(r,5,void 0,` ${a}`)}`}}),qe={key:"averageCost",label:"lending-average-cost",align:"right",renderFunc:()=>(e,{investAsset:t,averageCost:n,portfolio:i})=>(0,ue.MA)(n,5,i,` ${t}`)},Xe=e=>{let t="t.primary";return(0,p.GM)(e,0)?t="t.buy":(0,p.GM)(0,e)&&(t="t.sell"),t},Qe={key:"unrealizedProfitLoss",label:"lending-unrealized-gain-loss",align:"right",renderFunc:()=>(e,{investAsset:t,unrealizedProfitLoss:n})=>Ge(o.Text,{sx:{color:Xe(n)}},(0,ue.MA)(n,2,void 0,` ${t}`)),renderTitle:e=>Ge(Ye.uw,{tipContent:Ge(o.Box,{maxWidth:280},e("lending-loss-and-gain-tip"))},Ge(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap"}},e("lending-unrealized-gain-loss")))},Je={key:"roi",label:"ROI",align:"right",renderFunc:()=>e=>Ge(o.Text,{sx:{color:Xe(e)}},(0,T.mW)(e,2,void 0,"%")),renderTitle:e=>Ge(Ye.uw,{tipContent:Ge(o.Box,{maxWidth:280},e("lending-roi-tip"))},Ge(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap"}},"ROI"))},et={key:"nextAutoInvestDate",label:"lending-next-auto-invest-date",align:"right",renderFunc:()=>e=>v()(+e).local().format(I.yQ)},tt=e=>[je,We,Ke,Ve(e),qe,Qe,Je,et],nt=()=>[Ve(),Je,Qe,We,Ke,qe,et],it=[Ke,Ve(),qe,Qe,Je];var at=n("D57K"),rt=n("kw5+"),ot=(0,z.B8)().STATIC_HOST||("undefined"!==typeof window&&window._env_||{}).REACT_APP_STATIC_HOST,lt={bg:"bg1",borderRadius:"50%"},st=(0,at.__assign)((0,at.__assign)({},lt),{boxShadow:"elevation2"});const ct=function(e){var t=e.coin,n=e.size,i=e.shadow,r=void 0===i||i,l=e.nameRender,s=void 0===l||l,c=e.nameSx,d=void 0===c?{}:c,u=e.nameVariant,p=(0,at.__rest)(e,["coin","size","shadow","nameRender","nameSx","nameVariant"]);if(!t)return null;var x,g=(0,rt.concat)([],t);return 0===g.length?null:a().createElement(o.Flex,(0,at.__assign)({color:"t.primary",alignItems:"center",display:"inline-flex"},p),g.map((function(e,t){var i=ot+"/static/images/coin/"+e.toLowerCase()+".svg";return a().createElement(o.Image,{key:e,src:i,width:n,height:n,ml:t>0?"-6px":0,sx:(0,at.__assign)({zIndex:0===t?"1":"unset"},r?st:lt)})})),s&&(0,rt.isFunction)(s)&&s(t),s&&!(0,rt.isFunction)(s)&&(x=t,a().createElement(o.Text,{ml:"6px",variant:u,sx:d},(0,rt.concat)([],x).join("/"))))};var dt=n("Qdzj"),ut=n("A/80"),pt=n("NUTV"),xt=n("I7hA"),gt=a().createElement;function mt({checked:e,onChange:t,children:n,sx:a}){const r=(0,i.useCallback)((e=>{t(e.target.checked)}),[t]);return gt(o.Flex,{sx:(0,m.Z)({width:"100%",p:"8px",mb:"8px",display:"inline-flex",".primary":{color:"t.yellow"},alignItems:"center"},a)},gt(o.Label,{sx:{width:"auto",flex:"0 0 auto"}},gt(o.Checkbox,{name:"remember",checked:e,onChange:r})),"string"===typeof n?gt(o.Text,{dangerouslySetInnerHTML:{__html:n}}):n)}var ht=a().createElement;const bt=/^\d+$/,ft=a().memo((({targetAsset:e,percentage:t,error:n,handleChange:a,sx:l})=>{const{t:s}=(0,r.$)(),c=(0,i.useCallback)(((e,t)=>{let n=e.target.value;!bt.test(n)&&""!==n||Number.isNaN(n)?e.stopPropagation():(n=n.replace(/^0+(?=\d)/,""),a&&a(t,n))}),[a]);return ht(o.Flex,{sx:(0,m.Z)({position:"relative",flexDirection:"column"},l)},ht(o.Flex,{alignItems:"center",pb:"9px",sx:{".bn-input-suffix":{m:"0 !important"},".bn-input-prefix":{display:"flex",alignItems:"center"},input:{p:"0 !important",textAlign:"center"}}},ht(u.TextFieldV2,{value:t,size:"lg",variant:"filled",onChange:t=>c(t,e),boxProps:{sx:{height:"40px",width:"calc(100% - 101.5px - 12px)",display:"grid",gridTemplateColumns:"100px auto 24px",alignItems:"center"}},prefix:ht(ct,{flex:"0 0 auto",coin:e,size:20,ml:"12px",alignItems:"center",nameRender:e=>ht(o.Flex,{sx:{fontSize:"14px",lineHeight:"20px",fontWeight:"500",ml:"8px"}},e)}),suffix:ht(o.Flex,{sx:{fontSize:"14px",lineHeight:"20px",fontWeight:"500",mr:"12px"}},"%"),placeholder:s("Enter at least"),error:n,errorText:s("The minimum percentage is")})))}));let yt;!function(e){e.LESS_THAN_MIN="LESS_THAN_MIN",e.GREATER_THAN_MAX="GREATER_THAN_MAX"}(yt||(yt={}));var vt=a().createElement;const Tt=a().memo((({value:e,buyAsset:t,error:n,handleChange:l,limitMinInvestAmount:s,limitMaxInvestAmount:c,currentBuyAsset:d,coinList:p,setCurrentBuyAsset:x,available:g,availableText:h,sx:b,errorType:f})=>{const{t:y}=(0,r.$)(),v=(0,i.useCallback)((e=>{let t=e.target.value;!I.xo.test(t)&&""!==t||Number.isNaN(t)?e.stopPropagation():(t=t.replace(/^0+(?=\d)/,""),l&&l(t))}),[l]),T=a().useMemo((()=>n&&f===yt.LESS_THAN_MIN?y("lending-auto-invest-input-tip",{currency:d,amount:s}):n&&f===yt.GREATER_THAN_MAX?y("The maximum amount should not exceed amount currency",{currency:d,amount:c}):null),[d,n,f,c,s,y]);return vt(o.Flex,{sx:(0,m.Z)({position:"relative",flexDirection:"column"},b)},vt(o.Text,{as:"span",fontSize:"0",color:"t.third",sx:{position:"absolute",right:"24px",top:"-5px"}},`${h||y("lending-demandAvailable")}: ${g} ${d}`),vt(o.Flex,{alignItems:"center"},vt(u.TextFieldV2,{labelFixed:!0,value:e,size:"lg",variant:"filled",onChange:v,boxProps:{sx:{flex:1,height:"40px",mt:"19px",mr:"12px"}},label:vt(o.Text,{fontSize:"14px",lineHeight:"22px",color:"t.primary",mt:"2px"},y("lending-demandInputLabel")),infoText:y("lending-auto-invest-input-tip",{currency:d,amount:s}),error:n,errorText:T}),vt(u.PureSelect,{width:"101.5px",height:"40px",bg:"button.defaultDisable",mt:"3px",sx:{p:"10px",svg:{right:"0!important"},cursor:"not-allowed"},value:t,disabled:!0,onValueChange:e=>{x(e)},renderValue:e=>vt(o.Flex,null,vt(E.ZP,{coin:e,size:"20px"}),vt(o.Text,{ml:"8px",sx:{fontSize:"14px",lineHeight:"20px",fontWeight:"500"}},e))},p&&p.map((e=>vt(u.PureOption,{value:e,key:e},vt(o.Flex,null,vt(E.ZP,{coin:e,size:"20px"}),vt(o.Text,{ml:"8px",variant:"body2",sx:{fontSize:"14px",lineHeight:"20px",fontWeight:"500"}},e))))))))}));var It=n("jnHR"),St=a().createElement;const Et=({title:e,closeSelf:t,sx:n})=>St(o.Flex,{sx:(0,m.Z)({borderBottomWidth:[0,"1px"],borderBottomStyle:"solid",borderBottomColor:"line",px:"20px",pb:["20px","20px"],pt:["56px","20px"],mb:[0,"24px"],color:"t.primary",fontSize:"20px",lineHeight:"24px",fontWeight:"medium",zIndex:2},n)},e,St(It.Z,{sx:{fontSize:["20px","16px"],color:"t.third",position:"absolute",top:["28px","22px"],right:["28px","22px"],display:["flex","none"]},onClick:t}));var wt=a().createElement;const Ct=({bgColor:e="primary",sx:t={}})=>wt(o.Flex,{sx:(0,m.Z)({width:"6px",height:"6px",transform:"rotate(45deg)",backgroundColor:e||"primary",mt:"7px",mb:"4px",mr:"12px",flex:"0 0 auto"},t)}),At=({sx:e={},cubeColor:t="bg1"})=>wt(o.Flex,{sx:(0,m.Z)((0,m.Z)({flex:"0 0 auto",backgroundColor:"line",width:"2px",height:"74px",ml:"2px"},e),{},{position:"relative",overflow:"hidden"})},wt(o.Box,{sx:{width:"2px",height:"2px",backgroundColor:t||"bg1",transform:"rotate(45deg)",position:"absolute",top:"-1px",left:"0"}}),wt(o.Box,{sx:{width:"2px",height:"2px",backgroundColor:t||"bg1",transform:"rotate(45deg)",position:"absolute",bottom:"-1px",left:"0"}})),Ft=({amount:e,investDate:t,sx:n})=>{const{t:i}=(0,r.$)();return wt(o.Flex,{flexDirection:"row",sx:(0,m.Z)({flex:["0 0 auto","0 0 auto"]},n)},wt(o.Flex,{flexDirection:"column"},wt(Ct,{bgColor:"primary",sx:{position:"relative",top:"2px"}}),wt(At,null),wt(Ct,{bgColor:"#02C076",sx:{position:"relative",bottom:"5px"}})),wt(o.Flex,{flexDirection:"column",justifyContent:"space-between",width:"100%"},wt(o.Flex,{justifyContent:"space-between"},wt(o.Text,{variant:"body2",color:"t.third"},i("lending-auto-invest-create-time")),wt(o.Text,{variant:"body2",color:"t.primary",flex:"0 0 auto"},v()().local().format("YYYY-MM-DD HH: mm"))),wt(o.Flex,{justifyContent:"space-between"},wt(o.Text,{variant:"body2",color:"t.third"},i("lending-auto-invest-amount-per-period")),wt(o.Text,{variant:"body2",color:"t.primary",flex:"0 0 auto"},null!==e&&void 0!==e?e:"--")),wt(o.Flex,{justifyContent:"space-between"},wt(o.Text,{variant:"body2",color:"t.third"},i("lending-auto-invest-first-date")),wt(o.Text,{variant:"body2",color:"t.primary",flex:"0 0 auto"},null!==t&&void 0!==t?t:"--"))))},kt=a().memo(Ft);let Dt,Nt,Rt;!function(e){e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.BI_WEEKLY="BI_WEEKLY",e.MONTHLY="MONTHLY"}(Dt||(Dt={})),function(e){e.MON="MON",e.TUE="TUE",e.WED="WED",e.THU="THU",e.FRI="FRI",e.SAT="SAT",e.SUN="SUN"}(Nt||(Nt={})),function(e){e.AM="AM",e.PM="PM"}(Rt||(Rt={}));const Lt={[Dt.DAILY]:"lending-auto-invest-daily",[Dt.WEEKLY]:"lending-auto-invest-weekly",[Dt.BI_WEEKLY]:"lending-auto-invest-bi-weekly",[Dt.MONTHLY]:"lending-auto-invest-monthly"},Ot={[Nt.MON]:"lending-MON",[Nt.TUE]:"lending-TUE",[Nt.WED]:"lending-WED",[Nt.THU]:"lending-THU",[Nt.FRI]:"lending-FRI",[Nt.SAT]:"lending-SAT",[Nt.SUN]:"lending-SUN"};var _t=a().createElement;const Pt=a().memo((({sx:e,children:t,closeSelf:n=(()=>{})})=>_t(o.Box,null,_t(o.Flex,{sx:(0,m.Z)({flexDirection:["column","row"],height:["100vh","auto"],position:"relative",overflowY:"auto"},e)},t),_t(It.Z,{sx:{fontSize:["20px","16px"],color:"t.third",position:"absolute",top:["28px","22px"],right:["28px","22px"],zIndex:2,display:["none","flex"],cursor:"pointer"},onClick:n})))),Bt=a().memo((({children:e,sx:t})=>_t(o.Flex,{sx:(0,m.Z)({mr:"0",flex:"0 0 auto",flexDirection:"column",width:["100%","50%","480px"],pb:[0,"64px"],boxShadow:["none","0px 0px 1px rgba(20, 21, 26, 0.1), 0px 3px 6px rgba(71, 77, 87, 0.04), 0px 1px 2px rgba(20, 21, 26, 0.04)"],zIndex:1,backgroundColor:"bg1"},t)},e))),$t=a().memo((({children:e,sx:t})=>_t(o.Flex,{sx:(0,m.Z)({".key":{color:"t.third",fontSize:"14px"},".value":{color:"t.primary",fontSize:"14px"},fontSize:"14px",flex:["1 0 auto","0 0 auto"],flexDirection:"column",p:"24px",backgroundColor:"bg2",width:["100%","50%","368px"],position:["static","relative"]},t)},e)));var Ut=a().createElement;const Mt=[Dt.DAILY,Dt.WEEKLY,Dt.BI_WEEKLY,Dt.MONTHLY],Zt={[Rt.AM]:0,[Rt.PM]:12},Ht=[Nt.MON,Nt.TUE,Nt.WED,Nt.THU,Nt.FRI,Nt.SAT,Nt.SUN],zt=({closeSelf:e,projectInfo:t,isEdit:n,onSuccess:l,isPortfolio:s=!1,targetAssetsFromProps:c})=>{console.log("targetAssetsFromProps:",c);const{t:d,i18n:{language:p}}=(0,r.$)(),{enqueueNotification:x}=(0,u.useNotification)(),{targetAsset:g,investAssetString:h,limitMinInvestAmount:b,limitMaxInvestAmount:f,targetAssets:y}=t,S=h?h.split(","):[],E=a().useMemo((()=>v()().add(1,"hour").startOf("hour").local()),[]),w=a().useMemo((()=>v()().local().startOf("day")),[]),C=a().useMemo((()=>v()().utc().startOf("day")),[]);let A="",F=S[0],k="DAILY",D="1",N="",R="1";let L=!1,O="";if(n){const{id:e,investAsset:n,recurringAmount:i,recurringCycleType:a,recurringInvestDay:r,recurringInvestTime:o,canUseFlexibleSaving:l}=t;O=e,A=(0,ue.RM)(i).dp(2).toString(),F=n,k=a,D=k===Dt.WEEKLY||k===Dt.BI_WEEKLY?r:D,N=k===Dt.MONTHLY?+r>28?"1":r:N,R=o,L=l}const{0:_,1:P}=(0,i.useState)(A),{0:B,1:$}=(0,i.useState)(F),{0:U,1:M}=(0,i.useState)(k),{0:Z,1:H}=(0,i.useState)(D),{0:z,1:Y}=(0,i.useState)(N),{0:G,1:j}=(0,i.useState)(R),{0:W,1:V}=(0,i.useState)("AM"),{0:q,1:X}=(0,i.useState)(L),{0:Q,1:J}=(0,i.useState)({}),{0:ee,1:te}=(0,i.useState)({}),ne=(0,i.useMemo)((()=>Q[B]),[B,Q]),[ie,ae]=a().useState(!1),[re,oe]=a().useState(null);a().useEffect((()=>{(0,ue.GM)(b,_)?(ae(!0),oe(yt.LESS_THAN_MIN)):(0,ue.GM)(_,f)?(ae(!0),oe(yt.GREATER_THAN_MAX)):(ae(!1),oe(null))}),[_,f,b]);const[le,se]=a().useState([]);a().useEffect((()=>{if(!y)return;const e=y.map((e=>c.find((t=>t.targetAsset===e))));se(e)}),[y,c]);const{0:ce,1:de}=(0,i.useState)(!1),[pe,xe]=a().useState(!0),[ge,me]=a().useState(!1),[he,be]=a().useState(0),fe=a().useCallback(((e,t)=>{se(le.map((n=>(0,m.Z)((0,m.Z)({},n),{},{percentage:e===n.targetAsset?t:n.percentage,error:e===n.targetAsset?+t<10:n.error}))))}),[le]);a().useEffect((()=>{const e=!(+_>0)||ie,t=Dt.MONTHLY===U&&!(+z>0),n=(Dt.WEEKLY===U||Dt.BI_WEEKLY===U)&&!(+Z>0),i=!(+G>0),a=!!le.find((e=>(+e.percentage||0)<10)),r=le.reduce(((e,t)=>e+(+t.percentage||0)),0),o=!le.find((e=>!e.percentage));me(o),be(r);xe(!ce||e||t||n||i||!!s&&(a||100!==r))}),[ce,U,z,G,Z,ie,_,s,le]);const ye=(0,i.useMemo)((()=>ee[B]),[B,ee]),ve=(0,i.useMemo)((()=>{const e=v()(),t=Dt.BI_WEEKLY===U||Dt.WEEKLY===U?"weeks":Dt.MONTHLY===U?"months":"days",n=Dt.BI_WEEKLY===U?2:1,i=z?+z:1;let a=w.clone();if(Dt.WEEKLY===U||Dt.BI_WEEKLY===U){const e=E.isoWeekday();a=w.clone().startOf("isoWeek").add(+Z<e?n:0,"weeks").add(+Z-1,"days")}else if(Dt.MONTHLY===U){const e=E.date();a=w.clone().startOf("month").add(e>i?1:0,"months").add(i-1,"days")}return a.add(Zt[W],"hours").add(G,"hours"),a.isBefore(e)&&a.add(n,t),a}),[U,z,w,W,G,E,Z]),Te=(0,i.useMemo)((()=>({id:O||void 0,targetAsset:s?void 0:g,investAsset:B,recurringAmount:_,recurringCycleType:U,recurringInvestTime:`${ve.clone().utc().get("hour")}`,recurringInvestDay:U===Dt.MONTHLY?`${ve.clone().utc().date()}`:U===Dt.DAILY?void 0:`${ve.clone().utc().isoWeekday()}`,canUseFlexibleSaving:q,portfolioDetails:s?le.map((({targetAsset:e,percentage:t})=>({targetAsset:e,percentage:+t}))):void 0})),[O,g,B,_,U,ve,q,s,le]),Ie=(0,i.useCallback)((e=>{const t=e.target.value;if(!I.ZY.test(t)&&""!==t||Number.isNaN(t)||t>12||t<1)return t<1&&j(""),void e.stopPropagation();j(t)}),[]),Se=(0,i.useCallback)((e=>{const t=e.target.value;if(!I.ZY.test(t)&&""!==t||Number.isNaN(t)||t>28||t<1)return t<1&&Y(""),void e.stopPropagation();Y(t)}),[Y]),Ee=(0,i.useCallback)((()=>{(0,Ze.Sj)(Te).then((e=>{const{nextAutoInvestDate:t}=e.data;t&&(l&&l(),x(Ut(o.Box,null,Ut(o.Text,{lineHeight:"24px",fontSize:"16px",color:"t.primary"},d("lending-auto-invest-success-title")),Ut(o.Text,{lineHeight:"20px",fontSize:"14px",color:"t.secondary",mt:"2px"},d(s?"Your Portfolio Auto-Invest will start from":"lending-auto-invest-success-text",{date:v()(+t).local().format("YYYY-MM-DD HH:mm")}))),{variant:"success"}))})).catch((e=>{})).finally((()=>{e()}))}),[e,Te,x,s,l,d]);return(0,i.useEffect)((()=>{const e=n&&null!==t&&void 0!==t&&t.recurringInvestTime?C.clone().add(+t.recurringInvestTime,"hours").local().get("hour"):E.get("hour");0===e?(V(Rt.PM),j("12")):e>12?(V(Rt.PM),j(""+(e-12))):(V(Rt.AM),j(`${e}`))}),[]),(0,i.useEffect)((()=>{(0,dt.qC)({}).then(((e=[])=>{const t=(e||[]).reduce(((e,t)=>(0,m.Z)((0,m.Z)({},e),{},{[t.asset]:t.free})),{});J(t)}))}),[]),(0,i.useEffect)((()=>{(0,Ze.p0)({targetAsset:s?"BTC":g}).then((e=>{const{data:t}=e,n=t.reduce(((e,t)=>(0,m.Z)((0,m.Z)({},e),{},{[t.investAsset]:t.amount})),{});te(n)}))}),[]),Ut(Pt,{closeSelf:e,sx:{maxHeight:["100%","585px","488px"]}},Ut(Bt,{sx:{pb:"none",width:["100%","60%","480px"],bg:"popupBg"}},Ut(Et,{title:d(s?"Create a Portfolio Auto-Invest Plan":"lending-auto-invest-title",{currency:g}),sx:{position:"sticky",top:"0",bg:"popupBg",mb:0},closeSelf:e}),Ut(o.Box,{sx:{overflow:"auto",px:"24px",flex:"1 1 auto"}},!s&&Ut(ct,{coin:g,size:24,mt:"24px",nameSx:{fontSize:"16px",fontWeight:"500"}}),s&&Ut(a().Fragment,null,Ut(o.Flex,{mt:"16px"},d("Name"),": ",g||"--"),Ut(o.Flex,{sx:{fontSize:"14px",lineHeight:"22px",color:"t.primary",mt:"8px",mb:"9px"}},d("Portfolio Allocation"))),Ut(a().Fragment,null,s&&Ut(o.Flex,{fontSize:"12px",lineHeight:"16px",color:"t.third",flexDirection:"column"},le.map((({targetAsset:e,percentage:t,error:n})=>Ut(ft,{key:e,targetAsset:e,percentage:t,error:n,handleChange:fe}))),ge&&(100!==he?Ut(o.Flex,{sx:{color:"t.sell",fontSize:"12px",lineHeight:"16px"}},d("The sum of allocation is",{totalPercentage:he})):Ut(o.Flex,null,d("The sum of allocation must add up to"),Ut(ut.Z,{fontSize:"16px",ml:"4px",color:"#02C076"}))),!ge&&d("The sum of allocation must add up to")),Ut(Tt,{currentBuyAsset:B,setCurrentBuyAsset:$,coinList:S,limitMinInvestAmount:(0,ue.aY)(b),limitMaxInvestAmount:(0,ue.aY)(f),sx:{mt:"20px"},value:_,error:ie,errorType:re,handleChange:P,available:(0,ue.aY)(ne),buyAsset:B}),Ut(o.Box,{className:"recurring-cycle",mt:"16px"},Ut(o.Text,{variant:"body2",color:"t.primary"},d("lending-auto-invest-recurring-cycle")),Ut(o.Flex,{justifyContent:"space-between",alignItems:"center",mt:"8px"},Mt.map((e=>Ut(o.Box,{sx:{height:"32px",width:"25%",borderRadius:"4px",px:["6px","12px"],py:"6px",border:"1px solid",borderColor:""+(U===e?"#F0B90B":"line"),mr:"8px",cursor:"pointer"},key:e,onClick:()=>{M(e)}},Ut(o.Text,{variant:"body2",textAlign:"center",width:"100%",fontSize:["12px","unset"]},d(Lt[e]))))))),Ut(o.Box,{className:"repeatition-peroiod",mt:"16px"},Ut(o.Text,{variant:"body2",color:"t.primary"},d("lending-auto-invest-repeat-on")),(U===Dt.WEEKLY||U===Dt.BI_WEEKLY)&&Ut(o.Flex,{justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center"},Ht.map(((e,t)=>Ut(o.Box,{key:e,sx:{mt:"8px",height:"32px",borderRadius:"4px",px:["6px","12px"],py:["4px","6px"],border:"1px solid",borderColor:""+(t+1===+Z?"primary":"line"),mr:"8px",cursor:"pointer"},onClick:()=>{H(`${t+1}`)}},Ut(o.Text,{variant:"body2",fontSize:["12px","unset"]},d(Ot[e])))))),U===Dt.MONTHLY&&Ut(o.Flex,{alignItems:"center",mt:"8px"},Ut(pt.Z,{size:24,color:"t.primary"}),Ut(o.Text,{ml:"8px",mr:"12px",variant:"body2"},d("lending-auto-invest-date-of-month")),Ut(u.TextFieldV2,{boxProps:{sx:{width:"129px"}},value:z,onChange:Se,size:"md",variant:"filled",type:"number",placeholder:"1-28"})),Ut(o.Flex,{alignItems:"center",mt:"8px"},Ut(xt.Z,{size:24,color:"t.primary"}),Ut(o.Text,{ml:"10px",mr:"12px",variant:"body2"},d("lending-auto-invest-local-time")),Ut(u.TextFieldV2,{size:"md",variant:"filled",type:"number",value:G,onChange:Ie,placeholder:"1-12",boxProps:{sx:{width:"110px"}},suffix:Ut(o.Flex,{alignItems:"center",mr:"8px"},Ut(o.Text,{variant:"subtitle2"},": 00"))}),Ut(o.Flex,{alignItems:"center"},Ut(o.Text,{variant:"subtitle2",sx:{ml:"12px",color:""+(W===Rt.AM?"primary":"line"),cursor:"pointer"},onClick:()=>{V(Rt.AM)}},Rt.AM),Ut(o.Text,{variant:"subtitle2",sx:{ml:"12px",color:""+(W===Rt.PM?"primary":"line"),cursor:"pointer"},onClick:()=>{V(Rt.PM)}},Rt.PM))),Ut(o.Text,{variant:"caption",color:"t.third",mt:"8px",mb:"24px"},d("lending-auto-invest-time-tips",{date:ve.format("YYYY-MM-DD"),time:ve.format("HH: mm")})))))),Ut($t,{sx:{width:["100%","40%","368px"],bg:"bg3"}},Ut(o.Box,{height:"100%"},Ut(o.Text,{variant:"subtitle1",color:"t.primary"},d("lending-summary")),Ut(o.Flex,{flexDirection:"column",justifyContent:"space-between",height:["unset","100%"],pb:[0,"24px"]},Ut(kt,{amount:_&&B?`${(0,T.uf)(_,2)} ${B}`:"--",investDate:ve.format("YYYY-MM-DD HH: mm"),sx:{mt:"16px"}}),Ut(o.Flex,{flexDirection:"column"},Ut(o.Box,{className:"flexible-balance",sx:{px:"20px",py:"16px",mt:"16px",bg:"popupBg",borderRadius:"8px"}},Ut(o.Flex,{alignItems:"center",justifyContent:"space-between"},Ut(o.Box,null,Ut(o.Text,{variant:"body1",color:"t.primary",mt:"2px"},d("lending-auto-invest-flexbile-title")),Ut(o.Text,{variant:"caption",color:"t.third",mt:"2px"},d("lending-auto-invest-balance",{currency:B,amount:(0,ue.GM)(ye,0)?(0,T.uf)(ye,2):"0"}))),Ut(o.Box,null,Ut(o.Switch,{size:24,color:"primary",checked:q,onChange:e=>{const t=e.target.checked;X(t)}}))),Ut(o.Text,{color:"#848E9C",mt:"8px",fontSize:"12px",lineHeight:"16px"},d("lending-auto-invest-balance-tips"))),Ut(mt,{checked:ce,onChange:de,sx:{backgroundColor:"transparent",mt:"16px",alignItems:"flex-start"}},Ut(o.Box,{sx:{a:{textDecoration:"none"},fontSize:"12px",lineHeight:"16px"}},Ut(K.Trans,{t:d,i18nKey:"I have read and agree to Binance Auto-Invest Agreement",components:{termsLink:Ut(o.Link,{target:"_blank",href:`/${p}/support/faq/c-140?navId=140#153`,color:"t.yellow"})}}))),Ut(o.Button,{mt:"8px",className:"savings-confirm",disabled:pe,sz:"l",width:1,onClick:Ee},d("lending-confirmTransferIn")))))))};var Yt,Gt=a().createElement;!function(e){e.ONGOING="ONGOING",e.PAUSED="PAUSED",e.REMOVED="REMOVED"}(Yt||(Yt={}));const jt={[Yt.ONGOING]:!0,[Yt.PAUSED]:!1},Wt=()=>{var e;const t=(0,i.useRef)(),{t:n,i18n:{language:l}}=(0,r.$)(),{enqueueNotification:s}=(0,u.useNotification)(),{0:c,1:d}=(0,i.useState)(!1),{0:p,1:x}=(0,i.useState)(!1),{0:m,1:h}=(0,i.useState)({}),{0:b,1:f}=(0,i.useState)(Yt.PAUSED),y=(0,i.useCallback)((e=>{h(e);const{id:i,status:a}=e;jt[a]?(f(Yt.PAUSED),d(!0)):(0,Ze.d$)({id:i,status:Yt.ONGOING}).then((e=>{const{success:i,message:a}=e;if(!i)throw a;s(n("lending-Success"),{variant:"success"}),t.current.forceUpdate()})).catch((e=>{}))}),[s,n]),v=a().useMemo((()=>({key:"status",label:"lending-on-or-off",align:"center",renderFunc:()=>(e,t)=>Gt(o.Switch,{size:16,color:"primary",checked:jt[e],onChange:()=>{y(t)}})})),[y]),T=(0,i.useCallback)((e=>{h(e),x(!0)}),[]),S=(0,i.useCallback)((e=>{h(e),f(Yt.REMOVED),d(!0)}),[]),{isMobile:E}=(0,ze.GS)(),[w,C]=a().useState(!1),[A,F]=a().useState([]),k=a().useCallback((e=>{let t=[{Icon:e=>Gt($e.Z,e),text:"lending-edit",onClick:()=>{T(e)}},{Icon:e=>Gt(Ue.Z,e),text:"lending-remove-plan",onClick:()=>{S(e)}}];return e.portfolio&&E&&(t=t.concat({Icon:e=>Gt(Me.Z,e),text:"View Holdings",onClick:()=>{C(!0),F(e.portfolioDetails)}})),Gt(g.aU,{config:t,showAction:!!e.id})}),[T,S,E]),D=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>k(t)})),[k]),N=a().useMemo((()=>(e,t)=>Gt(o.Flex,{alignItems:"center"},Gt(o.Button,{onClick:()=>{t(e)},variant:"quiet",minWidth:"unset",fontSize:"14px",lineHeight:"20px",fontWeight:400,p:0},n(e.isExpand?"Hide Holdings":"Show Holdings")))),[n]),R=a().useMemo((()=>[...tt(N).slice(0,2),v,...tt(N).slice(2),D]),[D,v,N]),L=a().useMemo((()=>({rows:[...nt().slice(0,3),v,...nt().slice(3)],header:e=>Gt(g.DJ,{asset:e.targetAsset,action:k(e),customLogo:e.portfolio?Gt(o.Image,{src:`${I.Hb}/chart-pie-g.svg`,sx:{display:"flex",flex:"0 0 auto",width:"20px",height:"20px",mr:"8px"}}):void 0})})),[k,v]),O=a().useMemo((()=>({rows:it,header:e=>Gt(g.DJ,{asset:e.targetAsset,action:k(e),customLogo:e.portfolio?Gt(o.Image,{src:`${I.Hb}/chart-pie-g.svg`,sx:{display:"flex",flex:"0 0 auto",width:"20px",height:"20px",mr:"8px"}}):void 0})})),[k]),{url:_}=(0,He.Um)(l).SAVINGS_WALLET||{};return Gt(oe,{sx:{position:"relative"}},Gt(o.Button,{variant:"quiet",as:"a",href:null===(e=(0,He.Um)(l).AUTO_INVEST)||void 0===e?void 0:e.url,sz:"m",lineHeight:"20px",fontWeight:400,mb:["24px","32px",0],p:"0",sx:{position:["static","static","absolute"],top:["unset","unset","-60px"],right:["unset","unset",0]}},n("lending-autoInvest-createPlan")),Gt(o.Flex,{sx:{mb:["24px","16px"],color:"t.third",fontSize:"12px",lineHeight:"16px",display:"block"}},Gt(K.Trans,{t:n,i18nKey:"To redeem your purchased crypto",components:{primary:Gt(o.Link,{target:"_blank",href:_,color:"t.yellow",onClick:e=>{Re.IS_ELECTRON_APP&&(e.preventDefault(),window.location.hash=_,window.location.reload())}}),quot:'"'}})),Gt(o.Box,{sx:{".bn-table-cell.bn-table-row-expand-icon-cell":{},".bn-table-row.bn-table-row-level-1":{td:{background:"pink"}}}},Gt(g.ev,{ref:t,dataSource:Ze.wy,tableConfig:R,mobileConfig:L,rowKey:e=>e.id,mobileExpandNum:4})),Gt(u.StyledDialog,{open:c,showTitleBottomLine:!1,onCloseIconClick:()=>d(!1),sx:{width:["100%","384px"]}},Gt(Pe,{project:m,setOpen:e=>{d(e)},onSuccess:()=>t.current.forceUpdate(),type:b})),Gt(u.StyledDialog,{open:p,showTitleBottomLine:!1,onCloseIconClick:()=>x(!1),sx:{width:["100%","384px"]},contentSx:{p:"0"},containerSx:{"& > div:nth-of-type(2) > div:nth-of-type(1)":{display:"none"},"& > div:nth-of-type(2)":{width:["100%","90%","848px"],maxWidth:[void 0,"848px",void 0],overflowX:"auto"}}},Gt(zt,{projectInfo:m,closeSelf:()=>{x(!1)},isEdit:!0,onSuccess:()=>t.current.forceUpdate(),isPortfolio:m.portfolio,targetAssetsFromProps:m.portfolioDetails})),Gt(u.StyledDialog,{open:w,onCloseIconClick:()=>C(!1),contentSx:{p:"0"}},Gt(g.XF,null,Gt(g.BU,{data:A,rows:O.rows,header:O.header,itemKey:e=>e.targetAsset,mobileExpandNum:5,rowKey:e=>e.targetAsset}))))},Kt=a().memo(Wt);var Vt=a().createElement;const qt=(e,t)=>C()(e).gt(t),Xt={label:"lending-tamount",key:"totalAmount",align:"right"},Qt={label:"lending-AccuringInterest",key:"accruingInterest",align:"right"},Jt={label:"lending-famount",key:"todayPurchasedAmount",align:"right"},en=e=>`${(0,T.mW)(e)}%`,tn={label:"lending-EstAPY",key:"annualInterestRate",align:"right",renderFunc:e=>(t,{hasTierInterest:n,tierAnnualInterestRateList:i,asset:a,totalAmount:r,accruingInterest:l})=>{if(!n)return en(t);const s=qt(l,0),c=i[0].annualInterestRate,d=i.map((({beginAmount:e,endAmount:t,annualInterestRate:n})=>!(!qt(r,e)&&s)&&(t?`${+e?(0,T.Pc)(e,8):"0"}-${(0,T.Pc)(t,8)} ${a}: ${en(n)} `:`>${(0,T.Pc)(e,8)} ${a}: ${en(n)}`))).filter((e=>e)).join("<br/>");return Vt(o.Box,null,Vt(g.uw,{tipContent:Vt(o.Box,null,Vt(o.Text,{fontWeight:"bold"},e("lending-tier-tip-title")),Vt(o.Text,null,e("lending-tier-tip-content")),Vt(o.Text,{mt:"24px",dangerouslySetInnerHTML:{__html:d}}))},Vt(F.Z,{size:16,mr:"4px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})),en(c))}},nn={label:"lending-cumulativeinterest",key:"totalInterest",align:"right",renderFunc:()=>e=>Vt(o.Text,{color:"t.buy"},e)},an=[{label:"lending-Coin",key:"asset",renderFunc:()=>e=>Vt(E.zg,{asset:e})},{label:"lending-vdate",key:"startDate"},Xt,Qt,Jt,tn,nn],rn={header:e=>Vt(g.DJ,{asset:e.asset}),rows:[Xt,tn,nn,Qt,Jt,{label:"lending-vdate",key:"startDate"}]};var on=a().createElement;function ln(){return on(oe,null,on(g.xS,{tableConfig:an,mobileConfig:rn,dataSource:b.D4,rowKey:e=>e.positionId}))}const sn=a().memo(ln);var cn=a().createElement;function dn({type:e}){const{t:t}=(0,r.$)(),n="1"===`${e}`.split("")[0]?+e:11;return cn(g._i,{defaultActiveKey:n},cn(u.TabPane,{tab:t("lending-DAILY"),tabKey:11},cn(de,null)),cn(u.TabPane,{tab:t("lending-REGULAR"),tabKey:12},cn(Fe,null)),cn(u.TabPane,{tab:t("lending-tab-activity"),tabKey:13},cn(Ne,null)),cn(u.TabPane,{tab:t("lending-auto-invest"),tabKey:14},cn(Kt,null)),cn(u.TabPane,{tab:t("lending-tab-exp"),tabKey:15},cn(sn,null)))}const un=a().memo(dn);var pn=a().createElement;const xn={flexWrap:"wrap","> div":{flex:"1 1 auto",width:["50%","50%","25%"],":nth-of-type(3),:nth-of-type(4)":{marginTop:["32px","24px",0]}}};function gn(){const{0:e,1:t}=(0,i.useState)({});(0,i.useEffect)((()=>{(0,f.ej)().then((e=>{t(e)}))}),[]);const{todayInterestInBtc:n,totalAmountInBtc:a,totalExperienceCouponInterestInBtc:r,totalInterestInBtc:o}=e;return pn(g.g$,{sx:xn},pn(g.lc,{valueInBtc:a,titleKey:"lending-estimatedvalue"}),pn(g.lc,{valueInBtc:o,titleKey:"Total Profit",isGreen:!0}),pn(g.lc,{valueInBtc:n,titleKey:"Last Day Profit",isGreen:!0}),pn(g.lc,{valueInBtc:r,titleKey:"lending-exp-bonus",isGreen:!0}))}const mn=a().memo(gn);var hn=n("dbXa"),bn=a().createElement;const fn=(e,t,n=4)=>C()(e).toFormat(~~t,n),yn=e=>`${(0,T.mW)(e)}%`,vn={label:"lending-Coin",key:"asset",renderFunc:()=>e=>bn(E.zg,{asset:e})},Tn={label:"saving-reward-coin",renderFunc:()=>(e,{asset:t,extraInterestAsset:n,interestType:i})=>bn(o.Flex,{sx:{flexDirection:"row",whiteSpace:"pre",alignItems:"center"}},"AC"===i&&bn(E.zg,{asset:t,mr:"16px"}),("AC"===i||"C"===i)&&bn(E.zg,{asset:n}),"A"===i&&"--")},In={label:"lending-NextDistributionAmount",key:"nextInterestPay",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n,asset:i})=>0===Number(t)&&n>0||(0,p.kK)(e)?"--":bn(o.Text,null,fn(e,8)," ",i)},Sn={label:"lending-NextInterestDate",key:"nextInterestPayDate",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||!e?"--":e?v()(+e).format(I.zT):void 0},En={label:"lending-NextInterestPeriod",key:"payInterestPeriod",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i})=>0===Number(n)&&i>0||(0,p.kK)(t)?"--":(0,p.kK)(t)?void 0:`${t} ${e("lending-days")}`},wn={HOLDING:"status-holding",REDEEMING:"status-redeeming",TRANSFERRED:"status-converted",REDEEMED:"status-redeemed",EARLY_REDEEMING:"status-redeemed-early"},Cn={HOLDING:I.aD.green,REDEEMING:I.aD.yellow,TRANSFERRED:I.aD.green,REDEEMED:I.aD.green,EARLY_REDEEMING:I.aD.yellow},An={label:"saving-reward-amount",align:"right",renderTitle:e=>bn(S.uw,{tipContent:bn(o.Box,{maxWidth:280},e("saving-reward-amount-tool-tip"))},bn(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap"}},e("saving-reward-amount"))),renderFunc:()=>(e,{interest:t,asset:n,extraInterestAmount:i,extraInterestAsset:r})=>bn(o.Flex,{alignItems:"center",justifyContent:"flex-end"},+t?`${t} ${n}`:"",!!+t&&!!+i&&bn(a().Fragment,null,"\xa0+\xa0"),+i?`${i} ${r}`:"",!+t&&!+i&&"--")},Fn={label:"lending-tamount",align:"right",key:"amount",renderFunc:()=>(e,{amount:t,asset:n})=>t?`${t} ${n}`:"--"},kn={label:"lending-sdate",key:"createTimestamp",renderFunc:()=>e=>v()(+e).format(I.zT),align:"right"},Dn={label:"lending-EstAPY",align:"right",key:"",renderFunc:(e,t)=>(e,t)=>((e,{interestRate:t,asset:n,extraInterestRate:i,extraInterestAsset:r,status:l})=>bn(o.Flex,{sx:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",".img":{display:["none","flex"]}}},"EARLY_REDEEMING"===l&&"--","EARLY_REDEEMING"!==l&&(+t?bn(E.cE,{asset:n,text:yn(t)}):""),"EARLY_REDEEMING"!==l&&!!+t&&!!+i&&bn(a().Fragment,null,"\xa0+\xa0"),"EARLY_REDEEMING"!==l&&+i?bn(E.cE,{asset:r,text:yn(i)}):""))(0,t)},Nn={label:"lending-pos-lockedPeriod",key:"duration",renderFunc:e=>t=>`${null!==t&&void 0!==t?t:"--"} ${e("lending-days")}`,align:"right"},Rn={label:"Interest End Date",key:"redeemDate",align:"right",renderFunc:()=>e=>v()(+e).format(I.zT)},Ln={label:"pos-accrue-days",key:"accrualDays",renderFunc:e=>(t,{interestRate:n})=>(0,p.hu)(+t>0||+n>0,`${t} ${e("lending-days")}`,bn(o.Box,null,bn(S.uw,{tipContent:e("saving-pos-accrue-days-tool-tip")},bn(F.Z,{size:16,mr:"4px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})),"--")),align:"right"},On={label:"lending-cumulativeinterest",key:"interest",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i,asset:a})=>0===Number(n)&&i>0?bn(o.Box,null,bn(S.uw,{tipContent:e("lending-cumulativeinterest-tool-tip")},bn(F.Z,{size:16,mr:"4px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})),"--"):bn(o.Flex,{sx:{flexDirection:"column"}},bn(o.Flex,{sx:{justifyContent:"flex-end",color:"t.buy"}},fn(t,8)," ",a)),renderTitle:e=>bn(o.Flex,{sx:{flexDirection:"column"}},bn(o.Flex,{sx:{justifyContent:"flex-end"}},e("lending-cumulativeinterest")))},_n={label:"lending-EndDate",key:"deliverDate",align:"right",renderFunc:()=>e=>e?v()(+e).utc().add(10,"hours").local().format(I.yQ):"--"},Pn={label:"lending-status",key:"status",renderFunc:e=>t=>bn(g.qb,{color:Cn[t],text:e(wn[t])})},Bn=[vn,Tn,Fn,An,kn,Dn,Nn,Rn,Ln,On,In,Sn,En,_n,Pn],$n=[Fn,Dn,On,Tn,An,kn,Nn,Rn,Ln,In,Sn,En,_n,Pn];var Un=n("cvRa"),Mn=n("LqMh"),Zn=n("VhEl"),Hn=n("hI/M"),zn=a().createElement;function Yn({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{}),isDefi:a=!1}){const{asset:l,positionId:s,interest:c,unpayInterest:d,redeemPeriod:p,redeemAmountEarly:x}=e,{t:g,i18n:{language:m}}=(0,r.$)(),{0:h,1:b}=(0,i.useState)(!1),{0:f,1:y}=(0,i.useState)(!1),{enqueueNotification:T}=(0,u.useNotification)(),{isLight:S}=(0,Un.Fg)(),E=(0,i.useCallback)((()=>{y(!0);(a?Zn.oo:Zn.Xg)({id:s}).then((()=>{y(!1),T(g("lending-redeemSuccessTip"),{variant:"success"}),n(),t(!1)})).catch((e=>{y(!1)}))}),[T,a,n,s,t,g]);return zn(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},zn(o.Box,{sx:{position:"relative"}},zn(o.Box,{sx:{pb:"6px",borderBottom:"1px solid",borderColor:"line",mb:"16px"}},zn(o.Text,{sx:{mb:["8px"]}},zn(o.Text,{variant:"subtitle2"},g("pos-redeem-earlier-amount")),zn(o.Flex,{sx:{mb:"6px"}},zn(o.Text,{variant:"caption",sx:{color:"t.secondary"}},g("(Redemption amount = purchase principal-interest earned)")))),zn(o.Flex,{sx:{lineHeight:["24px"],fontSize:["20px"],fontWeight:"500"}},zn(o.Text,null,(0,Mn.uf)(x,8)," ",l))),zn(u.AlertV2,{variant:"warning",fontSize:0,sx:{mb:"16px",bg:"badgeYellowBg"},icon:zn(Hn.Z,{color:"primary",sx:{flex:"0 0 auto"}})},g("lending-RedeemingTip")),zn(o.Flex,{sx:{color:"t.secondary"}},zn(o.Flex,null,zn(o.Text,{variant:"body2"},g("lending-ReceivedInterest"),":\xa0")),zn(o.Flex,null,zn(o.Text,{variant:"body2"},(0,Mn.uf)(+c+ +d,8)," ",l))),zn(o.Flex,{sx:{color:"t.secondary"}},zn(o.Flex,null,zn(o.Text,{variant:"body2"},g("lending-EndDate"),":\xa0")),zn(o.Flex,{sx:{color:"#d19729"}},zn(o.Text,{variant:"body2"},v()().utc().startOf("day").add(+p+1,"days").add(10,"hours").local().format(I.yQ))))),zn(u.StyledDialogFooter,null,zn(o.Box,{mb:["12px","14px"],sx:{p:"8px"}},zn(o.Label,null,zn(o.Checkbox,{checked:h,onChange:e=>b(e.target.checked)}),zn(o.Text,{variant:"checkbox",color:"t.secondary"},zn(K.Trans,{t:g,i18nKey:"lending-pos-ptip",components:{termsLink:zn(o.Link,{target:"_blank",href:`/${m}/terms`,color:"t.yellow"})}})))),zn(o.Flex,null,zn(o.Button,{flex:"1",sz:"l",colorStyle:"primary",disabled:f||!h,onClick:E},g(f?"lending-processing":"pos-redeem-earlier")))))}const Gn=a().memo(Yn);var jn=a().createElement;function Wn({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{}),isDefi:a=!1}){const{amount:l,asset:s,positionId:c}=e,{t:d,i18n:{language:p}}=(0,r.$)(),{0:x,1:g}=(0,i.useState)(!1),{0:m,1:h}=(0,i.useState)(!1),{0:b,1:f}=(0,i.useState)(""),{enqueueNotification:y}=(0,u.useNotification)(),v=(0,i.useCallback)((()=>{h(!0);(a?Zn.pX:Zn.H3)({positionId:c,productId:b}).then((()=>{h(!1),y(d("lending-transformSuccess"),{variant:"success"}),n(),t(!1)})).catch((e=>{h(!1)}))}),[y,a,n,c,b,t,d]);return(0,i.useEffect)((()=>{(a?Zn.xw:Zn.kx)({asset:s,pageIndex:1,pageSize:I.IV}).then((e=>{var t,n,i,a;f((null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n||null===(i=n.products)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.productId)||"")}))}),[s,a]),jn(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},jn(o.Box,{sx:{position:"relative"}},jn(o.Box,{sx:{pb:["24px"],borderBottom:"1px solid",borderColor:"line"}},jn(o.Text,{sx:{lineHeight:["18px"],fontSize:["14px"],mb:["8px"]}},d("pos-transfer-to-flexible-amount")),jn(o.Flex,{sx:{lineHeight:["24px"],fontSize:["20px"],fontWeight:"500"}},jn(o.Text,null,(0,Mn.uf)(l,8)," ",s))),jn(o.Box,{sx:{color:"t.secondary",pt:["24px"],lineHeight:["20px"],fontSize:["14px"]}},jn(o.Text,null,"1.\xa0",d("pos-lock-to-flex-tip-1")),jn(o.Text,{sx:{marginTop:"8px"}},"2.\xa0",d("pos-lock-to-flex-tip-2")),jn(o.Text,{sx:{marginTop:"8px"}},"3.\xa0",d("pos-lock-to-flex-tip-3")))),jn(u.StyledDialogFooter,null,jn(o.Box,{mb:["12px","14px"]},jn(o.Label,null,jn(o.Checkbox,{checked:x,onChange:e=>g(e.target.checked)}),jn(K.Trans,{t:d,i18nKey:"lending-pos-ptip",components:{termsLink:jn(o.Link,{target:"_blank",href:`/${p}/terms`,color:"t.yellow",sx:{ml:"5px"}})}}))),jn(o.Flex,null,jn(o.Button,{flex:"1",sz:"l",colorStyle:"primary",disabled:m||!x,onClick:v},d(m?"lending-processing":"pos-transfer-to-flexible")))))}const Kn=a().memo(Wn);var Vn=a().createElement;function qn(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:o}=(0,i.useState)(!1),{0:l,1:s}=(0,i.useState)(!1),{0:c,1:d}=(0,i.useState)({}),x=(0,i.useCallback)((e=>{e.canRedeemEarly&&(s(!0),d(e))}),[]),m=a().useCallback((e=>Vn(g.aU,{config:[{Icon:e=>Vn(le.Z,e),text:"pos-redeem-earlier",onClick:()=>{x(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_posLocked",elementid:"lending-Operation"})},disabled:!e.canRedeemEarly}]})),[x]),b=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>m(t)})),[m]),f=a().useMemo((()=>[...Bn,b]),[b]),y=(0,i.useMemo)((()=>({rows:$n,header:e=>Vn(g.DJ,{asset:e.asset,action:m(e)})})),[m]);return Vn(oe,null,Vn(g.xS,{ref:t,dataSource:hn.rF,tableConfig:f,mobileConfig:y,rowKey:e=>e.positionId}),Vn(u.StyledDialog,{open:n||l,onCloseIconClick:()=>{o(!1),s(!1)},title:e(n?"pos-transfer-to-flexible":"pos-redeem-earlier"),sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},(0,p.hu)(n,Vn(Kn,{project:c,setOpen:o,onSuccess:()=>t.current.forceUpdate()}),Vn(Gn,{project:c,setOpen:s,onSuccess:()=>t.current.forceUpdate()}))))}const Xn=a().memo(qn);var Qn=a().createElement;const Jn=(e,t)=>C()(e).gt(t),ei={label:"lending-tamount",key:"amount",align:"right",renderFunc:()=>(e,{amount:t,asset:n})=>t?`${t} ${n}`:"--"},ti={label:"lending-AccuringInterest",key:"accruingInterestAmount",align:"right",renderFunc:e=>(t,{asset:n,nextPayInterestAmount:i})=>Qn(o.Flex,{alignItems:"center",justifyContent:"flex-end"},Jn(t,0)&&!Jn(i,0)&&Qn(S.uw,{tipContent:e("lending-no-interest-staking-tip")},Qn(F.Z,{size:16,mr:"4px",sx:{position:"relative",color:"#474D57","&:hover":{color:"primary"}}})),Qn(o.Text,null,`${t}`))},ni={label:"lending-famount",key:"todayPurchasedAmount",align:"right"},ii={label:"lending-redeeming",key:"redeemingAmount",align:"right",renderFunc:e=>(t,{redeemingRecordList:n})=>t>0&&Array.isArray(n)&&n.length>0?Qn(o.Flex,{alignItems:"center",justifyContent:"flex-end"},Qn(S.uw,{isNeededContainer:!0,tipContent:Qn(o.Box,{sx:{textAlign:"left"}},Qn(o.Text,null,e("lending-redemption-timeline")),n.map((({redeemingAmount:t,asset:n,deliverDate:i},a)=>Qn(o.Flex,{key:a},Qn(o.Text,null,e("lending-redemption-timeline-tips",{redeemingAmount:t,asset:n,standardRdpDate:v()(+i).utc().add(I.qZ,"hours").local().format(I.yQ)}))))))},Qn(A.Z,{size:16,mr:"4px",sx:{position:"relative",color:"#474D57","&:hover":{color:"#F0B90B"}}})),t):t},ai={label:"lending-EstAPY",renderFunc:()=>e=>(e=>`${(0,T.mW)(e)}%`)(e),key:"annualInterestRate",align:"right"},ri={label:"lending-cumulativeinterest",key:"totalInterest",align:"right",renderFunc:()=>(e,{asset:t})=>Qn(o.Text,{color:"#02C076"},`${e}`)},oi={label:"lending-NextDistributionAmount",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||(0,p.kK)(e)?"--":Qn(o.Text,null,((e,t,n=4)=>C()(e).toFormat(~~t,n))(e,8)),key:"nextPayInterestAmount"},li=[{label:"lending-Coin",key:"asset",renderFunc:()=>e=>Qn(E.zg,{asset:e})},{label:"",isPcColumnDisplay:(e=[])=>-1!==e.findIndex((e=>e.partnerName)),key:"partnerName",renderFunc:()=>e=>Qn(E.j9,{partnerName:e})},ei,ai,ni,ti,ii,ri,oi],si=[ei,ai,ri,ni,ti,ii,oi];var ci=a().createElement;const{NORMAL:di}=I.n0,ui=({children:e})=>ci(o.Box,{fontWeight:"bold"},e),pi={isError:!1,errorText:""};function xi({project:e={},setOpen:t=(()=>{}),onSuccess:n=(()=>{}),isDefi:a=!1}){const{t:l,i18n:{language:s}}=(0,r.$)(),{asset:c,productId:d,deliverDate:x}=e,g=e.amount,{0:m,1:h}=(0,i.useState)(0),{0:b,1:f}=(0,i.useState)(0),{0:y,1:T}=(0,i.useState)(""),{0:S,1:E}=(0,i.useState)(di),{0:w,1:C}=(0,i.useState)(!1),{0:A,1:F}=(0,i.useState)(!1),{enqueueNotification:k}=(0,u.useNotification)(),{0:D,1:N}=(0,i.useState)(pi),R=(0,i.useCallback)((()=>+y>+m?(N({isError:!0,errorText:l("lending-ltmin",{max:m,asset:c,interpolation:{prefix:"%",suffix:"%"}})}),!1):+y<+b?(N({isError:!0,errorText:l("lending-stmin",{min:b,asset:c,interpolation:{prefix:"%",suffix:"%"}})}),!1):(N({isError:!1,errorText:""}),!0)),[y,c,m,b,l]),L=(0,i.useCallback)((e=>{const t=e.currentTarget.value;!I.ZY.test(t)&&0!==t.length||+t>+m||(T(t),N({isError:!1,errorText:""}))}),[m]);(0,i.useEffect)((()=>{(a?Zn.CP:Zn.O1)({productId:d}).then((e=>{var t,n;const i=(null===(t=e.data)||void 0===t?void 0:t.minRedemptionAmount)||0;h((null===(n=e.data)||void 0===n?void 0:n.userRedemptionLeftQuota)||0),f(+i>+g?g:i)}))}),[a,d,g,S]);const O=(0,i.useCallback)((async()=>{if(!R())return;F(!0);(a?Zn.yF:Zn._e)({productId:d,amount:+y}).then((()=>{F(!1),n(),t(!1),k(l("lending-redeemSuccessTip"),{variant:"success"})})).catch((e=>{F(!1)}))}),[y,k,a,n,d,t,l,R]),{isError:_,errorText:P}=D;return ci(o.Flex,{flexDirection:"column",height:["100vh","auto"],overflowY:["auto","visible"]},ci(o.Box,{sx:{position:"relative"}},ci(o.Box,{sx:{position:"absolute",top:"0",right:"0",lineHeight:"24px",fontSize:"12px",color:"t.third"}},ci("span",null,l("lending-demandAvailable")),"\xa0",ci("span",null,m," ",c)),ci(u.TextField,{variant:"outlineLarge",boxProps:{sx:{width:"100%"}},value:y,onChange:L,labelFixed:!0,label:l("lending-ramount"),placeholder:l("lending-redemplaceholder"),error:_,errorText:P,suffix:ci(o.Flex,{alignItems:"center"},c,ci(o.Box,{sx:{height:"12px",width:"1px"},bg:"#E6E7EA",m:"0 12px"}),ci(o.Button,{variant:"quiet",onClick:()=>T(m)},l("lending-max")))})),ci(o.Flex,{flexDirection:"column",mt:[4],sx:{svg:{width:"18px",height:"18px"}}},ci(o.Text,null,l("lending-method")),ci(o.Flex,{onClick:()=>E(di),flexDirection:"column",mt:"12px",padding:"16px",sx:S===di?j:G},ci(o.Radio,{value:di,checked:S===di,onChange:E,label:ci(ui,null,l("lending-normal"))}),ci(o.Box,{sx:Y,dangerouslySetInnerHTML:{__html:(0,p.hu)(a,l("lending-defi-redeem-normal-tip",{standardRdpDate:v()(+x).utc().add(I.qZ,"hours").local().format(I.yQ),interpolation:{prefix:"{{",suffix:"}}"}}),l("pos-redeem-normal-tip"))}}))),ci(u.StyledDialogFooter,null,ci(o.Box,{mb:["12px","14px"]},ci(o.Label,null,ci(o.Checkbox,{checked:w,onChange:e=>C(e.target.checked)}),ci(K.Trans,{t:l,i18nKey:"lending-pos-ptip",components:{termsLink:ci(o.Link,{target:"_blank",href:`/${s}/terms`,color:"t.yellow"})}}))),ci(o.Flex,null,ci(o.Button,{onClick:O,disabled:A||!w||+y<=0,flex:"1",sz:"l",colorStyle:"primary"},l(A?"lending-processing":"lending-Redeem")))))}const gi=a().memo(xi);var mi=a().createElement;function hi(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:o}=(0,i.useState)(!1),{0:l,1:s}=(0,i.useState)({}),c=(0,i.useCallback)((e=>{e.canRedeem&&(o(!0),s(e))}),[]),d=a().useCallback((e=>mi(g.aU,{config:[{Icon:e=>mi(le.Z,e),text:"lending-Redeem",onClick:()=>{c(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_defiFlexible",elementid:"lending-Operation"})},disabled:!e.canRedeem||0===+e.amount}]})),[c]),p=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>d(t)})),[d]),x=a().useMemo((()=>[...li,p]),[p]),m=(0,i.useMemo)((()=>({rows:si,header:e=>mi(g.DJ,{asset:e.asset,action:d(e),partnerName:e.partnerName})})),[d]);return mi(oe,null,mi(g.xS,{ref:t,dataSource:hn.Nk,tableConfig:x,mobileConfig:m,rowKey:e=>e.asset}),mi(u.StyledDialog,{open:n,onCloseIconClick:()=>o(!1),title:e("lending-Redeem"),sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},mi(gi,{project:l,setOpen:o,onSuccess:()=>t.current.forceUpdate(),isDefi:!0})))}const bi=a().memo(hi);var fi=a().createElement;const yi=(e,t,n=4)=>C()(e).toFormat(~~t,n),vi={label:"lending-Coin",key:"asset",renderFunc:(e,t)=>e=>fi(E.zg,{asset:e})},Ti={label:"",isPcColumnDisplay:(e=[])=>-1!==e.findIndex((e=>e.partnerName)),key:"partnerName",renderFunc:()=>e=>fi(E.j9,{partnerName:e})},Ii={label:"lending-NextDistributionAmount",key:"nextInterestPay",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||(0,p.kK)(e)?"--":fi(o.Text,null,yi(e,8))},Si={label:"lending-NextInterestDate",key:"nextInterestPayDate",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||!e?"--":e?v()(+e).format(I.zT):void 0},Ei={label:"lending-NextInterestPeriod",key:"payInterestPeriod",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i})=>0===Number(n)&&i>0||(0,p.kK)(t)?"--":(0,p.kK)(t)?void 0:`${t} ${e("lending-days")}`},wi={HOLDING:"status-holding",REDEEMING:"status-redeeming",TRANSFERRED:"status-converted",REDEEMED:"status-redeemed",EARLY_REDEEMING:"status-redeemed-early"},Ci={HOLDING:I.aD.green,REDEEMING:I.aD.yellow,TRANSFERRED:I.aD.green,REDEEMED:I.aD.green,EARLY_REDEEMING:I.aD.yellow},Ai={label:"lending-tamount",align:"right",key:"amount",renderFunc:()=>(e,{amount:t,asset:n})=>t?`${t} ${n}`:"--"},Fi={label:"lending-sdate",key:"createTimestamp",renderFunc:()=>e=>v()(+e).format(I.yQ),align:"right"},ki={label:"lending-EstAPY",renderFunc:()=>e=>(e=>`${(0,T.mW)(e)}%`)(e),key:"interestRate",align:"right"},Di={label:"lending-pos-lockedPeriod",key:"duration",renderFunc:e=>t=>`${null!==t&&void 0!==t?t:"--"} ${e("lending-days")}`,align:"right"},Ni={label:"Interest End Date",key:"redeemDate",align:"right",renderFunc:()=>e=>v()(+e).format(I.zT)},Ri={label:"pos-accrue-days",key:"accrualDays",renderFunc:e=>(t,{interestRate:n})=>(0,p.hu)(+t>0||+n>0,`${t} ${e("lending-days")}`,fi(o.Box,null,fi(S.uw,{tipContent:e("saving-pos-accrue-days-tool-tip")},fi(F.Z,{size:16,mr:"4px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})),"--")),align:"right"},Li={label:"lending-cumulativeinterest",key:"interest",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i})=>0===Number(n)&&i>0?fi(o.Box,null,fi(S.uw,{tipContent:e("lending-cumulativeinterest-tool-tip")},fi(F.Z,{size:16,mr:"4px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})),"--"):fi(o.Flex,{sx:{flexDirection:"column"}},fi(o.Flex,{sx:{justifyContent:"flex-end",color:"t.buy"}},yi(t,8))),renderTitle:e=>fi(o.Flex,{sx:{flexDirection:"column"}},fi(o.Flex,{sx:{justifyContent:"flex-end"}},e("lending-cumulativeinterest")))},Oi={label:"lending-EndDate",key:"deliverDate",align:"right",renderFunc:()=>e=>e?v()(+e).utc().add(10,"hours").local().format(I.zT):"--"},_i={label:"lending-status",key:"status",renderFunc:e=>t=>fi(g.qb,{color:Ci[t],text:e(wi[t])})},Pi=[vi,Ti,Ai,ki,Fi,Di,Ni,Ri,Li,Ii,Si,Ei,Oi,_i],Bi=[Ai,ki,Li,Fi,Di,Ni,Ri,Ii,Si,Ei,Oi,_i];var $i=a().createElement;function Ui(){const{t:e}=(0,r.$)(),t=(0,i.useRef)(),{0:n,1:o}=(0,i.useState)(!1),{0:l,1:s}=(0,i.useState)(!1),{0:c,1:d}=(0,i.useState)({}),x=(0,i.useCallback)((e=>{e.canRedeemEarly&&(s(!0),d(e))}),[]),m=a().useCallback((e=>$i(g.aU,{config:[{Icon:e=>$i(le.Z,e),text:"pos-redeem-earlier",onClick:()=>{x(e),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_defiLocked",elementid:"lending-Operation"})},disabled:!e.canRedeemEarly}]})),[x]),b=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>m(t)})),[m]),f=a().useMemo((()=>[...Pi,b]),[b]),y=a().useMemo((()=>({rows:Bi,header:e=>$i(g.DJ,{asset:e.asset,action:m(e),partnerName:e.partnerName})})),[m]);return $i(oe,null,$i(g.xS,{ref:t,dataSource:hn.Ym,tableConfig:f,mobileConfig:y,rowKey:e=>e.positionId}),$i(u.StyledDialog,{open:n||l,onCloseIconClick:()=>{o(!1),s(!1)},title:e(n?"pos-transfer-to-flexible":"pos-redeem-earlier"),sx:{" >h3":{borderBottom:["none","1px solid"],borderBottomColor:["transparent","line"]},width:["100%","500px"]}},(0,p.hu)(n,$i(Kn,{project:c,setOpen:o,onSuccess:()=>t.current.forceUpdate(),isDefi:!0}),$i(Gn,{project:c,setOpen:s,onSuccess:()=>t.current.forceUpdate(),isDefi:!0}))))}const Mi=a().memo(Ui);var Zi=n("tsAc"),Hi=n("d39E"),zi=n("5BFz"),Yi=a().createElement;const Gi=e=>`${(0,zi.dU)().REACT_APP_STATIC_HOST}/static/images/earn/dotlogo/${(e||"").toLowerCase().replace(/[^a-z0-9]/gim,"").replace(/\s+/g,"")}.jpg`,ji=(e,t)=>n=>Yi(S.uw,{tipContent:Yi(o.Box,{maxWidth:280},n(e))},Yi(o.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],lineHeight:"15px",sx:{borderColor:"#707A8A",whiteSpace:"nowrap"}},n(t))),Wi={PREHEATING:I.aD.grey,AUCTIONING:I.aD.yellow,AUCTION_SUCCESS:I.aD.green,AUCTION_FAILED:I.aD.red},Ki={key:"asset",label:"lending-coin",renderFunc:()=>e=>Yi(E.zg,{asset:e})},Vi={key:"projectName",label:"lending-project",renderFunc:()=>e=>Yi(E.zg,{logoUrl:Gi(e),text:e})},qi=(e,t,n,i,a)=>"AUCTIONING"===a?e("lending-voting-in-progress",{num:(0,T.Pc)(n,4)}):Yi(o.Flex,{flexDirection:"column"},Yi(o.Text,null,e("lending-voting-failed-tips",{num:+t>0?(0,T.Pc)(t,4):""})),+i>0&&Yi(o.Text,null,e("lending-delivery-date-tips",{date:v()(+i).format(I.zT)}))),Xi={key:"votedAmount",align:"right",renderTitle:ji("lending-total-vote-amount-tips","lending-total-vote-amount"),renderFunc:e=>(t,{voteFailedDeliverDate:n,stakedAmount:i,voteFailedAmount:r,votingAmount:o,status:l})=>Yi(a().Fragment,null,i>t&&("AUCTIONING"===l||"AUCTION_FAILED"===l)&&Yi(u.Tooltip,{placement:"bottom",arrow:!0,sx:{verticalAlign:"text-top",color:"t.disabled",mr:"4px",":hover":{color:"primary"}},tip:qi(e,r,o,n,l)},Yi(Hi.Z,{fontSize:"18px"})),(0,T.Pc)(t,4))},Qi={key:"airDropAmount",align:"right",label:"lending-cumulative-bonus",renderFunc:()=>(e,{airDropAsset:t})=>Yi(o.Box,{color:+e?"t.buy":"t.primary"},(0,T.Pc)(e,8,void 0,` ${t}`))},Ji={key:"totalVoteReward",align:"right",label:"lending-cumulative-rewards",renderFunc:()=>(e,{rewardAsset:t})=>Yi(o.Box,{color:+e?"t.buy":"t.primary"},(0,T.Pc)(e,8,void 0,` ${t}`))},ea={key:"rewardEndDate",align:"right",label:"lending-reward-end-date",renderFunc:()=>e=>0===+e?"--":v()(+e).format(I.zT)},ta={key:"deliverDate",align:"right",renderTitle:ji("lending-redemption-date-tips","lending-redemption-date"),renderFunc:()=>e=>0===+e?"--":v()(+e).format(I.zT)},na={key:"status",label:"lending-status",renderFunc:e=>t=>Yi(g.qb,{color:Wi[t],text:e(`lending-${t}-status`)})},ia=[Ki,Vi,Xi,Qi,Ji,ea,ta,na],aa=[Xi,Qi,Ji,ea,ta,na];var ra=a().createElement;const oa=({t:e,leftReward:t,onClaim:n,isClaimDialogDisplay:i,setIsClaimDialogDisplay:a})=>{const{REACT_APP_STATIC_HOST:r}=(0,zi.kF)();return ra(u.StyledDialog,{contentSx:{pt:0},width:["100%","440px"],height:["100vh","540px"],open:i,showTitleBottomLine:!1,onCloseIconClick:()=>a(!1),title:ra(o.Text,{variant:"title5"},e("lending-my-reward"))},ra(o.Flex,{height:["calc(100vh - 206px)","352px"],sx:{overflow:"auto",flexDirection:"column"}},ra(o.Flex,{color:"t.third",justifyContent:"space-between",sx:{borderBottom:"1px solid #F5F5F5",py:"12px"}},ra(o.Text,{variant:"body2"},e("lending-project")),ra(o.Text,{variant:"body2"},e("lending-unclaimed-rewards"))),t.map((({projectName:e,asset:t,amount:n},i)=>ra(o.Flex,{key:i,color:"t.primary",justifyContent:"space-between",sx:{borderBottom:"1px solid #F5F5F5",py:"16px",fontWeight:"500"}},ra(o.Flex,{alignItems:"center"},ra(o.Image,{src:`${r}/static/images/earn/dotlogo/${e.toLocaleLowerCase().toLowerCase().replace(/[^a-z0-9]/gim,"").replace(/\s+/g,"")}.jpg`,sx:{borderRadius:"50%",mr:"8px"},size:24}),ra(o.Text,{variant:"body2"},e)),ra(o.Text,{variant:"body2",color:"t.yellow"},`${(0,T.uf)(n,8)} ${t}`))))),ra(u.StyledDialogFooter,null,ra(o.Flex,{sx:{position:"relative",flexDirection:"column"}},ra(o.Flex,{sx:{position:"absolute",borderTop:"1px solid #F5F5F5",top:"-11px",left:"-24px",display:["none","flex"]},width:["100%","440px"]}),ra(o.Text,{mb:"12px",color:"t.third",fontSize:"12px"},e("lending-claimed-rewards-footer")),ra(o.Button,{flex:1,colorStyle:"primary",sz:"normal",onClick:()=>n()},e("lending-claim-reward")))))};var la=a().createElement;const sa=()=>{const e=(0,i.useRef)(),{t:t,i18n:{language:n}}=(0,r.$)(),{enqueueNotification:l}=(0,u.useNotification)(),{0:s,1:c}=(0,i.useState)(!1),{0:d,1:p}=(0,i.useState)([]),x=(0,i.useCallback)((async()=>{const{data:e}=await(0,Zi.FV)();p(e)}),[]),{url:m,target:b}=(0,He.Um)(n).DOT||{},f=(0,i.useCallback)((async()=>{var n;await(0,Zi.YY)()&&l(t("lending-claimed-successful"),{variant:"success"}),c(!1);const{data:i}=await(0,Zi.FI)();null===e||void 0===e||null===(n=e.current)||void 0===n||n.forceUpdate({list:i,noFetch:!0})}),[l,t]),y=a().useMemo((()=>!d||0===d.length),[d]),v=a().useMemo((()=>[...ia]),[]),T={rows:aa,header:e=>la(g.DJ,{logoUrl:Gi(e.projectName),text:e.projectName})};return(0,i.useEffect)((()=>{x()}),[x]),la(oe,null,la(o.Flex,{alignItems:"center",sx:{position:"relative",top:0,mb:"24px",[I.iD.horizental]:{position:"absolute",top:"4px",right:"0",mb:"0"}}},la(o.Button,{colorStyle:y?"primary":"flatprimary",sz:"m",mr:"16px",disabled:y,onClick:()=>{c(!0),(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_posDot",elementid:"lending-Operation"})}},t("lending-claim-reward")),la(o.Link,{href:`${m}?isConvertDialogShow=1`,target:b,sx:{fontSize:"14px",lineHeight:"20px"}},t("lending-convert-BDOT"))),la(g.xS,{ref:e,dataSource:Zi.FI,tableConfig:v,mobileConfig:T,rowKey:e=>e.id}),la(oa,{isClaimDialogDisplay:s,setIsClaimDialogDisplay:c,t:t,leftReward:d,onClaim:f}))},ca=a().memo(sa);var da=a().createElement;function ua({type:e}){const{t:t}=(0,r.$)(),n="2"===`${e}`.split("")[0]?+e:21;return da(g._i,{defaultActiveKey:n},da(u.TabPane,{tab:t("lending-pos"),tabKey:21},da(Xn,null)),da(u.TabPane,{tab:t("Flexible DeFi Staking"),tabKey:22},da(bi,null)),da(u.TabPane,{tab:t("Locked DeFi Staking"),tabKey:23},da(Mi,null)),da(u.TabPane,{tab:t("lending-DOT-slot-auction"),tabKey:24},da(ca,null)))}const pa=a().memo(ua);var xa=n("vzNA"),ga=n("oqal"),ma=n("e91C"),ha=a().createElement;const ba=function(){const{0:e,1:t}=(0,i.useState)(0),{0:n,1:a}=(0,i.useState)(0);return(0,i.useEffect)((()=>{(0,ma.Eq)().then((e=>{const{value:n=0}=e;t(n)})),(0,f.Cb)().then((e=>{a(e.interestBTC)}))}),[]),ha(g.UW,{totalAmountBtc:e,yesterdayInterestInBtc:n})};var fa=a().createElement;const ya=function(){const{0:e,1:t}=(0,i.useState)(0),{0:n,1:a}=(0,i.useState)(0);return(0,i.useEffect)((()=>{(async()=>{const e=await Promise.all([(0,f.vG)(),(0,f.wR)(),(0,f.Gp)()]);t((0,T.RM)(+e[0].totalPrincipalInBtc||0).plus(+e[1].totalPrincipalInBtc||0).plus(+e[2].totalPositionInBtc||0).toString()),a((0,T.RM)(+e[0].yesterdayInterestInBtc||0).plus(+e[1].yesterdayInterestInBtc||0).toString())})()}),[]),fa(g.UW,{totalAmountBtc:e,yesterdayInterestInBtc:n})};var va=a().createElement;const Ta=a().memo((({coins:e,text:t})=>{const[n,i]=e,a=(0,p.OW)(n),r=(0,p.OW)(i);return va(o.Flex,{alignItems:"center"},va(o.Flex,{mr:""===t?0:["8px","16px"],alignItems:"center",flex:"0 0 auto"},va(o.Image,{src:a,width:"24px",height:"24px",flex:"0 0 auto"}),va(o.Image,{src:r,width:"24px",height:"24px",flex:"0 0 auto",ml:["-8px","-6px"]})),va(o.Text,{variant:"subtitle1",fontSize:"16px",lineHeight:"24px",color:"t.primary"},t))}));var Ia=a().createElement;const Sa=a().memo((({children:e,sx:t})=>Ia(o.Flex,{alignItems:"center",sx:(0,m.Z)({justifyContent:"space-between",borderBottom:"1px solid",borderBottomColor:"line",py:"16px"},t)},e))),Ea=({onClaim:e,disabled:t,unclaimList:n})=>{const{t:i}=(0,r.$)(),[l,s]=a().useState(!1);return Ia(o.Flex,{sx:{flexDirection:"column",p:"24px",pt:["24px","0px"],color:"t.third",fontSize:"14px"}},Ia(Sa,{sx:{pt:0,pb:"12px"}},Ia(o.Flex,null,i("Pool")),Ia(u.TooltipV2,{tip:i("Unclaimed-Rewards-tip"),arrow:!0,delay:350},Ia(o.Flex,{sx:{borderBottom:"1px dashed",borderBottomColor:"t.third"}},i("Unclaimed-Rewards")))),Ia(o.Flex,{sx:{flexDirection:"column",overflowY:"auto",height:["calc(100vh - 231px)","334px"]}},n.map(((e,t)=>{const{poolName:i,tokenAsset:a,tokenAmount:r,assetList:l}=e;return Ia(Sa,{key:`${e.poolId}${t}`,sx:{borderBottom:t===n.length-1?"unset":"1px solid #F5F5F5"}},Ia(o.Flex,{alignItems:"center"},Ia(Ta,{coins:l,text:i})),Ia(o.Flex,{alignItems:"center",color:"t.yellow",fontSize:"16px"},(0,T.he)(r,8),"\xa0",a))}))),Ia(o.Flex,{sx:{flexDirection:"column",borderTop:"1px solid",borderTopColor:"line",position:["absolute","static"],bottom:0,left:0,boxSizing:"border-box",width:"100%",px:["24px",0],pb:["24px",0]}},Ia(o.Flex,{sx:{fontSize:"12px",my:"12px",lineHeight:"16px"}},i("Claimed-rewards-tip")),Ia(u.LoadingButton,{loading:l,sz:"l",onClick:async()=>{s(!0),await e(),s(!1)},disabled:l||t,sx:{backgroundColor:"primaryHover",backgroundImage:"unset"}},i("Claim-Rewards"))))},wa=a().memo(Ea);var Ca=a().createElement;const Aa=a().memo((({visible:e,setVisible:t,disabled:n,onClaim:i,unclaimList:a})=>{const{t:l}=(0,r.$)();return Ca(u.StyledDialog,{contentSx:{p:"0"},containerSx:{"& > div:nth-child(2) > div:nth-child(2)":{borderBottom:["1px solid","none"],borderBottomColor:["line","transparent"]},"& > div:nth-child(2)":{width:["100%","90%","440px"],maxWidth:[void 0,"440px",void 0],overflowX:"auto"}},open:e,title:Ca(o.Text,{variant:"title5",fontSize:"24px",lineHeight:"28px"},l("My-Rewards")),onCloseIconClick:()=>{t(!1)}},Ca(wa,{unclaimList:a,onClaim:i,disabled:n}))}));var Fa=a().createElement;const ka=function({tableRef:e}){const{0:t,1:n}=(0,i.useState)(0),{0:l,1:s}=(0,i.useState)(0);(0,i.useEffect)((()=>{(0,f.Qm)().then((e=>{n(e.shareValueBtc),s(e.lastDayProfitBtc)}))}),[]);const{t:c,i18n:{language:d}}=(0,r.$)(),[p,x]=a().useState(!1),[m,h]=a().useState([]);(0,i.useEffect)((()=>{(async()=>{const e=await(0,f.qX)();h(e)})()}),[]);const{enqueueNotification:b}=(0,u.useNotification)(),y=a().useCallback((async()=>{let t=!0;await(0,f.U0)({})&&(h([]),t=!1),t||(b(c("lending-claimed-successful"),{variant:"success"}),e.current.forceUpdate()),x(!1)}),[b,c,e]),{url:v,target:T}=(0,He.Um)(d).LIQUIDITY_HISTORY||{};return Fa(o.Flex,{flexDirection:["column","column","row"]},Fa(g.UW,{totalAmountBtc:t,yesterdayInterestInBtc:l,sx:{flex:"1 1 auto"}}),Fa(o.Flex,{alignItems:"center",flex:"0 0 auto",mb:["24px","24px","40px"],alignSelf:["flex-start","flex-start","flex-end"]},Fa(o.Button,{sz:"small",variant:"default",lineHeight:"20px",fontWeight:500,flex:"0 0 auto",sx:{backgroundColor:"primaryHover",backgroundImage:"unset"},mr:"16px",onClick:()=>x(!0),disabled:!m.length},c("Claim-Rewards")),Fa(o.Button,{variant:"quiet",as:"a",href:v,target:T,sz:"m",lineHeight:"20px",fontWeight:400,p:"0",flex:"0 0 auto"},c("Liquid Swap History"))),Fa(Aa,{visible:Boolean(p),setVisible:x,disabled:!m.length,onClaim:y,unclaimList:m}))};var Da=n("hS4l"),Na=n("bjDG"),Ra=a().createElement;function La(e,t="",n=4,i=!1){let a=n;"SHIB"===t&&(a=8);const r=C()(e).dp(a,1);return+e?i?r.toFormat():r.toString():"--"}const Oa=({prize:e,withPositiveSign:t=!1,withUsd:n=!1,sx:i={},containerSx:r={},zeroDisplay:l="0"})=>{const s=La(e,"",4,!0),c=a().useMemo((()=>"--"===s?"t.primary":+e<0?"t.sell":"t.buy"),[e]);return Ra(o.Flex,{sx:(0,m.Z)({fontWeight:400,alignItems:"baseline",wordBreak:"break-all"},r)},Ra(o.Text,{sx:(0,m.Z)({color:c},i)},0===+e?l:`${+e<0?"":t&&0!==+s?"+":""}${La(e,"",4,!0)}`),n&&Ra(o.Text,{color:c},"\xa0USD"))};var _a=n("n1m3");function Pa({template:e="",reqHost:t="www.binance.com"}){return e.replace("{{rootDomain}}","localhost"===(0,_a.nc)(2)?"qa1fdg.net":(0,_a.nc)(2))}function Ba(e,t={}){return Object.keys(t).reduce(((e,n)=>e.replace(new RegExp(`%${n}%`,"g"),t[n])),e)}var $a=a().createElement;const Ua=e=>{let{children:t}=e,n=(0,ae.Z)(e,["children"]);return $a(o.Box,Object.assign({sx:{cursor:"pointer",borderBottomStyle:"dashed",borderBottomWidth:"1px"}},n),t)},Ma={label:"earn-Pool",key:"pair",renderFunc:()=>e=>$a(E.zg,{asset:(e||"").split("/")[0],asset2:(e||"").split("/")[1],text:e})},Za={label:"Portion Amount",align:"right",key:"share",renderFunc:()=>e=>(0,T.Pc)(e,4)},Ha={key:"shareComposites",align:"right",renderTitle:e=>$a(S.uw,{tipContent:$a(o.Flex,{flexDirection:"column",fontSize:"14px",lineHeight:"22px"},$a(o.Text,null,e("swp-pool-share-desc1")),$a(o.Text,null,e("swp-pool-share-desc2")))},$a(Ua,null,e("poolShareComposition"))),renderFunc:()=>(e,{shareCompositeList:t})=>$a(o.Flex,{justifyContent:"flex-end",flexDirection:["column","row","row"],alignItems:["flex-end","center"]},t&&t.length>0&&t.every((({coin:e,amount:t})=>!isNaN(Number((0,T.uf)(t)))&&null!==e))?t.reduce(((e,{coin:t,amount:n},i)=>0===i?e.concat($a(o.Flex,null,(0,T.Pc)(n,4),"\xa0",t)):e.concat($a(o.Flex,null,"\xa0+\xa0",(0,T.Pc)(n,4),"\xa0",t))),[]):"--")},za={label:"Share-value",align:"right",key:"shareValue",renderFunc:()=>e=>0!==+e?`${(0,T.Cl)(e,"",4,!0)} USD`:"--"},Ya={renderTitle:e=>$a(S.uw,{tipContent:e("Cost-per-share-tips")},$a(Ua,null,e("Cost-per-share"))),key:"costPerShare",align:"right",renderFunc:()=>(e,t)=>(0,T.Pc)(t.costPerShare,4,1," USD")},Ga=e=>({renderTitle:t=>$a(S.uw,{tipContent:$a(o.Box,null,$a(o.Text,{variant:"caption",as:"p",mb:"10px",lineHeight:"22px",fontSize:"14px",color:"#EAECEF"},t("share-value-pnl-desc")),$a(o.Flex,{lineHeight:"22px",fontSize:"14px",sx:{textDecoration:"underline",color:"#C99400",cursor:"pointer"},onClick:()=>{window.open((e=>{const t="https://academy.{{rootDomain}}/%lngRegion%/articles/impermanent-loss-explained";switch(e){case"en":return Ba(Pa({template:t}),{lngRegion:"en"});case"zh-TW":return Ba(Pa({template:t}),{lngRegion:"zt"});case"zh-CN":return Ba(Pa({template:t}),{lngRegion:"zh"});default:return Ba(Pa({template:t}),{lngRegion:"en"})}})(e))}},t("learn-about-impermanent-loss")))},$a(o.Flex,null,$a(Ua,null,t("share-value-pnl")))),key:"shareValueChange",align:"right",renderFunc:()=>e=>$a(Oa,{prize:e,withUsd:!0,withPositiveSign:!0,containerSx:{justifyContent:"flex-end"}})}),ja={label:"Earnings",align:"right",key:"profit",renderFunc:()=>e=>$a(Oa,{prize:e,withUsd:!0,containerSx:{justifyContent:"flex-end"}})},Wa={label:"unclaimed-rewards",align:"right",key:"unclaimedAssets",renderFunc:()=>(e,t)=>0===t.unclaimedAssets.length?"--":$a(o.Flex,{alignItems:"center",justifyContent:"flex-end"},$a(o.Flex,{sx:{mr:"4px",height:"20px",position:"relative",alignItems:"center"}},t.unclaimedAssets.slice(0,8).map((e=>$a(E.cE,{asset:e,key:e,text:""})))),$a(Oa,{prize:t.unclaimedReward,withUsd:!0}))},Ka=e=>[Ma,Za,Ha,za,Ya,Ga(e),ja,Wa],Va=e=>[Za,za,ja,Ha,Ya,Ga(e),Wa];var qa=a().createElement;const Xa=a().memo(a().forwardRef(((e,t)=>{const{i18n:{language:n}}=(0,r.$)(),i=a().useCallback((e=>{const{url:t,target:i}=(0,He.Um)(n).LIQUIDITY||{};return qa(g.aU,{config:[{text:"Add",Icon:e=>qa(Da.Z,e),onClick:()=>{const n=`${t}?poolId=${e.poolId}`;window.open(n,i)}},{text:"Remove",Icon:e=>qa(Na.Z,e),onClick:()=>{const n=`${t}?tab=unstake&poolId=${e.poolId}`;window.open(n,i)}}]})}),[n]),o=a().useMemo((()=>({hideTabletTitle:!0,fixed:"right",key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>i(t)})),[i]),l=a().useMemo((()=>[...Ka(n),o]),[o,n]),s=a().useMemo((()=>({rows:Va(n),header:e=>qa(g.DJ,{asset:(e.pair||"").split("/")[0],asset2:(e.pair||"").split("/")[1],text:e.pair,action:i(e)})})),[n,i]);return qa(g.xS,{tableConfig:l,mobileConfig:s,dataSource:f.lT,rowKey:e=>e.productId,ref:t})})));var Qa=a().createElement;const Ja=a().memo((()=>{const e=a().useRef(null);return Qa(a().Fragment,null,Qa(ka,{tableRef:e}),Qa(Xa,{ref:e}))}));var er=n("1elB"),tr=a().createElement;const nr=function(){const{i18n:{language:e}}=(0,r.$)(),{LAUNCHPOOL_DETAIL:t,LAUNCHPAD_DETAIL:n}=(0,i.useMemo)((()=>(0,He.Um)(e)),[e]),o=a().useCallback((e=>tr(g.aU,{tabletUseDesktop:!0,config:[{text:"lending-launchPoolCheckOutcome",onClick:()=>{(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_launchpool",elementid:"lending-Operation"});const i=(e.positionId?null===t||void 0===t?void 0:t.url:null===n||void 0===n?void 0:n.url).replace(":pid",e.projectId);window.location.href=i}}]})),[null===n||void 0===n?void 0:n.url,null===t||void 0===t?void 0:t.url]),l={key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>o(t)},s=[er.L2,er.g2,er.hq,l],c={rows:[er.g2,er.hq],header:e=>tr(g.DJ,{asset:e.asset,text:e.projectName,action:o(e)})};return tr(g.xS,{tableConfig:s,mobileConfig:c,dataSource:async function(e){const t=await(0,ma.CR)(e),{data:n=[]}=t;return(0,m.Z)((0,m.Z)({},t),{},{data:n.filter((e=>e.amount>0))})},rowKey:e=>e.productId})};var ir=n("kGm7"),ar=n("AroH"),rr=n("VVsa"),or=a().createElement;const lr={header:e=>or(g.DJ,{asset:e.underlying}),rows:rr.Hw};const sr=function(){return or(g.xS,{tableConfig:rr.jp,mobileConfig:lr,dataSource:ar.JF,rowKey:e=>e.projectId})};var cr=a().createElement;const dr=function({res:e}){return cr(g.UW,{totalAmountBtc:`${e.data||"0"}`})};var ur=a().createElement;const pr=function(){const{0:e,1:t}=(0,i.useState)({data:null}),{0:n,1:r}=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r(!0),(0,ar.ti)().then((e=>{t(e),r(!1)})).catch((e=>{}))}),[]),ur(a().Fragment,null,ur(dr,{res:e}),ur(ir.Z,{show:n,fullScreen:!0}),ur(sr,{res:e}))};var xr=n("RBiB"),gr=n.n(xr),mr=n("dzHW"),hr=a().createElement;const br=(0,m.Z)((0,m.Z)({},er.HA),{},{renderFunc:()=>e=>hr(E.zg,{asset:e})});const fr=function({res:e}){const{t:t,i18n:{language:n}}=(0,r.$)(),o=(0,mr.B)(e),l=(0,i.useCallback)((async t=>{if(null!==o.data){const{data:n={}}=o,{positionDetail:i=[]}=n,a=i.filter((e=>e.businessType===ar._$.MINING)),r=gr()(a,I.IV);return(0,m.Z)((0,m.Z)({},e),{},{data:r[t.pageIndex-1],total:a.length})}return{data:[],total:0}}),[o,e]),s=a().useCallback((e=>hr(g.aU,{tabletUseDesktop:!0,config:[{text:"lending-Redeem",onClick:()=>{var e;(0,h.t)({event:"click",eventCategory:"wl_earn",eventAction:"click",eventLabel:"wl_earn::operation_poolSaving",elementid:"lending-Operation"});const t=null===(e=(0,He.Um)(n).POOL_SAVING)||void 0===e?void 0:e.url;window.location.href=t}}]})),[n]),c=a().useMemo((()=>({key:"operation",label:"lending-Operation",renderFunc:()=>(e,t)=>s(t)})),[s]),d=[br,er.vo,er.Tz,c],u=a().useMemo((()=>({rows:[er.vo,er.Tz],header:e=>hr(g.DJ,{asset:e.asset,text:e.projectName,action:s(e)})})),[s]);return hr(g.xS,{tableConfig:d,mobileConfig:u,dataSource:l,rowKey:e=>e.productId})};var yr=a().createElement;const vr=function({res:e}){const{0:t,1:n}=(0,i.useState)("0"),{0:a,1:r}=(0,i.useState)(0),o=(0,mr.B)(e);return(0,i.useEffect)((()=>{if(null!==o.data){const{data:e={}}=o,{businessPositionSummaryList:t=[]}=e;t.map((e=>{if(e.businessType===ar._$.MINING){const{totalAmountBtc:t="0"}=e;n(t)}}))}}),[o]),(0,i.useEffect)((()=>{(0,f.sI)().then((e=>{r(e.interestBTC)}))}),[]),yr(g.UW,{totalAmountBtc:t,yesterdayInterestInBtc:a})};var Tr=a().createElement;const Ir=function(){const{0:e,1:t}=(0,i.useState)({data:null}),{0:n,1:r}=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r(!0),(0,ar.j3)().then((e=>{t(e),r(!1)})).catch((e=>{}))}),[]),Tr(a().Fragment,null,Tr(vr,{res:e}),Tr(ir.Z,{show:n,fullScreen:!0}),Tr(fr,{res:e}))};var Sr=n("7Q8s"),Er=n("j3/i"),wr=a().createElement;function Cr({forceLight:e=!1}){const{isLight:t}=(0,Un.Fg)();return wr(Er.Global,{styles:n=>Er.css`
        body:not(.scrollBar)::-webkit-scrollbar {
          display: none;
        }
        .scrollBar {
          padding-right: 0px;
        }
        .scrollBar:hover {
          padding-right: 0px;
        }
        .scrollBar::-webkit-scrollbar {
          width: 0px;
          height: 0px;
        }
        .scrollBar:hover::-webkit-scrollbar,
        ::-webkit-scrollbar {
          width: 5px;
          height: 6px;
        }
        body.scrollBar::-webkit-scrollbar {
          height: 6px;
          width: 8px !important;
        }
        /*  */
        ${t||p.H0||e?"\n  ::-webkit-scrollbar-track {\n    border-radius: 0;\n    background: rgba(0, 0, 0, 0.05);\n  }\n  ::-webkit-scrollbar-thumb {\n    background: rgba(0, 0, 0, 0.1);\n    border-radius:3px;\n    height: 90px;\n  }\n":"\n  ::-webkit-scrollbar-track {\n    background: #181A20;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: #5E6673;\n    border-radius:3px;\n    height: 90px;\n  }\n"}
      `})}var Ar=a().createElement;let Fr=1;const kr=[{title:"Earn Products",url:"/static/images/mainucsaving/earn-products-ison.svg",darkmodeUrl:"/static/images/mainucsaving/earn-products-ison-dark.svg",href:"/earn"},{title:"lending-auto-invest",url:"/static/images/mainucsaving/auto-invest-icon.svg",darkmodeUrl:"/static/images/mainucsaving/auto-invest-icon-dark.svg",href:"/lending/auto-invest"},{title:"ETH 2.0",url:"/static/images/mainucsaving/eth2-icon.svg",darkmodeUrl:"/static/images/mainucsaving/eth2-icon-dark.svg",href:"/eth2"}];function Dr(){const{t:e,i18n:{language:t,getResource:n}}=(0,r.$)(),{setting:g,saveSetting:m}=(0,xa.Ng)(),{isHideSmallBalance:h}=g,b=""!==h&&!h,y=(0,i.useCallback)((e=>{e.stopPropagation(),m("isHideSmallBalance",""!==h&&!h)}),[h,m]),{tabKey:v}=(0,Sr.N)();a().useMemo((()=>{isNaN(+v)||(Fr=+v)}),[]);const S=(0,i.useMemo)((()=>(0,He.Um)(t)),[t]),{tab:E,type:w}=function(e){const t={},n=e.match(/[?&]([^=&#]+)=([^&#]*)/g);return n&&Object.keys(n).map((e=>{const i=n[e].split("="),a=i[0].substr(1),r=i[1];return t[a]?t[a]=[].concat(t[a],decodeURIComponent(r)):t[a]=decodeURIComponent(r),null})),t}(window.location.href),{SAVINGS_HISTORY:C={}}=S,[A,F]=a().useState({inBtc:"",inBusd:""});a().useEffect((()=>{(async()=>{const e=await(0,f.CF)();F({inBtc:e.totalAmountBtc,inBusd:e.totalAmountBusd})})()}),[]);const k=(0,ga._)();return Ar(u.NotificationProvider,{queueSize:10,closable:!0,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"right"}},Ar(Cr,{forceLight:!0}),Ar(x.q.Provider,{value:{showAsset:b}},Ar(ze.ZN,null,Ar(o.Flex,{flexDirection:"column",sx:{flex:1,bg:"bg1"},width:"100%"},Ar(o.Flex,{sx:{backgroundColor:"bg2",justifyContent:"space-between",alignItems:"center",px:["16px","24px","32px"],py:["24px","28px"]}},Ar(o.Text,{variant:"headline5",color:"t.primary",sx:{fontSize:["24px","24px","32px"]}},e("lending-wallet")),Ar(o.Button,{sz:"normal",variant:"default",colorStyle:"secondary",fontSize:"16px",p:"0"},Ar(o.Text,{as:"a",href:C.url,color:"t.primary",fontWeight:"normal",p:"8px 20.5px",sx:{textDecoration:"none !important"}},e("lending-history")))),Ar(o.Flex,{sx:{flexDirection:"column",p:["32px 16px 24px","24px","32px"],color:"t.primary"}},Ar(o.Flex,{pb:"24px",mb:"24px",flexDirection:["column","column","row"],sx:{borderBottom:"1px solid",borderColor:"line"},justifyContent:"space-between"},Ar(o.Flex,{flexDirection:"column",mb:["24px","40px",0]},Ar(o.Flex,{alignItems:"center",fontSize:"16px",mb:["8px","16px"]},Ar(o.Text,{variant:"subtitle1",mr:"8px"},n(t,"lending-ui","Est. Total Value",{keySeparator:!1})),Ar(o.Flex,{onClick:y,sx:{borderRadius:"4px",bg:"line",":hover":{cursor:"pointer"}},p:"4px"},(0,p.hu)(b,Ar(l.Z,{fontSize:"16px",color:"t.primary",sx:{path:{fill:"currentColor"}}}),Ar(s.Z,{fontSize:"16px",color:"t.primary",sx:{path:{fill:"currentColor"}}})))),Ar(o.Flex,{flexDirection:["column","row"],flexWrap:"wrap"},Ar(o.Text,{variant:"headline5",lineHeight:["24px","32px"],fontSize:["20px","24px"],fontWeight:"semibold",mr:"12px",color:"t.primary",mb:["4px",0]},b?(0,T.wc)(A.inBtc,8,void 0," BTC"):I.XR),Ar(o.Text,{variant:"headline5",fontSize:["20px","24px"],fontWeight:"semibold",color:"t.third"},b?`\u2248 ${(0,T.J7)(k("BTC",A.inBtc),2)}`:I.XR))),Ar(o.Flex,null,kr.map(((i,a)=>Ar(o.Flex,{key:i.title,href:i.href,alignItems:"center",onClick:()=>{window.open(`/${t}${i.href}`)},width:"90px",justifyContent:"center",flexDirection:"column",mr:a===kr.length-1?0:["8px","48px"],sx:{":hover":{cursor:"pointer"}}},Ar(o.Image,{src:`${(0,p.qZ)()}${i.url}`,height:"40px",width:"40px",mb:"4px"}),Ar(o.Text,{variant:"body2",fontSize:"14px",sx:{whiteSpace:"nowrap",color:"t.secondary"}},"ETH 2.0"===i.title?n(t,"lending-ui",i.title,{keySeparator:!1}):e(i.title))))))),Ar(o.Box,{sx:{width:"0px",height:"0px",overflow:"hidden"}},Ar(c.Z,null),Ar(d.Z,null)),Ar(u.Tabs,{id:"tabs",variant:"filled",type:"primary",width:"100%",defaultActiveKey:+E||Fr,tabDefaultNodeSx:{fontWeight:"normal"},lazy:!0},Ar(u.TabPane,{tab:e("lending-lending"),tabKey:1},Ar(mn,null),Ar(un,{type:w})),Ar(u.TabPane,{tab:e("Staking"),tabKey:2},Ar(ya,null),Ar(pa,{type:w})),Ar(u.TabPane,{tab:e("lending-lauchPool"),tabKey:3},Ar(ba,null),Ar(nr,null)),Ar(u.TabPane,{tab:e("Liquid Swap"),tabKey:4},Ar(Ja,null)),Ar(u.TabPane,{tab:e("lending-dualInvestment"),tabKey:5},Ar(pr,null)),Ar(u.TabPane,{tab:e("lending-poolSavings"),tabKey:6},Ar(Ir,null))))))))}const Nr=a().memo(Dr)},VVsa:(e,t,n)=>{"use strict";n.d(t,{sg:()=>h,jp:()=>S,Hw:()=>E});var i=n("Yq0s"),a=n.n(i),r=n("/SIk"),o=n.n(r),l=n("7bI3"),s=n("Tbvg"),c=n("a9nv"),d=n("+TNM"),u=n("qJw0"),p=o().createElement;const x={label:"earn-Underlying",key:"underlying",renderFunc:()=>(e,t)=>p(d.zg,{asset:t.underlying})},g={label:"lending-sdate",align:"right",key:"puchaseTime",renderFunc:()=>e=>e?a()(+e).format(s.yQ):"--"},m={label:"Subscription-Amount",align:"right",key:"amount",renderFunc:()=>(e,{investmentAsset:t})=>`${(0,l.Pc)(e,8)} ${t}`},h={BTC:0,ETH:0,BNB:0,BCH:0,ADA:2,DOT:2,SOL:2,MATIC:2,LUNA:2,AVAX:2,FTM:2,ALGO:2},b={label:"Strike-Price",align:"right",key:"linkedPrice",renderFunc:()=>(e,t)=>`$${(0,l.he)(t.linkedPrice,h[t.underlying],1)}`},f={label:"Delivery-Date",align:"right",key:"settleDate",renderFunc:()=>e=>e?a()(+e).utc().format(s.zT):"--"},y={label:"Annualized-Rate-of-Return",align:"right",key:"earningRate",renderFunc:()=>e=>p(c.Flex,{sx:{color:"#02C076"},justifyContent:"flex-end"},(0,l.me)(e))},v={PURCHASE_SUCCESS:"status-holding",PENDING:"lending-PENDING",REFUND_SUCCESS:"Refund"},T={PURCHASE_SUCCESS:{color:s.aD.green,background:"rgba(2, 192, 118, 0.15)"},PENDING:{color:s.aD.yellow,background:"rgba(240, 185, 11, 0.15)"},REFUND_SUCCESS:{color:s.aD.green,background:"rgba(2, 192, 118, 0.15)"}},I={label:"lending-status",key:"status",renderFunc:e=>t=>{var n;return p(u.qb,{color:null===(n=T[t])||void 0===n?void 0:n.color,text:v[t]?e(v[t]):""})}},S=[x,g,m,b,f,y,I],E=[g,m,b,f,y,I]},gMC3:(e,t,n)=>{"use strict";n.d(t,{uw:()=>c,_i:()=>d,qb:()=>u});var i=n("/SIk"),a=n.n(i),r=n("Tbvg"),o=n("RAx4"),l=n("a9nv"),s=a().createElement;const c=a().memo((({tipContent:e,children:t})=>s(o.Tooltip,{sx:{whiteSpace:"normal",textAlign:"left",alignItems:"center",display:"inline-flex"},tip:e,arrow:!0,container:r.sk?null:document.body,placement:"bottom"},s(l.Flex,{alignItems:"center"},t)))),d=a().memo((({children:e,defaultActiveKey:t})=>s(o.Tabs,{defaultActiveKey:t,variant:"filled",lazy:!0,width:"100%",tabSx:{"> div:nth-of-child(1)":{px:"16px",mr:"16px",fontSize:"14px",lineHeight:"20px"}},tabDefaultNodeSx:{fontWeight:"normal",fontSize:"14px !important",mr:"0 !important"}},e))),u=a().memo((({color:e,text:t})=>s(l.Flex,{sx:{alignItems:"center",justifyContent:"flex-start"}},s(l.Flex,{width:"6px",height:"6px",backgroundColor:e,mr:"4px",sx:{borderRadius:"6px"}}),t)))},qJw0:(e,t,n)=>{"use strict";n.d(t,{aU:()=>W,ev:()=>M,lc:()=>oe,XF:()=>de,DJ:()=>q,_i:()=>i._i,UW:()=>se,g$:()=>le,BU:()=>xe,xS:()=>E,qb:()=>i.qb,uw:()=>i.uw});var i=n("gMC3"),a=n("5vwO"),r=n("GpFh"),o=n("Tbvg"),l=n("/SIk"),s=n.n(l),c=n("RAx4"),d=n("a9nv"),u=n("e3lq"),p=n("kGm7"),x=n("9FnP"),g=n("jih7"),m=(n("5+N7"),n("mdVJ")),h=n("5BFz"),b=n("dmV2"),f=n("NB0u"),y=s().createElement;function v({rows:e=[],header:t=(()=>null),d:n={},mobileExpandNum:i}){const{t:a}=(0,u.$)(),{0:r,1:c}=(0,l.useState)(!1),p=(0,h.kF)(),{showAsset:x}=(0,l.useContext)(m.q),b=(0,l.useMemo)((()=>y(d.Flex,{alignItems:"center",fontWeight:"bold"},t(n,a,p))),[n,p,t,a]),v=s().useCallback((e=>e.map((e=>{const{key:t,label:i,renderFunc:r,title:l,renderTitle:s}=e,c=l||s&&s(a)||a(i),u=n[t];let m="function"===typeof r?r(a,p)(u,n,!0):u;const h=o.AH.indexOf(t)>=0;return m=(0,g.hu)(!x&&!h,o.XR,m),y(d.Flex,{fontSize:"14px",lineHeight:"20px",justifyContent:"space-between",key:t,pb:"8px"},y(d.Text,{variant:"body2",color:"t.third"},c),y("span",null,m))}))),[n,p,x,a]),T=s().useMemo((()=>e.filter((({isMobileDisplay:e=(()=>!0)})=>e(n)))),[n,e]),I=(0,l.useMemo)((()=>v(T.slice(0,i))),[T,i,v]),S=(0,l.useMemo)((()=>v(T.slice(i))),[T,i,v]);return y(d.Flex,{flexDirection:"column",sx:{borderBottom:r?"none":"1px solid",borderColor:"line"},p:"12px 16px",mx:"-16px"},b,y(d.Flex,{flexDirection:"column",p:"8px 0 4px"},I),y(d.Flex,{display:r?"flex":"none",flexDirection:"column",backgroundColor:"bg2",mx:"-16px",p:"12px 16px 4px",sx:{boxShadow:e=>`inset 0px 1px 0px 0px ${e.colors.line}`}},S),r&&y(d.Flex,{height:"1px",backgroundColor:"line"}),(0,g.hu)(e.length>i,y(d.Flex,{alignItems:"center",justifyContent:"flex-end",mx:"-16px",px:"16px",pt:r?"6px":0,pb:r?"14px":0,backgroundColor:r?"bg2":"bg1",fontSize:"12px",lineHeight:"14px",color:"t.third",onClick:()=>c((e=>!e))},y("span",{style:{marginRight:"3px",cursor:"pointer"}},(0,g.hu)(r,a("loan-less"),a("loan-more"))),y(f.Z,{size:12,color:"icon",sx:{transform:`rotate(${(0,g.hu)(r,270,90)}deg)`}})),null))}function T({data:e=[],rows:t=[],header:n=(()=>null),itemKey:i=(()=>""),emptyText:a=null,mobileExpandNum:r=3}){return(0,g.hu)(e.length,e.map((e=>y(v,{key:i(e),header:n,d:e,rows:t,itemKey:i,mobileExpandNum:r}))),a)}const I=s().memo(T);var S=s().createElement;const E=s().memo((0,l.forwardRef)((({dataSource:e=(()=>Promise.resolve({})),tableConfig:t=null,mobileConfig:n=null,rowKey:i=(()=>""),mobileExpandNum:s=3},f)=>{const y=(0,h.kF)(),{t:v}=(0,u.$)(),T=(0,l.useContext)(m.q),{0:E,1:w}=(0,l.useState)(!0),{0:C,1:A}=(0,l.useState)({pageIndex:1,pageSize:o.IV}),{0:F,1:k}=(0,l.useState)([]),{0:D,1:N}=(0,l.useState)(0),{isTablet:R}=(0,b.GS)(),L=(0,l.useCallback)(((e,t)=>e.map((e=>{const{title:t,label:n,key:i,renderFunc:l,noDataIndex:s,renderTitle:c,hideTabletTitle:d=!1}=e,u=(0,r.Z)(e,["title","label","key","renderFunc","noDataIndex","renderTitle","hideTabletTitle"]),p=o.AH.indexOf(i)>=0;return(0,a.Z)({title:R&&d?"":t||c&&c(v)||v(n),key:i,dataIndex:s?"":i,render:(0,g.hu)(!T.showAsset&&!p,(()=>o.XR),"function"===typeof l?l(v,y):e=>e||"--")},u)})).filter((({isPcColumnDisplay:e=(()=>!0)})=>e(t)))),[T.showAsset,y,R,v]);return(0,l.useEffect)((()=>{e(C).then((e=>{w(!1);const{data:t,total:n}=e;Array.isArray(t)&&(k(t),N(n))}))}),[e,C]),(0,l.useImperativeHandle)(f,(()=>({forceUpdate({list:e=null,noFetch:t=!1}={}){t||A((0,a.Z)({},C)),e&&k(e)},getList:()=>F,getPage:()=>C}))),S(d.Box,{width:"100%"},S(d.Box,{display:["none","block","block"]},S(d.Box,{sx:{".bn-table-placeholder .bn-table-cell":{boxShadow:"none"},".bn-table":{borderRadius:"8px 8px 0px 0px",tr:{"> td:first-of-type":{fontWeight:"medium"},td:{fontSize:["14px","14px","16px"],lineHeight:["20px","20px","24px"],fontWeight:"light"}}},".bn-table td":{py:"20px"},".bn-table th":{lineHeight:"16px",boxShadow:"none",bg:e=>`${e.colors.bg3} !important`},td:{p:F.length?"20px 16px":0}}},S(c.TableV2,{variant:"dimhead",scroll:{x:"max-content"},columns:L(t||[],F),emptyText:(0,g.hu)(!E,S(x.NoData,null),null),data:F,rowKey:i}))),S(d.Box,{display:["block","none","none"]},S(I,{data:F,rows:(null===n||void 0===n?void 0:n.rows)||[],itemKey:i,header:(null===n||void 0===n?void 0:n.header)||(()=>null),emptyText:(0,g.hu)(!E,S(x.NoData,null),null),mobileExpandNum:s})),S(p.Z,{show:E,fullScreen:!0}),(0,g.hu)(F.length>0&&D>0,S(d.Flex,{sx:{justifyContent:"flex-end"},mt:[3]},S(c.Pagination,{current:C.pageIndex,total:Math.ceil(D/o.IV),onMoveToPage:e=>A((0,a.Z)((0,a.Z)({},C),{},{pageIndex:+e}))})),null))})));var w=n("faIi"),C=n("GQ7d"),A=s().createElement;const F="auto-invest-row",k="row-start",D="row-between",N="row-end",R="row-expanded",L="row-active",O="add",_="remove",P=(e,t,n)=>{const i=[n,F];return 0===e?i.push(k):e===t-1?i.push(N):i.push(D),i.filter(Boolean).join(" ")},B={common:{alignItems:"center",p:"20px 16px",whiteSpace:"nowrap"},th:{color:"t.third",p:"12px 16px",fontSize:"12px",lineHeight:"16px",bg:"bg3"},td:{bg:"bg1",color:"t.primary",fontSize:"16px",lineHeight:"24px",height:"73px",borderBottom:"1px solid",borderColor:"line",fontWeight:"light"},expand:{bg:"bg2",borderBottom:"none"},expandTitle:{bg:"bg2",p:"6px 16px",height:"28px",borderBottom:"none"},expandItem:{bg:"bg2",p:"10px 16px",height:"52px",borderBottom:"none"},expandItemLast:{borderBottom:"1px solid",borderColor:"line"},calcSeparateLine:e=>({"::after":{boxShadow:e?e=>`${e.colors.line} -10px 0px 8px -8px inset`:"none",position:"absolute",top:"0px",bottom:"-1px",left:"-1px",width:"20px",transform:"translateX(-100%)",transition:"box-shadow .3s ease 0s",content:'""',pointerEvents:"none"}}),fixedColumn:{position:"sticky",right:0}},$=(e,t)=>{const{currentTarget:n}=t,i=[];if(e===O&&n.classList.contains(L))return;if(e===_&&!n.classList.contains(L))return;let a=n;for(;a;){if(a.classList.contains(k)){i.push(a);break}i.push(a),a=a.previousElementSibling}for(a=n;a;){if(a.classList.contains(N)){i.push(a);break}i.push(a),a=a.nextElementSibling}i.forEach((t=>e===O?t.classList.add(L):t.classList.remove(L)))},U=({children:e,align:t,sx:n,className:i,onEnterTd:r,onLeaveTd:o})=>{let l="flex-start";return"right"===t&&(l="flex-end"),A(d.Flex,{__css:(0,a.Z)((0,a.Z)({},B.common),{},{justifyContent:l}),sx:n,className:i,onMouseEnter:r,onMouseLeave:o},e)},M=s().memo((0,l.forwardRef)((({list:e,dataSource:t,tableConfig:n=null,mobileConfig:i=null,rowKey:r=(()=>""),mobileExpandNum:f=3},y)=>{const v=(0,h.kF)(),{t:T}=(0,u.$)(),S=(0,l.useContext)(m.q),{0:E,1:F}=(0,l.useState)(!0),{0:k,1:D}=(0,l.useState)({pageIndex:1,pageSize:o.IV}),{0:M,1:Z}=(0,l.useState)(e||[]),H=s().useCallback((e=>{Z((t=>t.map((t=>(0,a.Z)((0,a.Z)({},t),{},{isExpand:e.toggleExpandId===t.id?!t.isExpand:t.isExpand})))))}),[]),{0:z,1:Y}=(0,l.useState)(0),{isTablet:G}=(0,b.GS)(),j=(0,l.useCallback)(((e,t)=>e.map((e=>{const{title:t,label:n,key:i,renderFunc:r,noDataIndex:l,renderTitle:s,hideTabletTitle:c=!1}=e,d=o.AH.indexOf(i)>=0;return(0,a.Z)((0,a.Z)({},e),{},{title:G&&c?"":t||s&&s(T)||T(n),dataIndex:l?"":i,render:(0,g.hu)(!S.showAsset&&!d,(()=>o.XR),"function"===typeof r?r(T,v):e=>e||"--")})})).filter((({isPcColumnDisplay:e=(()=>!0)})=>e(t)))),[S.showAsset,v,G,T]);(0,l.useEffect)((()=>{t?t(k).then((e=>{F(!1);const{data:t,total:n}=e;Array.isArray(t)&&(Z(t),Y(n))})):F(!1)}),[t,k]),(0,l.useImperativeHandle)(y,(()=>({forceUpdate({list:e=null,noFetch:t=!1}={}){t||D((0,a.Z)({},k)),e&&Z(e)},getList:()=>M,getPage:()=>k})));const W=s().useMemo((()=>j(n||[],M)),[M,n,j]),K=s().useCallback(((e,t)=>({render:t||(()=>null),dataIndex:e})),[]),V=s().useMemo((()=>[K("empty-td-1",((e,t)=>t.isExpandItemLast?A(d.Flex,{alignItems:"center"},A(d.Button,{onClick:()=>H(t),variant:"quiet",minWidth:"unset",fontSize:"14px",lineHeight:"20px",fontWeight:400,px:"8px",color:"#000"},A(w.Z,{sx:{transform:"rotate(-90deg)",cursor:"pointer",fontSize:"16px"}}))):null)),(0,a.Z)((0,a.Z)({},W[0]),{},{title:T("Portfolio Coins")}),{title:T("Allocation"),render:(e,t)=>A(d.Flex,null,`${t.percentage}%`),dataIndex:"temp-key-Allocation"},(0,a.Z)((0,a.Z)({},W[3]),{},{title:T("Amount")}),...W.slice(4,8),K("empty-td-2"),K("empty-td-3")]),[K,W,T,H]),[q,X]=s().useState([]);s().useEffect((()=>{const e=M.reduce(((e,t)=>t.isExpand?e.concat((0,a.Z)((0,a.Z)({},t),{},{toggleExpandId:t.id})).concat({isExpandItemTitle:!0,id:`${t.id}-expand-title`}).concat(t.portfolioDetails.map(((e,n)=>(0,a.Z)((0,a.Z)({},e),{},{isExpandItem:!0,id:`${t.id}-${e.targetAsset}-expand-item`,toggleExpandId:t.id,isExpandItemLast:n===t.portfolioDetails.length-1})))):e.concat((0,a.Z)((0,a.Z)({},t),{},{toggleExpandId:t.id}))),[]);X(e)}),[M]);const Q=s().useRef(null),J=s().useRef(null),[ee,te]=s().useState(!1);(0,l.useEffect)((()=>{const e=()=>{const{scrollLeft:e,clientWidth:t,scrollWidth:n}=Q.current;(0,C.RM)(e).abs().plus(t).minus(n).abs().gte(1)?te(!0):(te(!1),Array.from(Q.current.querySelectorAll(`.${N}`)).forEach((e=>{e&&e.previousElementSibling&&e.previousElementSibling.classList.contains(L)&&e.classList.add(L)})))};e();const{current:t}=Q;return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}),[]);const ne=(0,l.useCallback)((e=>$(O,e)),[]),ie=(0,l.useCallback)((e=>$(_,e)),[]);return A(d.Box,{width:"100%"},A(d.Box,{sx:{display:["none","block"],[`.${L}`]:{bg:"bg2"},position:"relative"}},A(d.Box,{ref:Q,sx:{overflowX:"auto",overflowY:"hidden",borderRadius:"8px 8px 0 0",minHeight:q.length||E?"86px":"300px",":hover":{bg:q.length||E?"transparent":"bg2"}}},A(d.Box,{ref:J,sx:{minWidth:"1500px",display:"grid",gridTemplateColumns:`repeat(${W.length-1}, minmax(max-content, auto)) max-content`,gridTemplateRows:`40px repeat(${q.length}, auto)`,gridRowGap:0,gridColumnGap:0}},W.map(((e,t,n)=>A(U,Object.assign({key:`main-title-${e.dataIndex}`},e,{sx:(0,a.Z)((0,a.Z)({},B.th),t===n.length-1?(0,a.Z)((0,a.Z)({},B.calcSeparateLine(ee)),B.fixedColumn):{})}),e.title))),q.map((e=>e.isExpandItemTitle?V.map(((e,t,n)=>A(U,Object.assign({},e,{key:e.dataIndex,sx:(0,a.Z)((0,a.Z)((0,a.Z)({},B.th),B.expandTitle),t===n.length-1?(0,a.Z)((0,a.Z)({},B.calcSeparateLine(ee)),B.fixedColumn):{}),className:P(t,V.length,R),onEnterTd:ne,onLeaveTd:ie}),e.title))):e.isExpandItem?V.map(((t,n,i)=>A(U,Object.assign({},t,{key:t.dataIndex,sx:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},B.td),B.expandItem),e.isExpandItemLast?B.expandItemLast:{}),n===i.length-1?(0,a.Z)((0,a.Z)({},B.calcSeparateLine(ee)),B.fixedColumn):{}),className:P(n,V.length,R),onEnterTd:ne,onLeaveTd:ie}),t.render(e[t.dataIndex],e,H)))):W.map(((t,n,i)=>A(U,Object.assign({},t,{key:t.dataIndex,sx:(0,a.Z)((0,a.Z)((0,a.Z)({},B.td),e.isExpand?B.expand:{}),n===i.length-1?(0,a.Z)((0,a.Z)({},B.calcSeparateLine(ee)),B.fixedColumn):{}),className:P(n,W.length,e.isExpand?R:""),onEnterTd:ne,onLeaveTd:ie}),t.render(e[t.dataIndex],e,H)))))))),!q.length&&!E&&A(d.Box,{sx:{py:"20px",mt:"20px",pointerEvents:"none",top:"50%",position:"absolute",left:"50%",transform:"translate(-50%, -50%)"}},A(x.NoData,null))),A(d.Box,{display:["block","none"]},A(I,{data:M,rows:(null===i||void 0===i?void 0:i.rows)||[],itemKey:r,header:(null===i||void 0===i?void 0:i.header)||(()=>null),emptyText:(0,g.hu)(!E,A(x.NoData,null),null),mobileExpandNum:f})),A(p.Z,{show:E,fullScreen:!0}),(0,g.hu)(M.length>0&&z>0,A(d.Flex,{sx:{justifyContent:"flex-end"},mt:[3]},A(c.Pagination,{current:k.pageIndex,total:Math.ceil(z/o.IV),onMoveToPage:e=>D((0,a.Z)((0,a.Z)({},k),{},{pageIndex:+e}))})),null))})));var Z=n("PIgl"),H=n("jnHR"),z=s().createElement;const Y=s().memo((({Icon:e,onClick:t,text:n,disabled:i})=>{const{t:a}=(0,u.$)();return z(d.Button,{display:"flex",alignItems:"center",justifyContent:"flex-start",p:["14px 24px","10px 16px"],onClick:t,variant:"outline",disabled:i,sx:{boxShadow:"none",borderRadius:0},color:"t.primary"},z(e,{mr:["8px","8px"],fontSize:"20px",color:i?"t.disabled":["t.primary","t.third"],sx:{path:{fill:"currentColor"}}}),z(d.Text,{variant:"body2",fontSize:"14px",lineHeight:"20px",fontWeight:[500,400]},a(n)))}));var G=s().createElement;const j=s().useLayoutEffect,W=s().memo((({open:e,onClose:t,height:n,title:i,config:a,tabletUseDesktop:r,showAction:o=!0})=>{const[l,c]=s().useState(!1),p=s().useMemo((()=>null!==e&&void 0!==e?e:l),[e,l]);j((()=>(e?document.body.style.overflow="hidden":document.body.style.removeProperty("overflow"),()=>{document.body.style.removeProperty("overflow")})),[e]);const x=s().useCallback((()=>{t&&t(),c(!1)}),[t]),{isMobile:g,isTablet:m,isDesktop:h}=(0,b.GS)(),{t:f}=(0,u.$)(),y=s().useMemo((()=>G(d.Flex,{alignItems:"center",justifyContent:"flex-start"},a.map((({text:e,onClick:t,disabled:n,className:i},r)=>G(d.Button,{className:i||"mainuc-operation",key:e,variant:"quiet",minWidth:"unset",onClick:t,disabled:n,fontSize:"inherit",lineHeight:"inherit",fontWeight:"light",p:0,mr:r===a.length-1?0:"16px"},f(e)))))),[a,f]),[v,T]=s().useState(!1);return G(s().Fragment,null,h&&y,m&&r&&y,m&&!r&&G(s().Fragment,null,G(d.Dropdown,{enablePortal:!0,onVisibleChange:e=>{T(e)},overlay:G(d.Flex,{flexDirection:"column",backgroundColor:"bg1",overflow:"hidden",sx:{borderRadius:"4px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.08), 0px 4px 8px rgba(0, 0, 0, 0.08)"}},a.map((e=>G(Y,Object.assign({key:e.text},e)))))},G(d.Button,{colorStyle:"flatpure",p:"0",minWidth:"24px",minHeight:"24px",sx:{borderRadius:"4px"},backgroundColor:v?"bg3":"transparent"},G(Z.Z,{fontSize:"16px"})))),g&&1===a.length&&a.map((({text:e,onClick:t,disabled:n})=>!n&&G(d.Button,{key:e,variant:"default",colorStyle:"secondary",sz:"tiny",onClick:t,disabled:n},f(e)))),g&&a.length>1&&G(s().Fragment,null,o&&G(d.Button,{colorStyle:"flatpure",p:"0",minWidth:"16px",minHeight:"16px",sx:{borderRadius:"4px"},backgroundColor:p?"bg":"transparent",onClick:()=>{c(!0)}},G(Z.Z,{fontSize:"16px"})),G(d.Mask,{visible:p,onClick:x}),G(d.Drawer,{visible:p,direction:"bottom",outerClick:x,bg:"bg1",sx:{zIndex:9999},childProps:{sx:{borderRadius:"24px 24px 0 0"}}},G(d.Box,{pb:"24px",sx:{maxHeight:"62vh",height:n||"auto",overflow:"hidden"}},G(d.Flex,{flexDirection:"column",height:"100%"},G(d.Flex,{justifyContent:"space-between",alignItems:"center",px:"sm",py:"sm"},G(d.Text,{variant:"subtitle1",color:"t.primary"},i||f("lending-Operation")),G(H.Z,{size:16,color:"t.third",onClick:x})),G(d.Flex,{flexDirection:"column"},a.map((e=>G(Y,Object.assign({key:e.text},e,{onClick:()=>{x(),e.onClick()}}))))))))))}));var K=n("+TNM"),V=s().createElement;const q=s().memo((({asset:e,asset2:t,text:n,action:i,partnerName:a,logoUrl:r,customLogo:o})=>V(d.Flex,{justifyContent:"space-between",width:"100%",alignItems:"center"},V(d.Flex,{alignItems:"center"},V(K.ZE,{asset:e,asset2:t,text:n,partnerName:a,logoUrl:r,customLogo:o})),i)));var X=n("oqal"),Q=n("7bI3"),J=s().createElement;const ee={flexWrap:"wrap","> div":{flex:["1 1 auto","1 1 auto","0 0 auto"],width:["50%","50%","30%"],":nth-of-type(3),:nth-of-type(4)":{marginTop:["32px","24px",0]}}},{wrapper:te,valueTitle:ne,inBtc:ie,inFiat:ae,green:re}={wrapper:{mt:["24px","24px","40px"],mb:["24px","24px","40px"]},valueTitle:{variant:"body2",fontSize:"14px",lineHeight:"20px",color:"t.primary",mb:"8px"},inBtc:{variant:"headline6",fontSize:["16px","20px"],lineHeight:["24px","28px"],color:"t.primary"},inFiat:{variant:"body1",fontSize:["14px","16px"],sx:{"> div":{fontSize:["14px !important","16px !important"]}},lineHeight:["20px","24px"],color:"t.third"},green:{color:"t.buy"}};function oe({valueInBtc:e,titleKey:t="lending-estimatedvalue",isGreen:n}){const{t:i}=(0,u.$)(),{showAsset:a}=(0,l.useContext)(m.q),r=(0,X._)();return J(d.Flex,{flexDirection:"column"},J(d.Text,ne,i(t)),J(d.Text,Object.assign({},ie,n?re:{}),a?(0,Q.wc)(e,8,void 0," BTC"):o.XR),J(d.Text,ae,a?`\u2248 ${(0,Q.J7)(r("BTC",e),2)}`:o.XR))}const le=s().memo((({children:e,sx:t})=>J(d.Flex,Object.assign({},te,{sx:t}),e))),se=s().memo((({totalAmountBtc:e,yesterdayInterestInBtc:t,sx:n})=>J(le,{sx:(0,a.Z)((0,a.Z)({},ee),n)},null!==e&&void 0!==e?J(oe,{valueInBtc:e,titleKey:"lending-estimatedvalue"}):null,null!==t&&void 0!==t?J(oe,{valueInBtc:t,titleKey:"Last Day Profit",isGreen:!0}):null)));var ce=s().createElement;const de=s().memo((({children:e})=>{const{t:t}=(0,u.$)();return ce(d.Flex,{flexDirection:"column",px:"16px",mb:"24",sx:{overflowX:"hidden",overflowY:"auto",height:"100vh"}},ce(d.Flex,{pt:"64px",pb:"20px"},ce(d.Image,{src:`${o.Hb}/chart-pie-g.svg`,sx:{display:"flex",flex:"0 0 auto",width:"20px",height:"20px",mr:"8px"}}),ce(d.Flex,{sx:{fontSize:"20px",lineHeight:"28px",fontWeight:500,alignItems:"center",color:"#0B0E11"}},t("Holding Details"))),e)}));var ue=s().createElement;function pe({rows:e=[],header:t=(()=>null),d:n={}}){const{t:i}=(0,u.$)(),a=(0,h.kF)(),{showAsset:r}=s().useContext(m.q),l=s().useMemo((()=>ue(d.Flex,{alignItems:"center",fontWeight:"bold"},t(n,i,a))),[n,a,t,i]);return ue(d.Flex,{flexDirection:"column",sx:{borderBottom:"1px solid #EAECEF"},p:"12px 16px",mx:"-16px"},l,ue(d.Flex,{flexDirection:"column",p:"8px 0 4px"},e.map((e=>{const{key:t,label:l,renderFunc:s,title:c,renderTitle:u}=e,p=c||u&&u(i)||i(l),x=n[t];let m="function"===typeof s?s(i,a)(x,n,!0):x;const h=o.AH.indexOf(t)>=0;return m=(0,g.hu)(!r&&!h,o.XR,m),ue(d.Flex,{fontSize:"14px",lineHeight:"20px",justifyContent:"space-between",key:t,pb:"8px"},ue(d.Text,{variant:"body2",color:"t.third"},p),ue("span",null,m))}))))}const xe=s().memo((({data:e=[],rows:t=[],header:n=(()=>null),itemKey:i=(()=>""),emptyText:a=null})=>(0,g.hu)(e.length,e.map((e=>ue(pe,{key:i(e),header:n,d:e,rows:t}))),a)))},mdVJ:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var i=n("/SIk");const a=n.n(i)().createContext({showAsset:!1})},dmV2:(e,t,n)=>{"use strict";n.d(t,{ZN:()=>d,GS:()=>u});var i=n("5vwO"),a=n("/SIk"),r=n.n(a);class o{constructor(e,t,n){this.nativeMediaQueryList=e.matchMedia(t),this.active=!0,this.cancellableListener=(...e)=>{this.matches=this.nativeMediaQueryList.matches,this.active&&n(...e)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}cancel(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)}}var l=r().createElement;const s={mobile:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1023px)",desktop:"(min-width: 1024px)"},c=r().createContext(),d=({children:e})=>{const{0:t,1:n}=(0,a.useState)({mobile:!1,tablet:!1,desktop:!0}),r=(0,a.useRef)(),d=(0,a.useCallback)((()=>{n(r.current.reduce(((e,{name:t,mqListener:n})=>(0,i.Z)((0,i.Z)({},e),{},{[t]:n.matches})),{}))}),[n]);return(0,a.useEffect)((()=>{r.current=Object.keys(s).map((e=>({name:e,mqListener:new o(window,s[e],d)}))),d()}),[d]),l(c.Provider,{value:(0,i.Z)((0,i.Z)({},t),{},{updateMedia:d})},e)},u=()=>{const{mobile:e,tablet:t,desktop:n}=(0,a.useContext)(c);return(0,a.useMemo)((()=>({isTablet:t,isMobile:e,isDesktop:n})),[e,t,n])}},bCEn:(e,t,n)=>{"use strict";n.d(t,{zU:()=>s,m7:()=>c,uw:()=>d});var i=n("/SIk"),a=n.n(i),r=n("Tbvg"),o=n("RAx4"),l=a().createElement;const s={[r.iD.PHONE]:{display:"none"}},c={display:"none",[r.iD.PHONE]:{display:"block"}},d=({tipContent:e,children:t})=>l(o.Tooltip,{sx:{whiteSpace:"normal",textAlign:"left"},tip:e,arrow:!0,container:r.sk?null:document.body,placement:"bottom"},t)},"1elB":(e,t,n)=>{"use strict";n.d(t,{J5:()=>ie,nb:()=>ae,uy:()=>re,ap:()=>oe,bb:()=>le,R9:()=>se,fl:()=>ke,nu:()=>De,c5:()=>Pe,hd:()=>Be,RW:()=>Ze,dF:()=>He,L2:()=>ze,g2:()=>Ye,hq:()=>Ge,BQ:()=>Ve,HN:()=>qe,HA:()=>Xe,vo:()=>Qe,Tz:()=>Je,S1:()=>et,u6:()=>tt,YT:()=>nt,go:()=>it,bU:()=>ht,CT:()=>bt});var i=n("5vwO"),a=n("Yq0s"),r=n.n(a),o=n("/SIk"),l=n.n(o),s=n("7bI3"),c=n("GQ7d"),d=n("Tbvg"),u=n("bCEn"),p=n("Q0z1"),x=n("a9nv"),g=n("RAx4"),m=n("jih7"),h=n("+TNM"),b=n("vM3x"),f=n.n(b),y=n("s1Ua"),v=n("W9na"),T=n("d39E"),I=n("PCr8"),S=n("VVsa"),E=l().createElement;const w=(e,t,n=4)=>f()(e).toFormat(~~t,n),C=(e,t)=>f()(e).gt(t),{PENDING:A,FAILED:F,SUCCESS:k,GREY:D}=d.y4,N={label:"lending-sdate",key:"createTimestamp",width:"10%",renderFunc:()=>e=>e?r()(+e).format(d.en):"--"},R={label:"lending-vdate",key:"startTime",width:"8%",renderFunc:()=>e=>e?r()(+e).format(d.zT):"--"},L={width:"12%",label:"lending-productname",renderFunc:e=>t=>"EXPERIENCE_COUPON"===t.type?`${parseFloat(t.amount)} ${t.asset} ${e("lending-tab-exp")}`:t.productName},O={label:"lending-Coin",key:"asset",width:"5%"},_={label:"lending-amount",key:"amount",width:"12%",align:"right"},P={label:"lending-purchaseType",key:"type",width:"10%",renderFunc:e=>t=>e((e=>{switch(e){case"PURCHASE":return"lending-purchaseTypeNormal";case"REGULAR_TRANSFER":return"lending-purchaseTypeTransfer";case"AUTO_PURCHASE":return"lending-type-autosubscribe";case"REDEMPTION_TRANSFER":return"lending-op-auto-renew";case"EXPERIENCE_COUPON":return"lending-tab-exp";default:return"-"}})(t))},B={label:"lending-status",key:"status",width:"8%",renderFunc:e=>t=>E(p.Z,{statusCode:d.z0[t]},e(`lending-${t}`))},$={CREATED:"lending-Applied",PAID:"lending-SUCCESS",FAILED:"lending-FAILED"},U={label:"lending-status",key:"status",width:"8%",renderFunc:e=>t=>E(p.Z,{statusCode:d.S_[t]},e($[t]))},M={label:"lending-method",key:"type",width:"12%",renderFunc:e=>t=>t?e(`lending-${t.toLowerCase()}`):"-"},Z={label:"lending-paid-interest",key:"payedInterest",width:"10%",align:"right"},H={label:"lending-paid-principal",key:"payedPrincipal",width:"10%",align:"right"},z={label:"lending-tamount",key:"totalAmount",align:"right",width:"12%"},Y={label:"lending-AccuringInterest",key:"accruingInterest",align:"right",width:"12%"},G={label:"lending-famount",key:"todayPurchasedAmount",align:"right",width:"12%"},j={label:"lending-cumulativeinterest",key:"totalInterest",align:"right",width:"13%",renderFunc:()=>e=>E(x.Text,{color:"buy"},e)},W={label:"lending-NextDistributionAmount",key:"nextInterestPay",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||(0,m.kK)(e)?"--":E(x.Text,null,w(e,8))},K={label:"lending-NextInterestDate",key:"nextInterestPayDate",align:"right",renderFunc:()=>(e,{interestRate:t,extraInterestRate:n})=>0===Number(t)&&n>0||!e?"--":e?r()(+e).format(d.zT):void 0},V={label:"lending-NextInterestPeriod",key:"payInterestPeriod",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i})=>0===Number(n)&&i>0||(0,m.kK)(t)?"--":(0,m.kK)(t)?void 0:`${t} ${e("lending-days")}`},q=e=>`${(0,s.mW)(e)}%`,X={label:"lending-EstAPY",key:"avgAnnualInterestRate",align:"right",renderFunc:()=>e=>q(e),width:"13%"},Q={label:"lending-redeeming",key:"redeemingAmount",align:"right",width:"10%",renderFunc:e=>(t,{deliverDate:n,asset:i,redeemingAmount:a})=>t>0?E(x.Box,null,t,E(u.uw,{tipContent:E(x.Box,{sx:{textAlign:"left"}},E(x.Text,null,e("lending-redemption-timeline")),E(x.Flex,null,E(x.Text,null,e("lending-redemption-timeline-tips",{redeemingAmount:a,asset:i,standardRdpDate:r()(+n).utc().add(d.qZ,"hours").local().format(d.yQ)}))))},E(v.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"#F0B90B"}}}))):t},J={label:"lending-Coin",key:"asset",width:"5%",renderFunc:()=>e=>E(h.zg,{asset:e})},ee={label:"lending-vdate",key:"startTime",width:"7%",renderFunc:()=>e=>r()(+e).format(d.zT)},te={label:"lending-holding",key:"lot",width:"8%",align:"right"},ne={label:"lending-origin-amount",key:"principal",width:"12%",align:"right"},ie=[N,L,O,te,_,R,P,B],ae={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.productName),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:[O,_,B,te,R,P]},re=[{label:"lending-rdate",key:"createTimestamp",width:"12%",renderFunc:()=>e=>e?r()(+e).format(d.en):"--"},{width:"10%",label:"lending-productname",key:"projectName"},O,te,ne,Z,H,M,U],oe={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.projectName),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:[O,te,U,ne,Z,M,H]},le=[{label:"lending-date",key:"createTimestamp",width:"13%",renderFunc:()=>e=>r()(+e).format(d.en)},L,O,_],se={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.productName),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:[O,_]},ce=(e,t,n=!0)=>E(x.Flex,{alignItems:"center",sx:{".img":{width:["18px","24px"],height:["18px","24px"]}}},E("img",{style:{marginRight:"8px"},alt:"",className:"img",src:`${e.REACT_APP_STATIC_HOST}/static/images/coin/${(null!==t&&void 0!==t?t:"").toLowerCase()}.svg`}),n&&t),de={label:"lending-Coin",key:"asset",width:"6%",renderFunc:(e,t)=>e=>ce(t,e)},ue={label:"saving-reward-coin",width:"12%",isMobileDisplay:({extraInterestAsset:e,extraInterestRate:t})=>e&&0!==Number(t),renderFunc:(e,t)=>(e,{asset:n,extraInterestAsset:i,extraInterestRate:a,interestRate:r}=!1)=>!i||0===Number(a)?"--":r>0?E(x.Flex,{sx:{flexDirection:"row",whiteSpace:"pre"}},ce(t,n),E(x.Flex,{sx:{alignSelf:"center"}},", "),ce(t,i)):ce(t,i)},pe={label:"saving-reward-amount",width:"12%",align:"right",renderTitle:e=>E(u.uw,{tipContent:E(x.Box,{maxWidth:280},e("saving-reward-amount-tool-tip"))},E(x.Text,{variant:"help",color:"t.third",fontSize:"12px",sx:{height:"24px",lineHeight:"28px",borderColor:"line",whiteSpace:"nowrap"}},e("saving-reward-amount"))),isMobileDisplay:({extraInterestAmount:e})=>Boolean(e),renderFunc:()=>(e,{extraInterestAmount:t})=>null!==t&&void 0!==t?t:"--"},xe=[(0,i.Z)((0,i.Z)({},z),{},{key:"amount",align:"right"}),(0,i.Z)((0,i.Z)({},Y),{},{key:"accruingInterestAmount",align:"right",renderFunc:e=>(t,{asset:n,nextPayInterestAmount:i})=>E(x.Flex,null,E(x.Text,null,`${t} ${n}`),C(t,0)&&!C(i,0)&&E(u.uw,{tipContent:e("lending-no-interest-staking-tip")},E(y.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})))}),(0,i.Z)((0,i.Z)({},G),{},{align:"right"}),(0,i.Z)((0,i.Z)({},Q),{},{key:"redeemingAmount",align:"right",renderFunc:e=>(t,{redeemingRecordList:n})=>t>0&&Array.isArray(n)&&n.length>0?E(x.Box,null,t,E(u.uw,{isNeededContainer:!0,tipContent:E(x.Box,{sx:{textAlign:"left"}},E(x.Text,null,e("lending-redemption-timeline")),n.map((({redeemingAmount:t,asset:n,deliverDate:i},a)=>E(x.Flex,{key:a},E(x.Text,null,e("lending-redemption-timeline-tips",{redeemingAmount:t,asset:n,standardRdpDate:r()(+i).utc().add(d.qZ,"hours").local().format(d.yQ)}))))))},E(v.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"#F0B90B"}}}))):t}),(0,i.Z)((0,i.Z)({},X),{},{key:"annualInterestRate",align:"right"}),(0,i.Z)((0,i.Z)({},j),{},{key:"totalInterest",align:"right",renderFunc:()=>(e,{asset:t})=>E(x.Text,{color:"#02C076"},`${e} ${t}`)}),(0,i.Z)((0,i.Z)({},W),{},{key:"nextPayInterestAmount"})],ge={HOLDING:"status-holding",REDEEMING:"status-redeeming",TRANSFERRED:"status-converted",REDEEMED:"status-redeemed",EARLY_REDEEMING:"status-redeemed-early"},me={HOLDING:A,REDEEMING:A,TRANSFERRED:k,REDEEMED:k,EARLY_REDEEMING:k},he=[(0,i.Z)((0,i.Z)({},z),{},{key:"amount",align:"right"}),(0,i.Z)((0,i.Z)({},X),{},{key:"interestRate",align:"right"}),(0,i.Z)((0,i.Z)({},N),{},{renderFunc:()=>e=>r()(+e).format(d.zT),align:"right"}),{label:"lending-pos-lockedPeriod",key:"duration",renderFunc:e=>t=>`${null!==t&&void 0!==t?t:"--"} ${e("lending-days")}`,align:"right"},{label:"Interest End Date",key:"redeemDate",align:"right",renderFunc:()=>e=>r()(+e).format(d.zT)},{label:"pos-accrue-days",key:"accrualDays",renderFunc:e=>(t,{interestRate:n})=>(0,m.hu)(+t>0||+n>0,`${t} ${e("lending-days")}`,E(x.Box,null,"--",E(u.uw,{tipContent:e("saving-pos-accrue-days-tool-tip")},E(y.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}})))),align:"right"},(0,i.Z)((0,i.Z)({},j),{},{key:"interest",align:"right",renderFunc:e=>(t,{interestRate:n,extraInterestRate:i})=>0===Number(n)&&i>0?E(x.Box,null,"--",E(u.uw,{tipContent:e("lending-cumulativeinterest-tool-tip")},E(y.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"#474D57","&:hover":{color:"primary"}}}))):E(x.Flex,{sx:{flexDirection:"column"}},E(x.Flex,{sx:{justifyContent:"flex-end",color:"buy"}},w(t,8))),renderTitle:e=>E(x.Flex,{sx:{flexDirection:"column"}},E(x.Flex,{sx:{justifyContent:"flex-end"}},e("lending-cumulativeinterest")))}),W,K,V,{label:"lending-EndDate",key:"deliverDate",align:"right",renderFunc:()=>e=>e?r()(+e).utc().add(10,"hours").local().format(d.yQ):"--"},{label:"lending-status",key:"status",width:"8%",renderFunc:e=>t=>E(x.Flex,{sx:{alignItems:"center",justifyContent:"flex-start"}},E(p.Z,{statusCode:me[t]},e(ge[t])))}],[be,fe,...ye]=he,ve=[ue,be,pe,(0,i.Z)((0,i.Z)({},fe),{},{key:"",renderFunc:(e,t)=>(e,n)=>((e,{interestRate:t,extraInterestRate:n,extraInterestAsset:i})=>n&&0!==Number(n)?E(x.Flex,{sx:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",".img":{display:["none","flex"]}}},t>0&&E(l().Fragment,null,q(t),E(x.Text,{mx:[0,"8px"]},"+")),ce(e,i,!1),q(n)):q(t))(t,n)}),...ye],Te=(ve.slice(0,-1),he.slice(0,-1),{PENDING:"lending-PENDING",SUCCESS:"lending-SUCCESS",FAILED:"lending-FAILED"}),Ie=[(0,i.Z)((0,i.Z)({},ee),{},{label:"lending-sdate",key:"createTimestamp",renderFunc:()=>e=>r()(+e).format(d.en)}),(0,i.Z)((0,i.Z)({},z),{},{key:"amount",align:"right",renderFunc:()=>e=>w(e,8)}),{label:"lending-status",width:"8%",key:"status",renderFunc:e=>t=>E(p.Z,{statusCode:t},e(Te[t]))}],Se=(Ie.slice(0,-1),{PENDING:"lending-PENDING",SUCCESS:"lending-SUCCESS",FAILED:"lending-FAILED"}),Ee=[{key:"amount",label:"lending-ramount",align:"right",renderFunc:()=>e=>w(e,8)},{key:"redeemDate",label:"lending-rdate",renderFunc:()=>e=>r()(+e).format(d.zT)},{key:"status",label:"lending-status",renderFunc:e=>t=>E(p.Z,{statusCode:t},e(Se[t]))}],we=(Ee.slice(0,-1),[{key:"interest",label:"lending-Interest",align:"right",renderFunc:()=>e=>E(x.Text,{color:"buy"},w(e,8))},{key:"date",label:"lending-date",renderFunc:()=>e=>r()(+e).format(d.zT)},{label:"lending-type",noDataIndex:!0,renderFunc:e=>()=>e("lending-DAILY")}]),Ce=[{key:"createTimestamp",label:"lending-sdate",renderFunc:()=>e=>r()(+e).format(d.en)},J,{key:"amount",label:"lending-tamount",align:"right",renderFunc:()=>e=>w(e,8)},{key:"duration",label:"pos-lock-period",align:"right",renderFunc:e=>t=>(0,m.hu)(t,`${t} ${e("lending-days")}`,e("lending-pos-flexible"))}],Ae=Ce,Fe={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.asset),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:Ce.slice(2)},ke=Ae,De=Fe,Ne={CREATED:"lending-CREATED",PURCHASING:"lending-PURCHASING",PENDING:"lending-PENDING",SUCCESS:"lending-SUCCESS",FAILED:"lending-FAILED"},Re={CREATED:A,PURCHASING:A,PAID:k,SUCCESS:k,FAILED:F},Le=[{key:"createTimestamp",label:"lending-rdate",renderFunc:()=>e=>r()(+e).format(d.en)},J,{key:"amount",label:"lending-ramount",align:"right",renderFunc:()=>e=>w(e,8)},{key:"status",label:"lending-status",align:"right",renderFunc:e=>t=>E(p.Z,{statusCode:Re[t]},e(Ne[t]))}],Oe=Le,_e={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.asset),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:Le.slice(2)},Pe=Oe,Be=_e,$e=[{key:"createTimestamp",label:"lending-date",renderFunc:()=>e=>r()(+e).format(d.zT)},J,{key:"amount",label:"lending-Interest",align:"right",renderFunc:()=>e=>E(x.Text,{color:"buy"},w(e,8))},{key:"duration",label:"pos-lock-period",align:"right",renderFunc:e=>t=>(0,m.hu)(t,`${t} ${e("lending-days")}`,e("lending-pos-flexible"))}],Ue=$e,Me={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.asset),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:$e.slice(2)},Ze=Ue,He=Me,ze={label:"lending-poolName",key:"projectName",width:"25%"},Ye={label:"lending-asset",key:"asset",renderFunc:()=>e=>E(h.zg,{asset:e})},Ge={label:"lending-amount",key:"amount",align:"right",width:"35%"},je={label:"lending-type",key:"type",width:"35%"},We={label:"lending-date",key:"createTime",width:"35%",renderFunc:()=>e=>e?r()(+e).format(d.en):"--"},Ke={IN:"lending-launchPoolTransferIn",OUT:"lending-launchPoolTransferOut"},Ve=[(0,i.Z)((0,i.Z)({},We),{},{width:"20%"}),(0,i.Z)((0,i.Z)({},ze),{},{width:"27%"}),(0,i.Z)((0,i.Z)({},Ye),{},{width:"15%"}),(0,i.Z)((0,i.Z)({},je),{},{width:"19%",renderFunc:e=>t=>e(Ke[t])}),(0,i.Z)((0,i.Z)({},Ge),{},{width:"19%"})],qe={header:e=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.projectName),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTime).format(d.en))),rows:[Ye,(0,i.Z)((0,i.Z)({},je),{},{renderFunc:e=>t=>e(Ke[t])}),Ge]},Xe={label:"lending-Coin",key:"asset"},Qe={label:"lending-totalBalance",align:"right",key:"amount"},Je={label:"lending-cumulativeinterest",align:"right",key:"interest",renderFunc:()=>e=>E(x.Flex,{color:e?"t.buy":"t.primary",justifyContent:"flex-end"},null!==e&&void 0!==e?e:"--")},et=[{key:"createTimestamp",label:"lending-date",width:"20%",renderFunc:()=>e=>r()(+e).format(d.en)},{key:"positionAsset",label:"lending-eth2StakingCoin",width:"20%",renderFunc:()=>e=>E(x.Flex,{alignItems:"center"},E(x.Text,{ml:"5px",variant:"body2"},e))},{key:"positionToken",label:"lending-eth2StakingToken",width:"20%",renderFunc:()=>e=>E(x.Flex,{alignItems:"center"},E(x.Text,{ml:"5px",variant:"body2"},e))},{key:"amount",label:"lending-amount",width:"20%",renderFunc:()=>e=>w(e,8)},{key:"status",label:"lending-status",width:"20%",renderFunc:e=>t=>E(p.Z,{statusCode:t},e(Se[t]))}],tt={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.positionAsset),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:[et[2],et[3],et[4]]},nt=[{key:"day",label:"lending-date",width:"40%",renderFunc:()=>e=>r()(+e).format(d.en)},{key:"positionToken",label:"lending-eth2StakingToken",width:"20%",renderFunc:()=>e=>E(x.Flex,null,E(x.Text,{ml:"5px",variant:"body2"},e))},{key:"amount",label:"lending-amount",width:"20%",renderFunc:()=>e=>w(e,8)},{key:"position",label:"lending-position",width:"20%",renderFunc:()=>e=>w(e,8)}],it={header:(e,t)=>E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},e.positionToken),E(x.Text,{variant:"caption",color:"t.third",style:{display:"inline-block"}},r()(+e.createTimestamp).format(d.en))),rows:[nt[2],nt[3],nt[0]]},at=(e,t)=>n=>E(u.uw,{tipContent:E(x.Box,{maxWidth:280},n(e))},E(x.Text,{variant:"help",color:"t.third",fontSize:["14px","12px"],sx:{height:"24px",lineHeight:"24px",borderColor:"line",whiteSpace:"nowrap"}},n(t))),rt=({children:e})=>E(x.Flex,null,E(x.Text,{variant:"body2"},e)),ot={PREHEATING:D,AUCTIONING:A,AUCTION_SUCCESS:k,AUCTION_FAILED:F},lt=(e,t,n,i,a)=>"AUCTIONING"===a?e("lending-voting-in-progress",{num:(0,s.Pc)(n,4)}):E(x.Flex,{flexDirection:"column"},E(x.Text,null,e("lending-voting-failed-tips",{num:+t>0?(0,s.Pc)(t,4):""})),+i>0&&E(x.Text,null,e("lending-delivery-date-tips",{date:r()(+i).format(d.zT)}))),st=[{key:"asset",label:"lending-coin",renderFunc:()=>e=>E(x.Flex,null,E(h.ZP,{coin:e,width:"20px",height:"20px",sx:{">img":{width:"20px",height:"20px"}}}),E(x.Text,{ml:"5px",variant:"body2"},e))},{key:"projectName",label:"lending-project",renderFunc:()=>e=>E(rt,null,e)},{key:"stakedAmount",label:"lending-total-stake-amount",renderFunc:()=>e=>E(rt,null,(0,s.Pc)(e,4))},{key:"votedAmount",renderTitle:at("lending-total-vote-amount-tips","lending-total-vote-amount"),renderFunc:e=>(t,{voteFailedDeliverDate:n,stakedAmount:i,voteFailedAmount:a,votingAmount:r,status:o})=>E(rt,null,(0,s.Pc)(t,4),i>t&&("AUCTIONING"===o||"AUCTION_FAILED"===o)&&E(g.Tooltip,{placement:"bottom",arrow:!0,sx:{verticalAlign:"text-top",color:"t.disabled",ml:"3px",":hover":{color:"primary"}},tip:lt(e,a,r,n,o)},E(T.Z,{fontSize:"18px"})))},{key:"airDropAmount",label:"lending-cumulative-bonus",renderFunc:()=>(e,{airDropAsset:t})=>E(rt,null,(0,s.Pc)(e,8,void 0,` ${t}`))},{key:"totalVoteReward",label:"lending-cumulative-rewards",renderFunc:()=>(e,{rewardAsset:t})=>E(rt,null,(0,s.Pc)(e,8,void 0,` ${t}`))},{key:"rewardEndDate",label:"lending-reward-end-date",renderFunc:()=>e=>0===+e?"--":E(rt,null,r()(+e).format(d.zT))},{key:"deliverDate",renderTitle:at("lending-redemption-date-tips","lending-redemption-date"),renderFunc:()=>e=>0===+e?"--":E(rt,null,r()(+e).format(d.zT))},{key:"status",label:"lending-status",renderFunc:e=>t=>E(p.Z,{statusCode:ot[t]},e(`lending-${t}-status`))}],ct=(st.slice(1,st.length-2),{label:"exchange-duocoin-subscriptionDate",key:"puchaseTime",renderFunc:()=>e=>e?r()(+e).format(d.en):"--"}),dt={label:"Delivery-Date",key:"settleDate",renderFunc:()=>e=>e?r()(+e).utc().format(d.zT):"--"},ut={label:"APY",key:"earningRate",renderFunc:()=>e=>E(x.Flex,{sx:{color:"#02C076",fontWeight:500}},(0,c.fP)(e,2,void 0,"%"))},pt={PURCHASE_SUCCESS:{i18nKey:"Subscribed",variant:k},PURCHASE_FAIL:{i18nKey:"lending-FAILED",variant:F},PENDING:{i18nKey:"lending-PENDING",variant:A},SETTLED:{i18nKey:"Settled",variant:k},REFUNDING:{i18nKey:"Refunding",variant:A},REFUND_SUCCESS:{i18nKey:"Refund",variant:k}},xt={label:"Strike-Price",key:"linkedPrice",align:"right",renderFunc:()=>(e,t)=>`$${(0,s.he)(t.linkedPrice,S.sg[t.underlying],1)}`},gt={label:"lending-type",key:"queryType",renderFunc:e=>t=>e(I.gW[t])},mt={label:"Settlement-Amount",key:"settleAmount",renderFunc:e=>(e,{settleAsset:t})=>(0,s.Pc)(e,8,void 0,` ${null!==t&&void 0!==t?t:""}`)},ht=[ct,gt,{label:"Subscription-Amount",key:"amount",align:"right",renderFunc:()=>(e,t)=>{var n;return(0,s.Pc)(e,8,void 0,` ${null!==(n=null===t||void 0===t?void 0:t.investmentAsset)&&void 0!==n?n:""}`)}},xt,dt,ut,mt,{label:"exchange-duocoin-status",key:"status",renderFunc:e=>t=>{var n,i;return E(p.Z,{statusCode:null===(n=pt[t])||void 0===n?void 0:n.variant},e(null===(i=pt[t])||void 0===i?void 0:i.i18nKey))}}],bt={header:(e,t)=>{var n,i,a;return E(x.Flex,{justifyContent:"space-between",width:1},E(x.Text,{style:{marginRight:"6px"},variant:"subtitle1",color:"t.primary"},(0,s.Pc)(e.amount,8,void 0,` ${null!==(n=e.investmentAsset)&&void 0!==n?n:""}`)),E(x.Flex,{fontWeight:400,alignItems:"center"},E(p.Z,{statusCode:null===(i=pt[e.status])||void 0===i?void 0:i.variant},t(null===(a=pt[e.status])||void 0===a?void 0:a.i18nKey))))},rows:[dt,ct,gt,xt,ut,mt]}},"8Rz8":(e,t,n)=>{"use strict";n.d(t,{Um:()=>p});var i=n("/SIk"),a=n.n(i),r=n("7ESN"),o=n("kEpp"),l=n("n1m3"),s=n("4gi8"),c=n("jih7");a().createElement;function d(e){return r.IS_ELECTRON_APP?`#${e}`:e}const u=r.IS_ELECTRON_APP?"_blank":void 0;function p(e="en"){return{SAVINGS:{url:r.IS_ELECTRON_APP?"binance://savings":`/${e}/savings`,target:u},SAVINGS_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/savings`)},SAVINGS_WALLET:{url:`${(0,o.FH)(e)}/wallet/account/saving`},POS:{url:`/${e}/pos`,target:u,isEmbeddedBrowser:!0},POS_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/staking`)},LAUNCHPOOL:{url:r.IS_ELECTRON_APP?"binance://launchpad":(0,c.J0)(e)},LAUNCHPOOL_DETAIL:{url:r.IS_ELECTRON_APP?"binance://launchpad/launchpool/:pid":`${(0,c.J0)(e)}/launchpool/:pid`},LAUNCHPAD_DETAIL:{url:r.IS_ELECTRON_APP?"binance://launchpad/subscription/:pid":`${(0,c.J0)(e)}/subscription/:pid`},DUAL:{url:`/${e}/dual`,target:u,isEmbeddedBrowser:!0},DUOCOIN_SUBSCRIPTION_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/dual`)},DOT_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/dotSlotAuction`)},AUTO_INVEST_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/auto-invest`)},LAUNCHPOOL_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/launchpoolFarming`)},ETH2:{url:`/${e}/eth2`,target:u,isEmbeddedBrowser:!0},DOT:{url:`/${e}/dotslot`,target:u,isEmbeddedBrowser:!0},ETH2_HISTORY:{url:d(`${(0,o.FH)(e)}/saving/history/tokenStaking`)},POOL_SAVING:{url:(0,s.G5)(`https://pool.${r.IS_ELECTRON_APP?"binance.com":(0,l.nc)(2)}/${e}/savings`)},AUTO_INVEST:{url:r.IS_ELECTRON_APP?"binance://savings?tab=auto-invest":`/${e}/lending/auto-invest`},LIQUIDITY:{url:`/${e}/swap/liquidity`,target:u,isEmbeddedBrowser:!0},LIQUIDITY_HISTORY:{url:`/${e}/swap/history`,target:u,isEmbeddedBrowser:!0}}}const x="pos",g="defi-staking",m="SUBSCRIPTION",h="REDEMPTION",b="INTEREST",f="LAUNCHPOOLFARMING";function y(e){return[{page:m,path:`${(0,o.FH)()}/${e}/history/subscription`,title:"lending-Subscription"},{page:h,path:`${(0,o.FH)()}/${e}/history/redemption`,title:"lending-Redemption"},{page:b,path:`${(0,o.FH)()}/${e}/history/interest`,title:"lending-Interest"}]}y("saving"),(0,o.FH)(),y(x),y(g)},"5+N7":()=>{}}]);