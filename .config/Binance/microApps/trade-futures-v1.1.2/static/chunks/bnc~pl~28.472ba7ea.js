(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[8293],{gIGE:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var i=n("D57K"),r=n("aTw2"),a=n("GiBP"),s=function(e){var t=e.limit,n=void 0===t?80:t,s=e.symbol,o=e.isFutures,l=void 0!==o&&o,c=e.isDelivery,u=void 0!==c&&c;return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e=l?u?"/dapi":"/fapi":"/api",[4,(0,r.U2)(e+"/v1/aggTrades?"+(0,a.DT)({limit:n,symbol:s}))];case 1:return[2,t.sent()]}}))}))},o=n("GMmk"),l=n("C4wm"),c={a:"aggTradeId",f:"firstTradeId",l:"lastTradeId",p:"price",T:"tradeTime",q:"quantity",m:"buyerIsMaker"},u=function(e){var t=e.symbol,n=e.limit,r=void 0===n?80:n,a=e.stream,u=e.isFutures,d=void 0!==u&&u,m=e.isDelivery,h=void 0!==m&&m,p=(0,o.N)((function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,s({symbol:t,limit:r,isFutures:d,isDelivery:h})];case 1:return e=a.sent(),n=Object.keys(c),[2,(e||[]).map((function(e){return n.reduce((function(t,n){var r,a=c[n];return(0,i.__assign)((0,i.__assign)({},t),((r={})[a]=e[n],r))}),{symbol:t})}))]}}))}))}),[t],{value:[]}),f=p.value,v=p.loading,y=p.updateTime,g=(0,l.y)({symbol:t,limit:r,stream:a}),S=g.update,x=g.trades;return{loading:v,updateTime:y,streamTimeStamp:S,trades:(0,i.__spreadArray)((0,i.__spreadArray)([],f),x).slice(-r)}}},UFWJ:(e,t,n)=>{"use strict";n.d(t,{a:()=>F,H:()=>R});var i,r=n("D57K"),a=n("/SIk"),s=n.n(a),o=n("aWzz"),l=n.n(o),c=n("XgzE"),u=n("Bcqe"),d=n.n(u),m=n("2q8g"),h=n.n(m),p=n("nnRT"),f=n.n(p),v=n("APA6"),y=n("O94r"),g=n.n(y),S=n("j3/i"),x=n("DDYV"),_=n("7nmT"),E=n("1mez"),T={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},b=(0,a.memo)((function(e){var t=e.show,n=void 0===t||t,i=e.fullScreen,a=void 0!==i&&i,o=e.inner,l=e.children,c=e.zIndex;if(!n)return l||null;var u=s().createElement(E.Z,{sx:(0,r.__assign)({zIndex:c||"100"},T)});return a?s().createElement(s().Fragment,null,l,s().createElement("div",{style:{position:o?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(rgba(0, 0, 0, 0.05) 30%, transparent)",zIndex:2e3}},u)):s().createElement(s().Fragment,null,l,u)}));b.show=function(e){var t=(void 0===e?{}:e).fullScreen,n=void 0!==t&&t;i||(i=document.createElement("div"),document.body.appendChild(i)),_.render(s().createElement(b,{fullScreen:n}),i)},b.hide=function(){i&&_.render(s().createElement(b,{show:!1}),i)};const w=b;var I={fontSize:0,textAlign:"center",padding:"8px 6px",color:"t.third"};const k=(0,a.memo)((function(e){var t=e.children,n=(0,r.__rest)(e,["children"]);return s().createElement(v.Z,(0,r.__assign)({sx:I,className:"emptyLine"},n),t)}));var C=n("3575"),D=n("eXgv"),L=n("Tr4L"),H=function(){return(0,L.$)().i18n.language||"undefined"!==typeof window&&window.localStorage.i18nextLng||"en"},M=function(){var e=H();return(0,D.yV)(e)};c.t7.displayName="FixedSizeList";var R=(0,a.memo)((function(e){var t=e.className,n=e.children,i=(0,r.__rest)(e,["className","children"]),a=g()("list-item-entity",t);return s().createElement(s().Fragment,null,s().createElement("div",(0,r.__assign)({className:a},i),n),s().createElement(S.xB,{styles:{".list-item-entity":{display:"flex",alignItems:"center",justifyContent:" space-between",flex:1}}}))})),K=function(){},A=(0,r.__read)([38,40],2),z=A[0],N=A[1],F=function(e){var t=e.displayName||e.name||"Component",n=function(t){var n=function(){var e=M();return(0,C.cp)(e)}();return s().createElement(e,(0,r.__assign)({},t,{direction:n}))};return n.displayName="WithDirection("+t+")",n}(function(e){function t(t){var n,i=e.call(this,t)||this;return i.state={isScrolling:!1,isHover:!1,activeId:0,scrollOffset:0},i.renderItem=function(e){var t=e.index,n=e.style,a=i.props,o=a.dataSource,l=a.itemElement,c=a.openShotCut,u=i.state.activeId,d=!!c&&u===t;return s().createElement(s().Fragment,null,s().createElement("div",{style:n,className:"list-item-container"},s().createElement(l,(0,r.__assign)({},o[t],{activeId:u,active:d}))),s().createElement(S.xB,{styles:{".list-item-container":{display:"flex",alignItems:"center",overflowX:"hidden"}}}))},i.renderChild=function(){var e=i.props,t=e.dataSource,n=void 0===t?[]:t,a=e.itemKey,o=e.itemHeight,l=e.loading,u=void 0!==l&&l,d=e.loadWithContent,m=void 0!==d&&d,h=e.direction,p=e.listSx,f=void 0===p?{}:p,v=e.emptyText,y=e.emptyChildren,g=i.state.isScrolling,S=!u&&0===n.length;i.ListStyle=(0,r.__assign)({direction:h},f);var _=s().createElement(x.Z,{className:"list-auto-sizer"},(function(e){var t=e.width,l=e.height;return s().createElement(c.t7,{style:(0,r.__assign)({direction:h},f),className:"fixed-size-list",width:t,height:l,itemCount:n.length,itemSize:o,itemData:n,itemKey:a,overscanCount:g?10:1,outerRef:i.outerListRef,innerRef:i.innerListRef,useIsScrolling:!0},i.renderItem)}));return u?m?s().createElement(s().Fragment,null,s().createElement(w,{fullScreen:!0,inner:!0}),_):s().createElement(w,{fullScreen:!0,inner:!0}):S?s().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1}},y||(v?s().createElement(k,null,v):null)):_},i.handleScroll=d()(i.handleScroll.bind(i),200),i.handleMouseEnter=i.handleMouseEnter.bind(i),i.handleMouseLeave=i.handleMouseLeave.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.keyScroll=i.keyScroll.bind(i),i.outerListRef=s().createRef(null),i.innerListRef=s().createRef(null),i.maxHeight=t.itemHeight,i.minHeight=.1,i.eventAttached=!1,i.keys=((n={})[z]=0,n[N]=0,n),i}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.openShotCut&&(this.eventAttached=!0,document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())},t.prototype.componentDidUpdate=function(){this.props.openShotCut&&(this.eventAttached||document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())},t.prototype.componentWillUnmount=function(){this.eventAttached&&(this.eventAttached=!1,document.removeEventListener("keydown",this.handleKeyDown)),this.clearTimer()},t.prototype.shouldComponentUpdate=function(e,t){return f()(e.dataSource,this.props.dataSource)?e.loading!==this.props.loading||e.itemHeight!==this.props.itemHeight||e.listSx!==this.props.listSx:(!t.isScrolling||!this.state.isScrolling)&&t.isHover===this.state.isHover},t.prototype.handleMouseEnter=function(){this.setState({isHover:!0})},t.prototype.handleMouseLeave=function(){this.setState({isHover:!1})},t.prototype.handleScroll=function(){var e=this;this.state.isHover&&(this.setState({isScrolling:!0}),this.clearTimer(),this.timer=setTimeout((function(){e.setState({isScrolling:!1})}),1e3))},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.handleKeyDown=function(e){var t,n=e.keyCode,i=e.metaKey,r=e.ctrlKey,a=this.props,s=a.itemHeight,o=a.dataSource,l=a.openShotCut,c=a.onKeyDownCallback,u=a.tradeType,d=this.state.activeId;if(l&&(13===n||n===z||n===N)&&(e&&e.preventDefault(),e.stopPropagation(),this.keys=((t={})[z]=Math.max(this.minHeight,this.state.scrollOffset-s),t[N]=Math.min(this.state.scrollOffset+s,this.maxHeight),t),this.keys[n]&&this.scrollItem(this.keys[n]),13===n)){var m=o.filter((function(e,t){return t===d})),p=m.length?m[0]:{};h()(c)&&c({data:p,metaKey:i,ctrlKey:r,tradeType:u})}},t.prototype.keyScroll=function(){this.innerListRef.current&&(this.maxHeight=this.innerListRef.current.style.height.replace("px","")||this.props.itemHeight),this.outerListRef.current&&this.outerListRef.current.scrollTo({left:0,top:this.state.scrollOffset,behavior:"auto"})},t.prototype.scrollItem=function(e){this.setState({activeId:Math.floor(e/this.props.itemHeight),scrollOffset:e})},t.prototype.render=function(){var e=this.props,t=e.variant,n=e.sx,i=e.tx,r=e.scrollPerf,a=void 0===r||r;return s().createElement(v.Z,{onScroll:a?this.handleScroll:K,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,__css:{position:"relative",display:"flex",flexDirection:"column",flexGrow:1},className:"list-container",variant:t,sx:n,tx:i},this.renderChild())},t.propTypes={dataSource:l().array.isRequired,itemElement:l().elementType.isRequired,itemHeight:l().number.isRequired,itemKey:l().func,sx:l().object,tx:l().string,variant:l().string,loading:l().bool,openShotCut:l().bool,onKeyDownCallback:l().func,emptyText:l().string,tradeType:l().string},t}(s().Component))},T4aT:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i=n("5vwO"),r=n("/SIk"),a=n.n(r),s=n("9h1+"),o=n("v2M8"),l=n("LTcb"),c=n("LcTY"),u=n("VM/Z"),d=n("gIGE"),m=n("SJeZ"),h=n("ca2E"),p=n("H3aL"),f=a().createElement;const v=({price:e,buyerIsMaker:t,quantity:n,tradeTime:i})=>{const{isCoinUnit:r}=(0,h.QV)(),a=(0,s.j2)(),{contractVal:o,equalQtyPrecision:c}=a,u=r?(0,p.unitChangeCoinQty)({quantity:n,contractVal:o,price:e,precision:c,format:!1}):n;return f(l.GK,{price:e,quantity:u,formatQty:!r,buyerIsMaker:t,tradeTime:i})},y=a().memo(v);var g=a().createElement;const S=({sx:e={}})=>{const[t,n]=(0,s.z4)(),{formatMi:a,formatTk:p}=(0,s.mC)(),{getI18n:f}=(0,l.Rk)(),{getI18n:v}=(0,m.yk)(),[,S]=n,x=(0,s.j2)(),{isCoinUnit:_}=(0,h.QV)(),E=[{text:`${f("price",{defaultValue:"Price"})}(${S})`,area:"left"},{text:`${f("amount",{defaultValue:"Amount"})}(${_?x.baseAsset:v("Cont")})`,area:"right"},{text:f("time",{defaultValue:"Time"}),area:"right"}],{trades:T,loading:b}=(0,d.K)({symbol:t,stream:(0,u.RU)(),isFutures:!0,isDelivery:!0}),w=(0,r.useCallback)((e=>{c.T.emit(c.F.UPDATE_ORDER_PRICE_INPUT,e.price)}),[]);return g(o.Z,{sx:(0,i.Z)({pr:"0",pl:"0",pb:"8px"},e)},g(l.ZP,{headers:E,trades:T,loading:b,tradeItem:y,itemHeight:18,formatMi:a,formatTk:p,onItemClick:w}))},x=a().memo(S)}}]);