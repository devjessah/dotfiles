(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[3175],{vKbb:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var i=n("D57K"),r=n("jd5H"),a=n("OH3c"),o=function(e){var t=e.limit,n=void 0===t?80:t,o=e.symbol,s=e.isFutures,l=void 0!==s&&s,c=e.isDelivery,d=void 0!==c&&c;return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e=l?d?"/dapi":"/fapi":"/api",[4,(0,r.U2)(e+"/v1/aggTrades?"+(0,a.DT)({limit:n,symbol:o}))];case 1:return[2,t.sent()]}}))}))},s=n("RCKr"),l=n("xAl0"),c={a:"aggTradeId",f:"firstTradeId",l:"lastTradeId",p:"price",T:"tradeTime",q:"quantity",m:"buyerIsMaker"},d=function(e){var t=e.symbol,n=e.limit,r=void 0===n?80:n,a=e.stream,d=e.isFutures,m=void 0!==d&&d,u=e.isDelivery,h=void 0!==u&&u,f=(0,s.N)((function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,o({symbol:t,limit:r,isFutures:m,isDelivery:h})];case 1:return e=a.sent(),n=Object.keys(c),[2,(e||[]).map((function(e){return n.reduce((function(t,n){var r,a=c[n];return(0,i.__assign)((0,i.__assign)({},t),((r={})[a]=e[n],r))}),{symbol:t})}))]}}))}))}),[t],{value:[]}),p=f.value,y=f.loading,v=f.updateTime,g=(0,l.y)({symbol:t,limit:r,stream:a}),x=g.update,S=g.trades;return{loading:y,updateTime:v,streamTimeStamp:x,trades:(0,i.__spreadArray)((0,i.__spreadArray)([],p),S).slice(-r)}}},k1bI:(e,t,n)=>{"use strict";n.d(t,{a:()=>j,H:()=>M});var i,r=n("D57K"),a=n("/SIk"),o=n.n(a),s=n("aWzz"),l=n.n(s),c=n("XgzE"),d=n("Bcqe"),m=n.n(d),u=n("2q8g"),h=n.n(u),f=n("nnRT"),p=n.n(f),y=n("w7Tp"),v=n("O94r"),g=n.n(v),x=n("j3/i"),S=n("DDYV"),E=n("7nmT"),_=n("rUHi"),b={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},w=(0,a.memo)((function(e){var t=e.show,n=void 0===t||t,i=e.fullScreen,a=void 0!==i&&i,s=e.inner,l=e.children,c=e.zIndex;if(!n)return l||null;var d=o().createElement(_.Z,{sx:(0,r.__assign)({zIndex:c||"100"},b)});return a?o().createElement(o().Fragment,null,l,o().createElement("div",{style:{position:s?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(rgba(0, 0, 0, 0.05) 30%, transparent)",zIndex:2e3}},d)):o().createElement(o().Fragment,null,l,d)}));w.show=function(e){var t=(void 0===e?{}:e).fullScreen,n=void 0!==t&&t;i||(i=document.createElement("div"),document.body.appendChild(i)),E.render(o().createElement(w,{fullScreen:n}),i)},w.hide=function(){i&&E.render(o().createElement(w,{show:!1}),i)};const k=w;var T={fontSize:0,textAlign:"center",padding:"8px 6px",color:"t.third"};const C=(0,a.memo)((function(e){var t=e.children,n=(0,r.__rest)(e,["children"]);return o().createElement(y.Z,(0,r.__assign)({sx:T,className:"emptyLine"},n),t)}));var I=n("Q+lc"),H=n("Z7ZE"),D=n("Tr4L"),L=function(){return(0,D.$)().i18n.language||"undefined"!==typeof window&&window.localStorage.i18nextLng||"en"},K=function(){var e=L();return(0,H.yV)(e)};c.t7.displayName="FixedSizeList";var M=(0,a.memo)((function(e){var t=e.className,n=e.children,i=(0,r.__rest)(e,["className","children"]),a=g()("list-item-entity",t);return o().createElement(o().Fragment,null,o().createElement("div",(0,r.__assign)({className:a},i),n),o().createElement(x.xB,{styles:{".list-item-entity":{display:"flex",alignItems:"center",justifyContent:" space-between",flex:1}}}))})),R=function(){},N=(0,r.__read)([38,40],2),A=N[0],z=N[1],j=function(e){var t=e.displayName||e.name||"Component",n=function(t){var n=function(){var e=K();return(0,I.cp)(e)}();return o().createElement(e,(0,r.__assign)({},t,{direction:n}))};return n.displayName="WithDirection("+t+")",n}(function(e){function t(t){var n,i=e.call(this,t)||this;return i.state={isScrolling:!1,isHover:!1,activeId:0,scrollOffset:0},i.renderItem=function(e){var t=e.index,n=e.style,a=i.props,s=a.dataSource,l=a.itemElement,c=a.openShotCut,d=i.state.activeId,m=!!c&&d===t;return o().createElement(o().Fragment,null,o().createElement("div",{style:n,className:"list-item-container"},o().createElement(l,(0,r.__assign)({},s[t],{activeId:d,active:m}))),o().createElement(x.xB,{styles:{".list-item-container":{display:"flex",alignItems:"center",overflowX:"hidden"}}}))},i.renderChild=function(){var e=i.props,t=e.dataSource,n=void 0===t?[]:t,a=e.itemKey,s=e.itemHeight,l=e.loading,d=void 0!==l&&l,m=e.loadWithContent,u=void 0!==m&&m,h=e.direction,f=e.listSx,p=void 0===f?{}:f,y=e.emptyText,v=e.emptyChildren,g=i.state.isScrolling,x=!d&&0===n.length;i.ListStyle=(0,r.__assign)({direction:h},p);var E=o().createElement(S.Z,{className:"list-auto-sizer"},(function(e){var t=e.width,l=e.height;return o().createElement(c.t7,{style:(0,r.__assign)({direction:h},p),className:"fixed-size-list",width:t,height:l,itemCount:n.length,itemSize:s,itemData:n,itemKey:a,overscanCount:g?10:1,outerRef:i.outerListRef,innerRef:i.innerListRef,useIsScrolling:!0},i.renderItem)}));return d?u?o().createElement(o().Fragment,null,o().createElement(k,{fullScreen:!0,inner:!0}),E):o().createElement(k,{fullScreen:!0,inner:!0}):x?o().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1}},v||(y?o().createElement(C,null,y):null)):E},i.handleScroll=m()(i.handleScroll.bind(i),200),i.handleMouseEnter=i.handleMouseEnter.bind(i),i.handleMouseLeave=i.handleMouseLeave.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.keyScroll=i.keyScroll.bind(i),i.outerListRef=o().createRef(null),i.innerListRef=o().createRef(null),i.maxHeight=t.itemHeight,i.minHeight=.1,i.eventAttached=!1,i.keys=((n={})[A]=0,n[z]=0,n),i}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.openShotCut&&(this.eventAttached=!0,document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())},t.prototype.componentDidUpdate=function(){this.props.openShotCut&&(this.eventAttached||document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())},t.prototype.componentWillUnmount=function(){this.eventAttached&&(this.eventAttached=!1,document.removeEventListener("keydown",this.handleKeyDown)),this.clearTimer()},t.prototype.shouldComponentUpdate=function(e,t){return p()(e.dataSource,this.props.dataSource)?e.loading!==this.props.loading||e.itemHeight!==this.props.itemHeight||e.listSx!==this.props.listSx:(!t.isScrolling||!this.state.isScrolling)&&t.isHover===this.state.isHover},t.prototype.handleMouseEnter=function(){this.setState({isHover:!0})},t.prototype.handleMouseLeave=function(){this.setState({isHover:!1})},t.prototype.handleScroll=function(){var e=this;this.state.isHover&&(this.setState({isScrolling:!0}),this.clearTimer(),this.timer=setTimeout((function(){e.setState({isScrolling:!1})}),1e3))},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.handleKeyDown=function(e){var t,n=e.keyCode,i=e.metaKey,r=e.ctrlKey,a=this.props,o=a.itemHeight,s=a.dataSource,l=a.openShotCut,c=a.onKeyDownCallback,d=a.tradeType,m=this.state.activeId;if(l&&(13===n||n===A||n===z)&&(e&&e.preventDefault(),e.stopPropagation(),this.keys=((t={})[A]=Math.max(this.minHeight,this.state.scrollOffset-o),t[z]=Math.min(this.state.scrollOffset+o,this.maxHeight),t),this.keys[n]&&this.scrollItem(this.keys[n]),13===n)){var u=s.filter((function(e,t){return t===m})),f=u.length?u[0]:{};h()(c)&&c({data:f,metaKey:i,ctrlKey:r,tradeType:d})}},t.prototype.keyScroll=function(){this.innerListRef.current&&(this.maxHeight=this.innerListRef.current.style.height.replace("px","")||this.props.itemHeight),this.outerListRef.current&&this.outerListRef.current.scrollTo({left:0,top:this.state.scrollOffset,behavior:"auto"})},t.prototype.scrollItem=function(e){this.setState({activeId:Math.floor(e/this.props.itemHeight),scrollOffset:e})},t.prototype.render=function(){var e=this.props,t=e.variant,n=e.sx,i=e.tx,r=e.scrollPerf,a=void 0===r||r;return o().createElement(y.Z,{onScroll:a?this.handleScroll:R,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,__css:{position:"relative",display:"flex",flexDirection:"column",flexGrow:1},className:"list-container",variant:t,sx:n,tx:i},this.renderChild())},t.propTypes={dataSource:l().array.isRequired,itemElement:l().elementType.isRequired,itemHeight:l().number.isRequired,itemKey:l().func,sx:l().object,tx:l().string,variant:l().string,loading:l().bool,openShotCut:l().bool,onKeyDownCallback:l().func,emptyText:l().string,tradeType:l().string},t}(o().Component))},"/uHq":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n("D57K"),r=n("/SIk"),a=n.n(r),o=n("ka4r"),s=n("/yzf"),l=[70,75,60],c=function(e){return(l[e]||0)+"px"};const d=a().memo((function(e){var t=e.headers;return a().createElement(o.Z,{sx:{alignItems:"center",justifyContent:"space-between","& .left":{textAlign:"left",justifyContent:"flex-start"},"& .right":{textAlign:"right",justifyContent:"flex-end"},"> div":{textAlign:"center",alignItems:"center",justifyContent:"center"},px:["0","sm"],py:"8px"}},t.map((function(e,t){return a().createElement(o.Z,{key:t,className:e.area,sx:{userSelect:"none",height:"16px"},style:{minWidth:c(t)}},a().createElement(s.Z,{title:e.text,sx:{fontSize:0,color:"t.third"}},e.text))})))}));var m={"& .trade-list-item":{padding:"0 12px 0 16px !important",cursor:"pointer",fontSize:0,fontWeight:"normal","& .left":{textAlign:"left",justifyContent:"flex-start"},"& .right":{textAlign:"right",justifyContent:"flex-end",color:"t.secondary"},"&-buy .price":{color:"t.buy"},"&-sell .price":{color:"t.sell"},"& .text":{color:"t.secondary"},"& .time":{color:"t.secondary"},"@media screen and (max-width: 768px)":{padding:"0 !important"}}},u=n("k1bI");const h=a().memo((function(e){var t=e.trades,n=e.loading,i=e.itemHeight,r=void 0===i?18:i,o=e.tradeItem,s=e.emptyText;return a().createElement(u.a,{sx:m,dataSource:t,loading:n,itemElement:o,itemHeight:r,emptyText:s})}));var f=n("HDtI");const p=a().memo((function(e){var t=e.price,n=e.buyerIsMaker,i=e.quantity,o=e.tradeTime,s=e.formatPrice,l=void 0===s||s,d=e.formatQty,m=e.formatDate,h=void 0===m||m,p=e.formatMi,y=e.formatTk,v=e.onRowClick,g=e.side,x="undefined"===typeof n?g.toLocaleLowerCase():n?"sell":"buy",S=(0,r.useCallback)((function(){v({price:t,side:x})}),[t,x]);return a().createElement(u.H,{className:"trade-list-item trade-list-item-"+x,onClick:S},a().createElement("div",{className:"price left",style:{minWidth:c(0)}},l?y(t):t),a().createElement("div",{className:"text right",style:{minWidth:c(1)}},d?p(i):i),a().createElement("div",{className:"text right",style:{minWidth:c(2)}},h?(0,f.v)(new Date(o),"hh:mm:ss"):o))}));var y=function(e,t){return t[e].tradeId};const v=a().memo((function(e){var t=e.trades,n=e.loading,r=e.itemHeight,o=e.formatTk,s=e.formatMi,l=e.formatQty,c=void 0===l||l,m=e.onRowClick,u=e.headers,f=e.emptyText,v=a().useMemo((function(){return function(e){return a().createElement(p,(0,i.__assign)({formatQty:c,formatMi:s,formatTk:o,onRowClick:m},e))}}),[s,o,m,c]);return a().createElement(a().Fragment,null,a().createElement(d,{headers:u}),a().createElement(h,{trades:t,loading:n,itemHeight:r,tradeItem:v,itemKey:y,emptyText:f}))}))}}]);